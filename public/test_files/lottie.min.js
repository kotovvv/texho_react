var a,b;"undefined"!=typeof navigator&&(a=window||{},b=function(window){"use strict";function ProjectInterface(){return{}}function roundValues(a){bm_rnd=a?Math.round:function(a){return a}}function styleDiv(a){a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.display="block",a.style.transformOrigin=a.style.webkitTransformOrigin="0 0",a.style.backfaceVisibility=a.style.webkitBackfaceVisibility="visible",a.style.transformStyle=a.style.webkitTransformStyle=a.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(a,b,c,d){this.type=a,this.currentTime=b,this.totalTime=c,this.direction=0>d?-1:1}function BMCompleteEvent(a,b){this.type=a,this.direction=0>b?-1:1}function BMCompleteLoopEvent(a,b,c,d){this.type=a,this.currentLoop=c,this.totalLoops=b,this.direction=0>d?-1:1}function BMSegmentStartEvent(a,b,c){this.type=a,this.firstFrame=b,this.totalFrames=c}function BMDestroyEvent(a,b){this.type=a,this.target=b}function BMRenderFrameErrorEvent(a,b){this.type="renderFrameError",this.nativeError=a,this.currentTime=b}function BMConfigErrorEvent(a){this.type="configError",this.nativeError=a}function BMAnimationConfigErrorEvent(a,b){this.type=a,this.nativeError=b,this.currentTime=currentTime}function HSVtoRGB(a,b,c){var d,e,f,g,h,i,j,k;switch(i=c*(1-b),j=c*(1-(h=6*a-(g=Math.floor(6*a)))*b),k=c*(1-(1-h)*b),g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}return[d,e,f]}function RGBtoHSV(a,b,c){var d,e=Math.max(a,b,c),f=Math.min(a,b,c),g=e-f,h=0===e?0:g/e,i=e/255;switch(e){case f:d=0;break;case a:d=b-c+g*(c>b?6:0),d/=6*g;break;case b:d=c-a+2*g,d/=6*g;break;case c:d=a-b+4*g,d/=6*g}return[d,h,i]}function addSaturationToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[1]+=b,1<c[1]?c[1]=1:c[1]<=0&&(c[1]=0),HSVtoRGB(c[0],c[1],c[2])}function addBrightnessToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[2]+=b,1<c[2]?c[2]=1:c[2]<0&&(c[2]=0),HSVtoRGB(c[0],c[1],c[2])}function addHueToRGB(a,b){var c=RGBtoHSV(255*a[0],255*a[1],255*a[2]);return c[0]+=b/360,1<c[0]?c[0]-=1:c[0]<0&&(c[0]+=1),HSVtoRGB(c[0],c[1],c[2])}function BaseEvent(){}function createSizedArray(a){return Array.apply(null,{length:a})}function createNS(a){return document.createElementNS(svgNS,a)}function createTag(a){return document.createElement(a)}function DynamicPropertyContainer(){}function extendPrototype(a,b){var c,d,e=a.length;for(c=0;e>c;c+=1)for(var f in d=a[c].prototype)d.hasOwnProperty(f)&&(b.prototype[f]=d[f])}function getDescriptor(a,b){return Object.getOwnPropertyDescriptor(a,b)}function createProxyFunction(a){function b(){}return b.prototype=a,b}function bezFunction(){function a(a,b,c,d,e,f){var g=a*d+b*e+c*f-e*d-f*a-c*b;return g>-.001&&.001>g}function b(a){this.segmentLength=0,this.points=new Array(a)}function c(a,b){this.partialLength=a,this.point=b}function d(a,b){var c=b.percents,d=b.lengths,e=c.length,f=bm_floor((e-1)*a),g=a*b.addedLength,h=0;if(f===e-1||0===f||g===d[f])return c[f];for(var i=d[f]>g?-1:1,j=!0;j;)if(d[f]<=g&&d[f+1]>g?(h=(g-d[f])/(d[f+1]-d[f]),j=!1):f+=i,0>f||f>=e-1){if(f===e-1)return c[f];j=!1}return c[f]+(c[f+1]-c[f])*h}Math;var e,f=function(a,b,c,d){var e,f,g,h,i,j,k=defaultCurveSegments,l=0,m=[],n=[],o=bezier_length_pool.newElement();for(g=c.length,e=0;k>e;e+=1){for(i=e/(k-1),f=j=0;g>f;f+=1)h=bm_pow(1-i,3)*a[f]+3*bm_pow(1-i,2)*i*c[f]+3*(1-i)*bm_pow(i,2)*d[f]+bm_pow(i,3)*b[f],m[f]=h,null!==n[f]&&(j+=bm_pow(m[f]-n[f],2)),n[f]=m[f];j&&(l+=j=bm_sqrt(j)),o.percents[e]=i,o.lengths[e]=l}return o.addedLength=l,o},g=(e={},function(d,f,g,h){var i=(d[0]+"_"+d[1]+"_"+f[0]+"_"+f[1]+"_"+g[0]+"_"+g[1]+"_"+h[0]+"_"+h[1]).replace(/\./g,"p");if(!e[i]){var j,k,l,m,n,o,p,q=defaultCurveSegments,r=0,s=null;2===d.length&&(d[0]!=f[0]||d[1]!=f[1])&&a(d[0],d[1],f[0],f[1],d[0]+g[0],d[1]+g[1])&&a(d[0],d[1],f[0],f[1],f[0]+h[0],f[1]+h[1])&&(q=2);var t=new b(q);for(l=g.length,j=0;q>j;j+=1){for(p=createSizedArray(l),n=j/(q-1),k=o=0;l>k;k+=1)m=bm_pow(1-n,3)*d[k]+3*bm_pow(1-n,2)*n*(d[k]+g[k])+3*(1-n)*bm_pow(n,2)*(f[k]+h[k])+bm_pow(n,3)*f[k],p[k]=m,null!==s&&(o+=bm_pow(p[k]-s[k],2));r+=o=bm_sqrt(o),t.points[j]=new c(o,p),s=p}t.segmentLength=r,e[i]=t}return e[i]}),h=createTypedArray("float32",8);return{getSegmentsLength:function(a){var b,c=segments_length_pool.newElement(),d=a.c,e=a.v,g=a.o,h=a.i,i=a._length,j=c.lengths,k=0;for(b=0;i-1>b;b+=1)j[b]=f(e[b],e[b+1],g[b],h[b+1]),k+=j[b].addedLength;return d&&i&&(j[b]=f(e[b],e[0],g[b],h[0]),k+=j[b].addedLength),c.totalLength=k,c},getNewSegment:function(a,b,c,e,f,g,i){var j,k=d(f=0>f?0:f>1?1:f,i),l=d(g=g>1?1:g,i),m=a.length,n=1-k,o=1-l,p=n*n*n,q=k*n*n*3,r=k*k*n*3,s=k*k*k,t=n*n*o,u=k*n*o+n*k*o+n*n*l,v=k*k*o+n*k*l+k*n*l,w=k*k*l,x=n*o*o,y=k*o*o+n*l*o+n*o*l,z=k*l*o+n*l*l+k*o*l,A=k*l*l,B=o*o*o,C=l*o*o+o*l*o+o*o*l,D=l*l*o+o*l*l+l*o*l,E=l*l*l;for(j=0;m>j;j+=1)h[4*j]=Math.round(1e3*(p*a[j]+q*c[j]+r*e[j]+s*b[j]))/1e3,h[4*j+1]=Math.round(1e3*(t*a[j]+u*c[j]+v*e[j]+w*b[j]))/1e3,h[4*j+2]=Math.round(1e3*(x*a[j]+y*c[j]+z*e[j]+A*b[j]))/1e3,h[4*j+3]=Math.round(1e3*(B*a[j]+C*c[j]+D*e[j]+E*b[j]))/1e3;return h},getPointInSegment:function(a,b,c,e,f,g){var h=d(f,g),i=1-h;return[Math.round(1e3*(i*i*i*a[0]+(h*i*i+i*h*i+i*i*h)*c[0]+(h*h*i+i*h*h+h*i*h)*e[0]+h*h*h*b[0]))/1e3,Math.round(1e3*(i*i*i*a[1]+(h*i*i+i*h*i+i*i*h)*c[1]+(h*h*i+i*h*h+h*i*h)*e[1]+h*h*h*b[1]))/1e3]},buildBezierData:g,pointOnLine2D:a,pointOnLine3D:function(b,c,d,e,f,g,h,i,j){if(0===d&&0===g&&0===j)return a(b,c,e,f,h,i);var k,l=Math.sqrt(Math.pow(e-b,2)+Math.pow(f-c,2)+Math.pow(g-d,2)),m=Math.sqrt(Math.pow(h-b,2)+Math.pow(i-c,2)+Math.pow(j-d,2)),n=Math.sqrt(Math.pow(h-e,2)+Math.pow(i-f,2)+Math.pow(j-g,2));return-1e-4<(k=l>m?l>n?l-m-n:n-m-l:n>m?n-m-l:m-l-n)&&1e-4>k}}}function dataFunctionManager(){function a(a,b){for(var c=0,d=b.length;d>c;){if(b[c].id===a)return b[c].layers.__used?JSON.parse(JSON.stringify(b[c].layers)):(b[c].layers.__used=!0,b[c].layers);c+=1}}function b(a){var d,e,f;for(d=a.length-1;d>=0;d-=1)if("sh"==a[d].ty)if(a[d].ks.k.i)c(a[d].ks.k);else for(f=a[d].ks.k.length,e=0;f>e;e+=1)a[d].ks.k[e].s&&c(a[d].ks.k[e].s[0]),a[d].ks.k[e].e&&c(a[d].ks.k[e].e[0]);else"gr"==a[d].ty&&b(a[d].it)}function c(a){var b,c=a.i.length;for(b=0;c>b;b+=1)a.i[b][0]+=a.v[b][0],a.i[b][1]+=a.v[b][1],a.o[b][0]+=a.v[b][0],a.o[b][1]+=a.v[b][1]}function d(a,b){var c=b?b.split("."):[100,100,100];return a[0]>c[0]||!(c[0]>a[0])&&(a[1]>c[1]||!(c[1]>a[1])&&(a[2]>c[2]||!(c[2]>a[2])&&void 0))}var e,f=function(){function a(a){var b,c,d,e=a.length;for(b=0;e>b;b+=1)5===a[b].ty&&(c=a[b],d=c.t.d,c.t.d={k:[{s:d,t:0}]})}var b=[4,4,14];return function(c){if(d(b,c.v)&&(a(c.layers),c.assets)){var e,f=c.assets.length;for(e=0;f>e;e+=1)c.assets[e].layers&&a(c.assets[e].layers)}}}(),g=(e=[4,7,99],function(a){if(a.chars&&!d(e,a.v)){var b,f,g,h,i,j=a.chars.length;for(b=0;j>b;b+=1)if(a.chars[b].data&&a.chars[b].data.shapes)for(g=(i=a.chars[b].data.shapes[0].it).length,f=0;g>f;f+=1)(h=i[f].ks.k).__converted||(c(i[f].ks.k),h.__converted=!0)}}),h=function(){function a(b){var c,d,e,f=b.length;for(c=0;f>c;c+=1)if("gr"===b[c].ty)a(b[c].it);else if("fl"===b[c].ty||"st"===b[c].ty)if(b[c].c.k&&b[c].c.k[0].i)for(e=b[c].c.k.length,d=0;e>d;d+=1)b[c].c.k[d].s&&(b[c].c.k[d].s[0]/=255,b[c].c.k[d].s[1]/=255,b[c].c.k[d].s[2]/=255,b[c].c.k[d].s[3]/=255),b[c].c.k[d].e&&(b[c].c.k[d].e[0]/=255,b[c].c.k[d].e[1]/=255,b[c].c.k[d].e[2]/=255,b[c].c.k[d].e[3]/=255);else b[c].c.k[0]/=255,b[c].c.k[1]/=255,b[c].c.k[2]/=255,b[c].c.k[3]/=255}function b(b){var c,d=b.length;for(c=0;d>c;c+=1)4===b[c].ty&&a(b[c].shapes)}var c=[4,1,9];return function(a){if(d(c,a.v)&&(b(a.layers),a.assets)){var e,f=a.assets.length;for(e=0;f>e;e+=1)a.assets[e].layers&&b(a.assets[e].layers)}}}(),i=function(){function a(b){var c,d,e;for(c=b.length-1;c>=0;c-=1)if("sh"==b[c].ty)if(b[c].ks.k.i)b[c].ks.k.c=b[c].closed;else for(e=b[c].ks.k.length,d=0;e>d;d+=1)b[c].ks.k[d].s&&(b[c].ks.k[d].s[0].c=b[c].closed),b[c].ks.k[d].e&&(b[c].ks.k[d].e[0].c=b[c].closed);else"gr"==b[c].ty&&a(b[c].it)}function b(b){var c,d,e,f,g,h,i=b.length;for(d=0;i>d;d+=1){if((c=b[d]).hasMask){var j=c.masksProperties;for(f=j.length,e=0;f>e;e+=1)if(j[e].pt.k.i)j[e].pt.k.c=j[e].cl;else for(h=j[e].pt.k.length,g=0;h>g;g+=1)j[e].pt.k[g].s&&(j[e].pt.k[g].s[0].c=j[e].cl),j[e].pt.k[g].e&&(j[e].pt.k[g].e[0].c=j[e].cl)}4===c.ty&&a(c.shapes)}}var c=[4,4,18];return function(a){if(d(c,a.v)&&(b(a.layers),a.assets)){var e,f=a.assets.length;for(e=0;f>e;e+=1)a.assets[e].layers&&b(a.assets[e].layers)}}}(),j={};return j.completeData=function(d,e){d.__complete||(h(d),f(d),g(d),i(d),function j(d,e,f){var g,h,i,k,l,m,n,o=d.length;for(h=0;o>h;h+=1)if("ks"in(g=d[h])&&!g.completed){if(g.completed=!0,g.tt&&(d[h-1].td=g.tt),g.hasMask){var p=g.masksProperties;for(k=p.length,i=0;k>i;i+=1)if(p[i].pt.k.i)c(p[i].pt.k);else for(m=p[i].pt.k.length,l=0;m>l;l+=1)p[i].pt.k[l].s&&c(p[i].pt.k[l].s[0]),p[i].pt.k[l].e&&c(p[i].pt.k[l].e[0])}0===g.ty?(g.layers=a(g.refId,e),j(g.layers,e,f)):4===g.ty?b(g.shapes):5==g.ty&&(0!==(n=g).t.a.length||"m"in n.t.p||(n.singleShape=!0))}}(d.layers,d.assets,e),d.__complete=!0)},j}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(a,b,c,d){this.elem=a,this.frameId=-1,this.dataProps=createSizedArray(b.length),this.renderer=c,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",b.length?b.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(d);var e,f,g=b.length||0;for(e=0;g>e;e+=1)f=PropertyFactory.getProp(a,b[e].v,0,0,this),this.k=f.k||this.k,this.dataProps[e]={n:b[e].n,p:f};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(a,b,c){this.data=b,this.c=createTypedArray("uint8c",4*b.p);var d=b.k.k[0].s?b.k.k[0].s.length-4*b.p:b.k.k.length-4*b.p;this.o=createTypedArray("float32",d),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=d,this.initDynamicPropertyContainer(c),this.prop=PropertyFactory.getProp(a,b.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function TextAnimatorProperty(a,b,c){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=a,this._renderType=b,this._elem=c,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(c)}function TextAnimatorDataProperty(a,b,c){var d={propType:!1},e=PropertyFactory.getProp,f=b.a;this.a={r:f.r?e(a,f.r,0,degToRads,c):d,rx:f.rx?e(a,f.rx,0,degToRads,c):d,ry:f.ry?e(a,f.ry,0,degToRads,c):d,sk:f.sk?e(a,f.sk,0,degToRads,c):d,sa:f.sa?e(a,f.sa,0,degToRads,c):d,s:f.s?e(a,f.s,1,.01,c):d,a:f.a?e(a,f.a,1,0,c):d,o:f.o?e(a,f.o,0,.01,c):d,p:f.p?e(a,f.p,1,0,c):d,sw:f.sw?e(a,f.sw,0,0,c):d,sc:f.sc?e(a,f.sc,1,0,c):d,fc:f.fc?e(a,f.fc,1,0,c):d,fh:f.fh?e(a,f.fh,0,0,c):d,fs:f.fs?e(a,f.fs,0,.01,c):d,fb:f.fb?e(a,f.fb,0,.01,c):d,t:f.t?e(a,f.t,0,0,c):d},this.s=TextSelectorProp.getTextSelectorProp(a,b.s,c),this.s.t=b.s.t}function LetterProps(a,b,c,d,e,f){this.o=a,this.sw=b,this.sc=c,this.fc=d,this.m=e,this.p=f,this._mdf={o:!0,sw:!!b,sc:!!c,fc:!!d,m:!0,p:!0}}function TextProperty(a,b){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=b,this.elem=a,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}function BaseRenderer(){}function SVGRenderer(a,b){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var c="";if(b&&b.title){var d=createNS("title"),e=createElementID();d.setAttribute("id",e),d.textContent=b.title,this.svgElement.appendChild(d),c+=e}if(b&&b.description){var f=createNS("desc"),g=createElementID();f.setAttribute("id",g),f.textContent=b.description,this.svgElement.appendChild(f),c+=" "+g}c&&this.svgElement.setAttribute("aria-labelledby",c);var h=createNS("defs");this.svgElement.appendChild(h);var i=createNS("g");this.svgElement.appendChild(i),this.layerElement=i,this.renderConfig={preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:b&&b.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:b&&b.progressiveLoad||!1,hideOnTransparent:!b||!1!==b.hideOnTransparent,viewBoxOnly:b&&b.viewBoxOnly||!1,viewBoxSize:b&&b.viewBoxSize||!1,className:b&&b.className||"",focusable:b&&b.focusable},this.globalData={_mdf:!1,frameNum:-1,defs:h,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(a,b){this.animationItem=a,this.renderConfig={clearCanvas:!b||void 0===b.clearCanvas||b.clearCanvas,context:b&&b.context||null,progressiveLoad:b&&b.progressiveLoad||!1,preserveAspectRatio:b&&b.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:b&&b.imagePreserveAspectRatio||"xMidYMid slice",className:b&&b.className||""},this.renderConfig.dpr=b&&b.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=b&&b.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(a,b){this.animationItem=a,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:b&&b.className||"",imagePreserveAspectRatio:b&&b.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!b||!1!==b.hideOnTransparent},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(a,b,c){this.data=a,this.element=b,this.globalData=c,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var d,e=this.globalData.defs,f=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(f),this.solidPath="";var g,h,i,j,k,l,m,n=this.masksProperties,o=0,p=[],q=createElementID(),r="clipPath",s="clip-path";for(d=0;f>d;d++)if(("a"!==n[d].mode&&"n"!==n[d].mode||n[d].inv||100!==n[d].o.k||n[d].o.x)&&(s=r="mask"),"s"!=n[d].mode&&"i"!=n[d].mode||0!==o?j=null:((j=createNS("rect")).setAttribute("fill","#ffffff"),j.setAttribute("width",this.element.comp.data.w||0),j.setAttribute("height",this.element.comp.data.h||0),p.push(j)),g=createNS("path"),"n"!=n[d].mode){var t;if(o+=1,g.setAttribute("fill","s"===n[d].mode?"#000000":"#ffffff"),g.setAttribute("clip-rule","nonzero"),0!==n[d].x.k?(s=r="mask",m=PropertyFactory.getProp(this.element,n[d].x,0,null,this.element),t=createElementID(),(k=createNS("filter")).setAttribute("id",t),(l=createNS("feMorphology")).setAttribute("operator","erode"),l.setAttribute("in","SourceGraphic"),l.setAttribute("radius","0"),k.appendChild(l),e.appendChild(k),g.setAttribute("stroke","s"===n[d].mode?"#000000":"#ffffff")):m=l=null,this.storedData[d]={elem:g,x:m,expan:l,lastPath:"",lastOperator:"",filterId:t,lastRadius:0},"i"==n[d].mode){i=p.length;var u=createNS("g");for(h=0;i>h;h+=1)u.appendChild(p[h]);var v=createNS("mask");v.setAttribute("mask-type","alpha"),v.setAttribute("id",q+"_"+o),v.appendChild(g),e.appendChild(v),u.setAttribute("mask","url("+locationHref+"#"+q+"_"+o+")"),p.length=0,p.push(u)}else p.push(g);n[d].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[d]={elem:g,lastPath:"",op:PropertyFactory.getProp(this.element,n[d].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,n[d],3),invRect:j},this.viewData[d].prop.k||this.drawPath(n[d],this.viewData[d].prop.v,this.viewData[d])}else this.viewData[d]={op:PropertyFactory.getProp(this.element,n[d].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,n[d],3),elem:g,lastPath:""},e.appendChild(g);for(this.maskElement=createNS(r),f=p.length,d=0;f>d;d+=1)this.maskElement.appendChild(p[d]);o>0&&(this.maskElement.setAttribute("id",q),this.element.maskedElement.setAttribute(s,"url("+locationHref+"#"+q+")"),e.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(a,b){this.elem=a,this.pos=b}function SVGStyleData(a,b){this.data=a,this.type=a.ty,this.d="",this.lvl=b,this._mdf=!1,this.closed=!0===a.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(a,b,c){this.caches=[],this.styles=[],this.transformers=a,this.lStr="",this.sh=c,this.lvl=b,this._isAnimated=!!c.k;for(var d=0,e=a.length;e>d;){if(a[d].mProps.dynamicProperties.length){this._isAnimated=!0;break}d+=1}}function SVGTransformData(a,b,c){this.transform={mProps:a,op:b,container:c},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(a,b.o,0,.01,this),this.w=PropertyFactory.getProp(a,b.w,0,null,this),this.d=new DashProperty(a,b.d||{},"svg",this),this.c=PropertyFactory.getProp(a,b.c,1,255,this),this.style=c,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(a,b.o,0,.01,this),this.c=PropertyFactory.getProp(a,b.c,1,255,this),this.style=c}function SVGGradientFillStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.initGradientData(a,b,c)}function SVGGradientStrokeStyleData(a,b,c){this.initDynamicPropertyContainer(a),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(a,b.w,0,null,this),this.d=new DashProperty(a,b.d||{},"svg",this),this.initGradientData(a,b,c),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(a,b,c,d){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var e=4;"rc"==b.ty?e=5:"el"==b.ty?e=6:"sr"==b.ty&&(e=7),this.sh=ShapePropertyFactory.getShapeProp(a,b,e,a);var f,g,h=c.length;for(f=0;h>f;f+=1)c[f].closed||(g={transforms:d.addTransformSequence(c[f].transforms),trNodes:[]},this.styledShapes.push(g),c[f].elements.push(g))}function BaseElement(){}function NullElement(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initFrame(),this.initTransform(a,b,c),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(a,b,c){this.assetData=b.getAssetData(a.refId),this.initElement(a,b,c),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(a,b,c){this.initElement(a,b,c)}function SVGCompElement(a,b,c){this.layers=a.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(a,b,c),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0}}function SVGTextElement(a,b,c){this.textSpans=[],this.renderType="svg",this.initElement(a,b,c)}function SVGShapeElement(a,b,c){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(a,b,c),this.prevViewData=[]}function SVGTintFilter(a,b){this.filterManager=b;var c=createNS("feColorMatrix");if(c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","linearRGB"),c.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),c.setAttribute("result","f1"),a.appendChild(c),(c=createNS("feColorMatrix")).setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),c.setAttribute("result","f2"),a.appendChild(c),this.matrixFilter=c,100!==b.effectElements[2].p.v||b.effectElements[2].p.k){var d,e=createNS("feMerge");a.appendChild(e),(d=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),e.appendChild(d),(d=createNS("feMergeNode")).setAttribute("in","f2"),e.appendChild(d)}}function SVGFillFilter(a,b){this.filterManager=b;var c=createNS("feColorMatrix");c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.appendChild(c),this.matrixFilter=c}function SVGGaussianBlurEffect(a,b){a.setAttribute("x","-100%"),a.setAttribute("y","-100%"),a.setAttribute("width","300%"),a.setAttribute("height","300%"),this.filterManager=b;var c=createNS("feGaussianBlur");a.appendChild(c),this.feGaussianBlur=c}function SVGStrokeEffect(a,b){this.initialized=!1,this.filterManager=b,this.elem=a,this.paths=[]}function SVGTritoneFilter(a,b){this.filterManager=b;var c=createNS("feColorMatrix");c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","linearRGB"),c.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),c.setAttribute("result","f1"),a.appendChild(c);var d=createNS("feComponentTransfer");d.setAttribute("color-interpolation-filters","sRGB"),a.appendChild(d),this.matrixFilter=d;var e=createNS("feFuncR");e.setAttribute("type","table"),d.appendChild(e),this.feFuncR=e;var f=createNS("feFuncG");f.setAttribute("type","table"),d.appendChild(f),this.feFuncG=f;var g=createNS("feFuncB");g.setAttribute("type","table"),d.appendChild(g),this.feFuncB=g}function SVGProLevelsFilter(a,b){this.filterManager=b;var c=this.filterManager.effectElements,d=createNS("feComponentTransfer");(c[10].p.k||0!==c[10].p.v||c[11].p.k||1!==c[11].p.v||c[12].p.k||1!==c[12].p.v||c[13].p.k||0!==c[13].p.v||c[14].p.k||1!==c[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",d)),(c[17].p.k||0!==c[17].p.v||c[18].p.k||1!==c[18].p.v||c[19].p.k||1!==c[19].p.v||c[20].p.k||0!==c[20].p.v||c[21].p.k||1!==c[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",d)),(c[24].p.k||0!==c[24].p.v||c[25].p.k||1!==c[25].p.v||c[26].p.k||1!==c[26].p.v||c[27].p.k||0!==c[27].p.v||c[28].p.k||1!==c[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",d)),(c[31].p.k||0!==c[31].p.v||c[32].p.k||1!==c[32].p.v||c[33].p.k||1!==c[33].p.v||c[34].p.k||0!==c[34].p.v||c[35].p.k||1!==c[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",d)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(d.setAttribute("color-interpolation-filters","sRGB"),a.appendChild(d),d=createNS("feComponentTransfer")),(c[3].p.k||0!==c[3].p.v||c[4].p.k||1!==c[4].p.v||c[5].p.k||1!==c[5].p.v||c[6].p.k||0!==c[6].p.v||c[7].p.k||1!==c[7].p.v)&&(d.setAttribute("color-interpolation-filters","sRGB"),a.appendChild(d),this.feFuncRComposed=this.createFeFunc("feFuncR",d),this.feFuncGComposed=this.createFeFunc("feFuncG",d),this.feFuncBComposed=this.createFeFunc("feFuncB",d))}function SVGDropShadowEffect(a,b){a.setAttribute("x","-100%"),a.setAttribute("y","-100%"),a.setAttribute("width","400%"),a.setAttribute("height","400%"),this.filterManager=b;var c=createNS("feGaussianBlur");c.setAttribute("in","SourceAlpha"),c.setAttribute("result","drop_shadow_1"),c.setAttribute("stdDeviation","0"),this.feGaussianBlur=c,a.appendChild(c);var d=createNS("feOffset");d.setAttribute("dx","25"),d.setAttribute("dy","0"),d.setAttribute("in","drop_shadow_1"),d.setAttribute("result","drop_shadow_2"),this.feOffset=d,a.appendChild(d);var e=createNS("feFlood");e.setAttribute("flood-color","#00ff00"),e.setAttribute("flood-opacity","1"),e.setAttribute("result","drop_shadow_3"),this.feFlood=e,a.appendChild(e);var f=createNS("feComposite");f.setAttribute("in","drop_shadow_3"),f.setAttribute("in2","drop_shadow_2"),f.setAttribute("operator","in"),f.setAttribute("result","drop_shadow_4"),a.appendChild(f);var g,h=createNS("feMerge");a.appendChild(h),g=createNS("feMergeNode"),h.appendChild(g),(g=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=g,this.feMerge=h,this.originalNodeAdded=!1,h.appendChild(g)}function SVGMatte3Effect(a,b,c){this.initialized=!1,this.filterManager=b,this.filterElem=a,(this.elem=c).matteElement=createNS("g"),c.matteElement.appendChild(c.layerElement),c.matteElement.appendChild(c.transformedElement),c.baseElement=c.matteElement}function SVGEffects(a){var b,c,d=a.data.ef?a.data.ef.length:0,e=createElementID(),f=filtersFactory.createFilter(e),g=0;for(this.filters=[],b=0;d>b;b+=1)c=null,20===a.data.ef[b].ty?(g+=1,c=new SVGTintFilter(f,a.effectsManager.effectElements[b])):21===a.data.ef[b].ty?(g+=1,c=new SVGFillFilter(f,a.effectsManager.effectElements[b])):22===a.data.ef[b].ty?c=new SVGStrokeEffect(a,a.effectsManager.effectElements[b]):23===a.data.ef[b].ty?(g+=1,c=new SVGTritoneFilter(f,a.effectsManager.effectElements[b])):24===a.data.ef[b].ty?(g+=1,c=new SVGProLevelsFilter(f,a.effectsManager.effectElements[b])):25===a.data.ef[b].ty?(g+=1,c=new SVGDropShadowEffect(f,a.effectsManager.effectElements[b])):28===a.data.ef[b].ty?c=new SVGMatte3Effect(f,a.effectsManager.effectElements[b],a):29===a.data.ef[b].ty&&(g+=1,c=new SVGGaussianBlurEffect(f,a.effectsManager.effectElements[b])),c&&this.filters.push(c);g&&(a.globalData.defs.appendChild(f),a.layerElement.setAttribute("filter","url("+locationHref+"#"+e+")")),this.filters.length&&a.addRenderableComponent(this)}function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var a;for(this.savedOp=createTypedArray("float32",15),a=0;15>a;a+=1)this.saved[a]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(a,b,c){this.assetData=b.getAssetData(a.refId),this.img=b.imageLoader.getImage(this.assetData),this.initElement(a,b,c)}function CVCompElement(a,b,c){this.completeLayers=!1,this.layers=a.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(a,b,c),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0}}function CVMaskElement(a,b){this.data=a,this.element=b,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var c,d=this.masksProperties.length,e=!1;for(c=0;d>c;c++)"n"!==this.masksProperties[c].mode&&(e=!0),this.viewData[c]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[c],3);(this.hasMasks=e)&&this.element.addRenderableComponent(this)}function CVShapeElement(a,b,c){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(a,b,c)}function CVSolidElement(a,b,c){this.initElement(a,b,c)}function CVTextElement(a,b,c){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(a,b,c)}function CVEffects(){}function HBaseElement(a,b,c){}function HSolidElement(a,b,c){this.initElement(a,b,c)}function HCompElement(a,b,c){this.layers=a.layers,this.supports3d=!a.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(a,b,c),this.tm=a.tm?PropertyFactory.getProp(this,a.tm,0,b.frameRate,this):{_placeholder:!0}}function HShapeElement(a,b,c){this.shapes=[],this.shapesData=a.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(a,b,c),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(a,b,c){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(a,b,c)}function HImageElement(a,b,c){this.assetData=b.getAssetData(a.refId),this.initElement(a,b,c)}function HCameraElement(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initHierarchy();var d=PropertyFactory.getProp;if(this.pe=d(this,a.pe,0,0,this),a.ks.p.s?(this.px=d(this,a.ks.p.x,1,0,this),this.py=d(this,a.ks.p.y,1,0,this),this.pz=d(this,a.ks.p.z,1,0,this)):this.p=d(this,a.ks.p,1,0,this),a.ks.a&&(this.a=d(this,a.ks.a,1,0,this)),a.ks.or.k.length&&a.ks.or.k[0].to){var e,f=a.ks.or.k.length;for(e=0;f>e;e+=1)a.ks.or.k[e].to=null,a.ks.or.k[e].ti=null}this.or=d(this,a.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=d(this,a.ks.rx,0,degToRads,this),this.ry=d(this,a.ks.ry,0,degToRads,this),this.rz=d(this,a.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}function SliderEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function AngleEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function ColorEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function PointEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,1,0,c)}function LayerIndexEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function MaskIndexEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function CheckboxEffect(a,b,c){this.p=PropertyFactory.getProp(b,a.v,0,0,c)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(a,b){var c=a.ef||[];this.effectElements=[];var d,e,f=c.length;for(d=0;f>d;d++)e=new GroupEffect(c[d],b),this.effectElements.push(e)}function GroupEffect(a,b){this.init(a,b)}function setLocationHref(a){locationHref=a}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(a){subframeEnabled=a}function loadAnimation(a){return!0===standalone&&(a.animationData=JSON.parse(animationData)),animationManager.loadAnimation(a)}function setQuality(a){if("string"==typeof a)switch(a){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(a)&&a>1&&(defaultCurveSegments=a);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(a,b){"expressions"===a&&(expressionsPlugin=b)}function getFactory(a){switch(a){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(a){for(var b=queryString.split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(decodeURIComponent(d[0])==a)return decodeURIComponent(d[1])}}var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};
!function(){var a,b=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],c=b.length;for(a=0;c>a;a+=1)BMMath[b[a]]=Math[b[a]]}(),BMMath.random=Math.random,BMMath.abs=function(a){if("object"==typeof a&&a.length){var b,c=createSizedArray(a.length),d=a.length;for(b=0;d>b;b+=1)c[b]=Math.abs(a[b]);return c}return Math.abs(a)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;roundValues(!1);var createElementID=(I=0,function(){return"__lottie_element_"+ ++I}),I,rgbToHex=function(){var a,b,c=[];for(a=0;256>a;a+=1)b=a.toString(16),c[a]=1==b.length?"0"+b:b;return function(a,b,d){return 0>a&&(a=0),0>b&&(b=0),0>d&&(d=0),"#"+c[a]+c[b]+c[d]}}();BaseEvent.prototype={triggerEvent:function(a,b){if(this._cbs[a])for(var c=this._cbs[a].length,d=0;c>d;d++)this._cbs[a][d](b)},addEventListener:function(a,b){return this._cbs[a]||(this._cbs[a]=[]),this._cbs[a].push(b),function(){this.removeEventListener(a,b)}.bind(this)},removeEventListener:function(a,b){if(b){if(this._cbs[a]){for(var c=0,d=this._cbs[a].length;d>c;)this._cbs[a][c]===b&&(this._cbs[a].splice(c,1),c-=1,d-=1),c+=1;this._cbs[a].length||(this._cbs[a]=null)}}else this._cbs[a]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(a,b){return"float32"===a?new Float32Array(b):"int16"===a?new Int16Array(b):"uint8c"===a?new Uint8ClampedArray(b):void 0}:function(a,b){var c,d=0,e=[];switch(a){case"int16":case"uint8c":c=1;break;default:c=1.1}for(d=0;b>d;d+=1)e.push(c);return e};DynamicPropertyContainer.prototype={addDynamicProperty:function(a){-1===this.dynamicProperties.indexOf(a)&&(this.dynamicProperties.push(a),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var a,b=this.dynamicProperties.length;for(a=0;b>a;a+=1)this.dynamicProperties[a].getValue(),this.dynamicProperties[a]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(a){this.container=a,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(Ra={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(a){return Ra[a]||""}),Ra,Matrix=function(){function a(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function b(a){if(0===a)return this;var b=C(a),c=D(a);return this._t(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1)}function c(a){if(0===a)return this;var b=C(a),c=D(a);return this._t(1,0,0,0,0,b,-c,0,0,c,b,0,0,0,0,1)}function d(a){if(0===a)return this;var b=C(a),c=D(a);return this._t(b,0,c,0,0,1,0,0,-c,0,b,0,0,0,0,1)}function e(a){if(0===a)return this;var b=C(a),c=D(a);return this._t(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1)}function f(a,b){return this._t(1,b,a,1,0,0)}function g(a,b){return this.shear(E(a),E(b))}function h(a,b){var c=C(b),d=D(b);return this._t(c,d,0,0,-d,c,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,E(a),1,0,0,0,0,1,0,0,0,0,1)._t(c,-d,0,0,d,c,0,0,0,0,1,0,0,0,0,1)}function i(a,b,c){return c||0===c||(c=1),1===a&&1===b&&1===c?this:this._t(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1)}function j(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return this.props[0]=a,this.props[1]=b,this.props[2]=c,this.props[3]=d,this.props[4]=e,this.props[5]=f,this.props[6]=g,this.props[7]=h,this.props[8]=i,this.props[9]=j,this.props[10]=k,this.props[11]=l,this.props[12]=m,this.props[13]=n,this.props[14]=o,this.props[15]=p,this}function k(a,b,c){return c=c||0,0!==a||0!==b||0!==c?this._t(1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1):this}function l(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.props;if(1===a&&0===b&&0===c&&0===d&&0===e&&1===f&&0===g&&0===h&&0===i&&0===j&&1===k&&0===l)return q[12]=q[12]*a+q[15]*m,q[13]=q[13]*f+q[15]*n,q[14]=q[14]*k+q[15]*o,q[15]=q[15]*p,this._identityCalculated=!1,this;var r=q[0],s=q[1],t=q[2],u=q[3],v=q[4],w=q[5],x=q[6],y=q[7],z=q[8],A=q[9],B=q[10],C=q[11],D=q[12],E=q[13],F=q[14],G=q[15];return q[0]=r*a+s*e+t*i+u*m,q[1]=r*b+s*f+t*j+u*n,q[2]=r*c+s*g+t*k+u*o,q[3]=r*d+s*h+t*l+u*p,q[4]=v*a+w*e+x*i+y*m,q[5]=v*b+w*f+x*j+y*n,q[6]=v*c+w*g+x*k+y*o,q[7]=v*d+w*h+x*l+y*p,q[8]=z*a+A*e+B*i+C*m,q[9]=z*b+A*f+B*j+C*n,q[10]=z*c+A*g+B*k+C*o,q[11]=z*d+A*h+B*l+C*p,q[12]=D*a+E*e+F*i+G*m,q[13]=D*b+E*f+F*j+G*n,q[14]=D*c+E*g+F*k+G*o,q[15]=D*d+E*h+F*l+G*p,this._identityCalculated=!1,this}function m(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function n(a){for(var b=0;16>b;){if(a.props[b]!==this.props[b])return!1;b+=1}return!0}function o(a){var b;for(b=0;16>b;b+=1)a.props[b]=this.props[b]}function p(a){var b;for(b=0;16>b;b+=1)this.props[b]=a[b]}function q(a,b,c){return{x:a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],y:a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],z:a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}}function r(a,b,c){return a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12]}function s(a,b,c){return a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13]}function t(a,b,c){return a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]}function u(a){var b=this.props[0]*this.props[5]-this.props[1]*this.props[4],c=this.props[5]/b,d=-this.props[1]/b,e=-this.props[4]/b,f=this.props[0]/b,g=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/b,h=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/b;return[a[0]*c+a[1]*e+g,a[0]*d+a[1]*f+h,0]}function v(a){var b,c=a.length,d=[];for(b=0;c>b;b+=1)d[b]=u(a[b]);return d}function w(a,b,c){var d=createTypedArray("float32",6);if(this.isIdentity())d[0]=a[0],d[1]=a[1],d[2]=b[0],d[3]=b[1],d[4]=c[0],d[5]=c[1];else{var e=this.props[0],f=this.props[1],g=this.props[4],h=this.props[5],i=this.props[12],j=this.props[13];d[0]=a[0]*e+a[1]*g+i,d[1]=a[0]*f+a[1]*h+j,d[2]=b[0]*e+b[1]*g+i,d[3]=b[0]*f+b[1]*h+j,d[4]=c[0]*e+c[1]*g+i,d[5]=c[0]*f+c[1]*h+j}return d}function x(a,b,c){return this.isIdentity()?[a,b,c]:[a*this.props[0]+b*this.props[4]+c*this.props[8]+this.props[12],a*this.props[1]+b*this.props[5]+c*this.props[9]+this.props[13],a*this.props[2]+b*this.props[6]+c*this.props[10]+this.props[14]]}function y(a,b){if(this.isIdentity())return a+","+b;var c=this.props;return Math.round(100*(a*c[0]+b*c[4]+c[12]))/100+","+Math.round(100*(a*c[1]+b*c[5]+c[13]))/100}function z(){for(var a=0,b=this.props,c="matrix3d(";16>a;)c+=F(1e4*b[a])/1e4,c+=15===a?")":",",a+=1;return c}function A(a){return 1e-6>a&&a>0||a>-1e-6&&0>a?F(1e4*a)/1e4:a}function B(){var a=this.props;return"matrix("+A(a[0])+","+A(a[1])+","+A(a[4])+","+A(a[5])+","+A(a[12])+","+A(a[13])+")"}var C=Math.cos,D=Math.sin,E=Math.tan,F=Math.round;return function(){this.reset=a,this.rotate=b,this.rotateX=c,this.rotateY=d,this.rotateZ=e,this.skew=g,this.skewFromAxis=h,this.shear=f,this.scale=i,this.setTransform=j,this.translate=k,this.transform=l,this.applyToPoint=q,this.applyToX=r,this.applyToY=s,this.applyToZ=t,this.applyToPointArray=x,this.applyToTriplePoints=w,this.applyToPointStringified=y,this.toCSS=z,this.to2dCSS=B,this.clone=o,this.cloneFromProps=p,this.equals=n,this.inversePoints=v,this.inversePoint=u,this._t=this.transform,this.isIdentity=m,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(a,b){function c(a){var b,c=a.length,d=this,e=0,f=d.i=d.j=0,g=d.S=[];for(c||(a=[c++]);i>e;)g[e]=e++;for(e=0;i>e;e++)g[e]=g[f=o&f+a[e%c]+(b=g[e])],g[f]=b;d.g=function(a){for(var b,c=0,e=d.i,f=d.j,g=d.S;a--;)b=g[e=o&e+1],c=c*i+g[o&(g[e]=g[f=o&f+b])+(g[f]=b)];return d.i=e,d.j=f,c}}function d(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function e(a,b){for(var c,d=a+"",e=0;e<d.length;)b[o&e]=o&(c^=19*b[o&e])+d.charCodeAt(e++);return f(b)}function f(a){return String.fromCharCode.apply(0,a)}var g,h=this,i=256,j=6,k="random",l=b.pow(i,j),m=b.pow(2,52),n=2*m,o=i-1;b["seed"+k]=function(o,p,q){var r=[],s=e(function v(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(v(a[c],b-1))}catch(v){}return d.length?d:"string"==e?a:a+"\x00"}((p=!0===p?{entropy:!0}:p||{}).entropy?[o,f(a)]:null===o?function(){try{if(g)return f(g.randomBytes(i));var b=new Uint8Array(i);return(h.crypto||h.msCrypto).getRandomValues(b),f(b)}catch(b){var c=h.navigator,d=c&&c.plugins;return[+new Date,h,d,h.screen,f(a)]}}():o,3),r),t=new c(r),u=function(){for(var a=t.g(j),b=l,c=0;m>a;)a=(a+c)*i,b*=i,c=t.g(1);for(;a>=n;)a/=2,b/=2,c>>>=1;return(a+c)/b};return u.int32=function(){return 0|t.g(4)},u.quick=function(){return t.g(4)/4294967296},u["double"]=u,e(f(t.S),a),(p.pass||q||function(a,c,e,f){return f&&(f.S&&d(f,t),a.state=function(){return d(t,{})}),e?(b[k]=a,c):a})(u,s,"global"in p?p.global:this==b,p.state)},e(b.random(),a)}([],BMMath);var BezierFactory=function(){function a(a,b){return 1-3*b+3*a}function b(a,b){return 3*b-6*a}function c(a){return 3*a}function d(d,e,f){return((a(e,f)*d+b(e,f))*d+c(e))*d}function e(d,e,f){return 3*a(e,f)*d*d+2*b(e,f)*d+c(e)}function f(a){this._p=a,this._mSampleValues=k?new Float32Array(i):new Array(i),this._precomputed=!1,this.get=this.get.bind(this)}var g={getBezierEasing:function(a,b,c,d,e){var g=e||("bez_"+a+"_"+b+"_"+c+"_"+d).replace(/\./g,"p");if(h[g])return h[g];var i=new f([a,b,c,d]);return h[g]=i}},h={},i=11,j=1/(i-1),k="function"==typeof Float32Array;return f.prototype={get:function(a){var b=this._p[0],c=this._p[1],e=this._p[2],f=this._p[3];return this._precomputed||this._precompute(),b===c&&e===f?a:0===a?0:1===a?1:d(this._getTForX(a),c,f)},_precompute:function(){var a=this._p[0],b=this._p[1],c=this._p[2],d=this._p[3];this._precomputed=!0,a===b&&c===d||this._calcSampleValues()},_calcSampleValues:function(){for(var a=this._p[0],b=this._p[2],c=0;i>c;++c)this._mSampleValues[c]=d(c*j,a,b)},_getTForX:function(a){for(var b=this._p[0],c=this._p[2],f=this._mSampleValues,g=0,h=1,k=i-1;h!==k&&f[h]<=a;++h)g+=j;var l=g+(a-f[--h])/(f[h+1]-f[h])*j,m=e(l,b,c);return m>=.001?function(a,b,c,f){for(var g=0;4>g;++g){var h=e(b,c,f);if(0===h)return b;b-=(d(b,c,f)-a)/h}return b}(a,l,b,c):0===m?l:function(a,b,c,e,f){for(var g,h,i=0;0<(g=d(h=b+(c-b)/2,e,f)-a)?c=h:b=h,1e-7<Math.abs(g)&&++i<10;);return h}(a,g,g+j,b,c)}},g}();!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var bez=bezFunction(),dataManager=dataFunctionManager(),FontManager=function(){function a(a,b){var c=createTag("span");c.style.fontFamily=b;var d=createTag("span");d.innerHTML="giItT1WQy@!-/#",c.style.position="absolute",c.style.left="-10000px",c.style.top="-10000px",c.style.fontSize="300px",c.style.fontVariant="normal",c.style.fontStyle="normal",c.style.fontWeight="normal",c.style.letterSpacing="0",c.appendChild(d),document.body.appendChild(c);var e=d.offsetWidth;return d.style.fontFamily=a+", "+b,{node:d,w:e,parent:c}}var b={w:0,size:0,shapes:[]},c=[];c=c.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var d=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return d.getCombinedCharacterCodes=function(){return c},d.prototype.addChars=function(a){if(a){this.chars||(this.chars=[]);var b,c,d,e=a.length,f=this.chars.length;for(b=0;e>b;b+=1){for(c=0,d=!1;f>c;)this.chars[c].style===a[b].style&&this.chars[c].fFamily===a[b].fFamily&&this.chars[c].ch===a[b].ch&&(d=!0),c+=1;d||(this.chars.push(a[b]),f+=1)}}},d.prototype.addFonts=function(b,c){if(b){if(this.chars)return this.isLoaded=!0,void(this.fonts=b.list);var d,e,f,g,h=b.list,i=h.length,j=i;for(d=0;i>d;d+=1){var k,l,m=!0;if(h[d].loaded=!1,h[d].monoCase=a(h[d].fFamily,"monospace"),h[d].sansCase=a(h[d].fFamily,"sans-serif"),h[d].fPath){if("p"===h[d].fOrigin||3===h[d].origin){if(0<(k=document.querySelectorAll('style[f-forigin="p"][f-family="'+h[d].fFamily+'"], style[f-origin="3"][f-family="'+h[d].fFamily+'"]')).length&&(m=!1),m){var n=createTag("style");n.setAttribute("f-forigin",h[d].fOrigin),n.setAttribute("f-origin",h[d].origin),n.setAttribute("f-family",h[d].fFamily),n.type="text/css",n.innerHTML="@font-face {font-family: "+h[d].fFamily+"; font-style: normal; src: url('"+h[d].fPath+"');}",c.appendChild(n)}}else if("g"===h[d].fOrigin||1===h[d].origin){for(k=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),l=0;l<k.length;l++)-1!==k[l].href.indexOf(h[d].fPath)&&(m=!1);if(m){var o=createTag("link");o.setAttribute("f-forigin",h[d].fOrigin),o.setAttribute("f-origin",h[d].origin),o.type="text/css",o.rel="stylesheet",o.href=h[d].fPath,document.body.appendChild(o)}}else if("t"===h[d].fOrigin||2===h[d].origin){for(k=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),l=0;l<k.length;l++)h[d].fPath===k[l].src&&(m=!1);if(m){var p=createTag("link");p.setAttribute("f-forigin",h[d].fOrigin),p.setAttribute("f-origin",h[d].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",h[d].fPath),c.appendChild(p)}}}else h[d].loaded=!0,j-=1;h[d].helper=(e=c,f=h[d],g=void 0,(g=createNS("text")).style.fontSize="100px",g.setAttribute("font-family",f.fFamily),g.setAttribute("font-style",f.fStyle),g.setAttribute("font-weight",f.fWeight),g.textContent="1",f.fClass?(g.style.fontFamily="inherit",g.setAttribute("class",f.fClass)):g.style.fontFamily=f.fFamily,e.appendChild(g),createTag("canvas").getContext("2d").font=f.fWeight+" "+f.fStyle+" 100px "+f.fFamily,g),h[d].cache={},this.fonts.push(h[d])}0===j?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},d.prototype.getCharData=function(a,c,d){for(var e=0,f=this.chars.length;f>e;){if(this.chars[e].ch===a&&this.chars[e].style===c&&this.chars[e].fFamily===d)return this.chars[e];e+=1}return("string"==typeof a&&13!==a.charCodeAt(0)||!a)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",a,c,d),b},d.prototype.getFontByName=function(a){for(var b=0,c=this.fonts.length;c>b;){if(this.fonts[b].fName===a)return this.fonts[b];b+=1}return this.fonts[0]},d.prototype.measureText=function(a,b,c){var d=this.getFontByName(b),e=a.charCodeAt(0);if(!d.cache[e+1]){var f=d.helper;if(" "===a){f.textContent="|"+a+"|";var g=f.getComputedTextLength();f.textContent="||";var h=f.getComputedTextLength();d.cache[e+1]=(g-h)/100}else f.textContent=a,d.cache[e+1]=f.getComputedTextLength()/100}return d.cache[e+1]*c},d.prototype.checkLoadedFonts=function(){var a,b,c,d=this.fonts.length,e=d;for(a=0;d>a;a+=1)this.fonts[a].loaded?e-=1:"n"===this.fonts[a].fOrigin||0===this.fonts[a].origin?this.fonts[a].loaded=!0:(b=this.fonts[a].monoCase.node,c=this.fonts[a].monoCase.w,b.offsetWidth!==c?(e-=1,this.fonts[a].loaded=!0):(b=this.fonts[a].sansCase.node,c=this.fonts[a].sansCase.w,b.offsetWidth!==c&&(e-=1,this.fonts[a].loaded=!0)),this.fonts[a].loaded&&(this.fonts[a].sansCase.parent.parentNode.removeChild(this.fonts[a].sansCase.parent),this.fonts[a].monoCase.parent.parentNode.removeChild(this.fonts[a].monoCase.parent)));0!==e&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)},d.prototype.loaded=function(){return this.isLoaded},d}(),PropertyFactory=function(){function a(a,c){var d,e=this.offsetTime;"multidimensional"===this.propType&&(d=createTypedArray("float32",this.pv.length));for(var f,g,h,i,j,k,l,m,n=c.lastIndex,o=n,p=this.keyframes.length-1,q=!0;q;){if(f=this.keyframes[o],g=this.keyframes[o+1],o===p-1&&a>=g.t-e){f.h&&(f=g),n=0;break}if(g.t-e>a){n=o;break}p-1>o?o+=1:(n=0,q=!1)}var r,s,t,u,v,w,x,y,z,A,B=g.t-e,C=f.t-e;if(f.to){f.bezierData||(f.bezierData=bez.buildBezierData(f.s,g.s||f.e,f.to,f.ti));var D=f.bezierData;if(a>=B||C>a){var E=a>=B?D.points.length-1:0;for(i=D.points[E].point.length,h=0;i>h;h+=1)d[h]=D.points[E].point[h]}else{f.__fnct?m=f.__fnct:(m=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y,f.n).get,f.__fnct=m),j=m((a-C)/(B-C));var F,G=D.segmentLength*j,H=c.lastFrame<a&&c._lastKeyframeIndex===o?c._lastAddedLength:0;for(l=c.lastFrame<a&&c._lastKeyframeIndex===o?c._lastPoint:0,q=!0,k=D.points.length;q;){if(H+=D.points[l].partialLength,0===G||0===j||l===D.points.length-1){for(i=D.points[l].point.length,h=0;i>h;h+=1)d[h]=D.points[l].point[h];break}if(G>=H&&G<H+D.points[l+1].partialLength){for(F=(G-H)/D.points[l+1].partialLength,i=D.points[l].point.length,h=0;i>h;h+=1)d[h]=D.points[l].point[h]+(D.points[l+1].point[h]-D.points[l].point[h])*F;break}k-1>l?l+=1:q=!1}c._lastPoint=l,c._lastAddedLength=H-D.points[l].partialLength,c._lastKeyframeIndex=o}}else{var I,J,K,L,M;if(p=f.s.length,r=g.s||f.e,this.sh&&1!==f.h)if(a>=B)d[0]=r[0],d[1]=r[1],d[2]=r[2];else if(C>=a)d[0]=f.s[0],d[1]=f.s[1],d[2]=f.s[2];else{var N=b(f.s),O=b(r);s=d,t=function(a,b,c){var d,e,f,g,h,i=[],j=a[0],k=a[1],l=a[2],m=a[3],n=b[0],o=b[1],p=b[2],q=b[3];return(e=j*n+k*o+l*p+m*q)<0&&(e=-e,n=-n,o=-o,p=-p,q=-q),h=1-e>1e-6?(d=Math.acos(e),f=Math.sin(d),g=Math.sin((1-c)*d)/f,Math.sin(c*d)/f):(g=1-c,c),i[0]=g*j+h*n,i[1]=g*k+h*o,i[2]=g*l+h*p,i[3]=g*m+h*q,i}(N,O,(a-C)/(B-C)),u=t[0],v=t[1],w=t[2],x=t[3],y=Math.atan2(2*v*x-2*u*w,1-2*v*v-2*w*w),z=Math.asin(2*u*v+2*w*x),A=Math.atan2(2*u*x-2*v*w,1-2*u*u-2*w*w),s[0]=y/degToRads,s[1]=z/degToRads,s[2]=A/degToRads}else for(o=0;p>o;o+=1)1!==f.h&&(j=a>=B?1:C>a?0:(f.o.x.constructor===Array?(f.__fnct||(f.__fnct=[]),f.__fnct[o]?m=f.__fnct[o]:(I=void 0===f.o.x[o]?f.o.x[0]:f.o.x[o],J=void 0===f.o.y[o]?f.o.y[0]:f.o.y[o],K=void 0===f.i.x[o]?f.i.x[0]:f.i.x[o],L=void 0===f.i.y[o]?f.i.y[0]:f.i.y[o],m=BezierFactory.getBezierEasing(I,J,K,L).get,f.__fnct[o]=m)):f.__fnct?m=f.__fnct:(I=f.o.x,J=f.o.y,K=f.i.x,L=f.i.y,m=BezierFactory.getBezierEasing(I,J,K,L).get,f.__fnct=m),m((a-C)/(B-C)))),r=g.s||f.e,M=1===f.h?f.s[o]:f.s[o]+(r[o]-f.s[o])*j,"multidimensional"===this.propType?d[o]=M:d=M}return c.lastIndex=n,d}function b(a){var b=a[0]*degToRads,c=a[1]*degToRads,d=a[2]*degToRads,e=Math.cos(b/2),f=Math.cos(c/2),g=Math.cos(d/2),h=Math.sin(b/2),i=Math.sin(c/2),j=Math.sin(d/2);return[h*i*g+e*f*j,h*f*g+e*i*j,e*i*g-h*f*j,e*f*g-h*i*j]}function c(){var a=this.comp.renderedFrame-this.offsetTime,b=this.keyframes[0].t-this.offsetTime,c=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(a===this._caching.lastFrame||this._caching.lastFrame!==k&&(this._caching.lastFrame>=c&&a>=c||this._caching.lastFrame<b&&b>a))){this._caching.lastFrame>=a&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var d=this.interpolateValue(a,this._caching);this.pv=d}return this._caching.lastFrame=a,this.pv}function d(a){var b;if("unidimensional"===this.propType)b=a*this.mult,1e-5<l(this.v-b)&&(this.v=b,this._mdf=!0);else for(var c=0,d=this.v.length;d>c;)b=a[c]*this.mult,1e-5<l(this.v[c]-b)&&(this.v[c]=b,this._mdf=!0),c+=1}function e(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var a,b=this.effectsSequence.length,c=this.kf?this.pv:this.data.k;for(a=0;b>a;a+=1)c=this.effectsSequence[a](c);this.setVValue(c),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function f(a){this.effectsSequence.push(a),this.container.addDynamicProperty(this)}function g(a,b,c,g){this.propType="unidimensional",this.mult=c||1,this.data=b,this.v=c?b.k*c:b.k,this.pv=b.k,this._mdf=!1,this.elem=a,this.container=g,this.comp=a.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=e,this.setVValue=d,this.addEffect=f}function h(a,b,c,g){this.propType="multidimensional",this.mult=c||1,this.data=b,this._mdf=!1,this.elem=a,this.container=g,this.comp=a.comp,this.k=!1,this.kf=!1,this.frameId=-1;var h,i=b.k.length;for(this.v=createTypedArray("float32",i),this.pv=createTypedArray("float32",i),createTypedArray("float32",i),this.vel=createTypedArray("float32",i),h=0;i>h;h+=1)this.v[h]=b.k[h]*this.mult,this.pv[h]=b.k[h];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=e,this.setVValue=d,this.addEffect=f}function i(b,g,h,i){this.propType="unidimensional",this.keyframes=g.k,this.offsetTime=b.data.st,this.frameId=-1,this._caching={lastFrame:k,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=g,this.mult=h||1,this.elem=b,this.container=i,this.comp=b.comp,this.v=k,this.pv=k,this._isFirstFrame=!0,this.getValue=e,this.setVValue=d,this.interpolateValue=a,this.effectsSequence=[c.bind(this)],this.addEffect=f}function j(b,g,h,i){this.propType="multidimensional";var j,l,m,n,o,p=g.k.length;for(j=0;p-1>j;j+=1)g.k[j].to&&g.k[j].s&&g.k[j].e&&(l=g.k[j].s,m=g.k[j].e,n=g.k[j].to,o=g.k[j].ti,(2===l.length&&(l[0]!==m[0]||l[1]!==m[1])&&bez.pointOnLine2D(l[0],l[1],m[0],m[1],l[0]+n[0],l[1]+n[1])&&bez.pointOnLine2D(l[0],l[1],m[0],m[1],m[0]+o[0],m[1]+o[1])||3===l.length&&(l[0]!==m[0]||l[1]!==m[1]||l[2]!==m[2])&&bez.pointOnLine3D(l[0],l[1],l[2],m[0],m[1],m[2],l[0]+n[0],l[1]+n[1],l[2]+n[2])&&bez.pointOnLine3D(l[0],l[1],l[2],m[0],m[1],m[2],m[0]+o[0],m[1]+o[1],m[2]+o[2]))&&(g.k[j].to=null,g.k[j].ti=null),l[0]===m[0]&&l[1]===m[1]&&0===n[0]&&0===n[1]&&0===o[0]&&0===o[1]&&(2===l.length||l[2]===m[2]&&0===n[2]&&0===o[2])&&(g.k[j].to=null,g.k[j].ti=null));this.effectsSequence=[c.bind(this)],this.keyframes=g.k,this.offsetTime=b.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=h||1,this.elem=b,this.container=i,this.comp=b.comp,this.getValue=e,this.setVValue=d,this.interpolateValue=a,this.frameId=-1;var q=g.k[0].s.length;for(this.v=createTypedArray("float32",q),this.pv=createTypedArray("float32",q),j=0;q>j;j+=1)this.v[j]=k,this.pv[j]=k;this._caching={lastFrame:k,lastIndex:0,value:createTypedArray("float32",q)},this.addEffect=f}var k=initialDefaultFrame,l=Math.abs;return{getProp:function(a,b,c,d,e){var f;if(b.k.length)if("number"==typeof b.k[0])f=new h(a,b,d,e);else switch(c){case 0:f=new i(a,b,d,e);break;case 1:f=new j(a,b,d,e)}else f=new g(a,b,d,e);return f.effectsSequence.length&&e.addDynamicProperty(f),f}}}(),TransformPropertyFactory=function(){function a(a,b,c){if(this.elem=a,this.frameId=-1,this.propType="transform",this.data=b,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(c||a),b.p&&b.p.s?(this.px=PropertyFactory.getProp(a,b.p.x,0,0,this),this.py=PropertyFactory.getProp(a,b.p.y,0,0,this),b.p.z&&(this.pz=PropertyFactory.getProp(a,b.p.z,0,0,this))):this.p=PropertyFactory.getProp(a,b.p||{k:[0,0,0]},1,0,this),b.rx){if(this.rx=PropertyFactory.getProp(a,b.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(a,b.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(a,b.rz,0,degToRads,this),b.or.k[0].ti){var d,e=b.or.k.length;for(d=0;e>d;d+=1)b.or.k[d].to=b.or.k[d].ti=null}this.or=PropertyFactory.getProp(a,b.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(a,b.r||{k:0},0,degToRads,this);b.sk&&(this.sk=PropertyFactory.getProp(a,b.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(a,b.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(a,b.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(a,b.s||{k:[100,100,100]},1,.01,this),b.o?this.o=PropertyFactory.getProp(a,b.o,0,.01,a):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return a.prototype={applyToMatrix:function(a){var b=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||b,this.a&&a.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&a.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&a.skewFromAxis(-this.sk.v,this.sa.v),this.r?a.rotate(-this.r.v):a.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?a.translate(this.px.v,this.py.v,-this.pz.v):a.translate(this.px.v,this.py.v,0):a.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(a){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||a){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var b,c,d=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)c=this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(b=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/d,0),this.p.getValueAtTime(this.p.keyframes[0].t/d,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(b=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/d,0),this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/d,0)):(b=this.p.pv,this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/d,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){b=[],c=[];var e=this.px,f=this.py;e._caching.lastFrame+e.offsetTime<=e.keyframes[0].t?(b[0]=e.getValueAtTime((e.keyframes[0].t+.01)/d,0),b[1]=f.getValueAtTime((f.keyframes[0].t+.01)/d,0),c[0]=e.getValueAtTime(e.keyframes[0].t/d,0),c[1]=f.getValueAtTime(f.keyframes[0].t/d,0)):e._caching.lastFrame+e.offsetTime>=e.keyframes[e.keyframes.length-1].t?(b[0]=e.getValueAtTime(e.keyframes[e.keyframes.length-1].t/d,0),b[1]=f.getValueAtTime(f.keyframes[f.keyframes.length-1].t/d,0),c[0]=e.getValueAtTime((e.keyframes[e.keyframes.length-1].t-.01)/d,0),c[1]=f.getValueAtTime((f.keyframes[f.keyframes.length-1].t-.01)/d,0)):(b=[e.pv,f.pv],c[0]=e.getValueAtTime((e._caching.lastFrame+e.offsetTime-.01)/d,e.offsetTime),c[1]=f.getValueAtTime((f._caching.lastFrame+f.offsetTime-.01)/d,f.offsetTime))}this.v.rotate(-Math.atan2(b[1]-c[1],b[0]-c[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],a),a.prototype.addDynamicProperty=function(a){this._addDynamicProperty(a),this.elem.addDynamicProperty(a),this._isDirty=!0},a.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(b,c,d){return new a(b,c,d)}}}();ShapePath.prototype.setPathData=function(a,b){this.c=a,this.setLength(b);for(var c=0;b>c;)this.v[c]=point_pool.newElement(),this.o[c]=point_pool.newElement(),this.i[c]=point_pool.newElement(),c+=1},ShapePath.prototype.setLength=function(a){for(;this._maxLength<a;)this.doubleArrayLength();this._length=a},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(a,b,c,d,e){var f;switch(this._length=Math.max(this._length,d+1),this._length>=this._maxLength&&this.doubleArrayLength(),c){case"v":f=this.v;break;case"i":f=this.i;break;case"o":f=this.o}(!f[d]||f[d]&&!e)&&(f[d]=point_pool.newElement()),f[d][0]=a,f[d][1]=b},ShapePath.prototype.setTripleAt=function(a,b,c,d,e,f,g,h){this.setXYAt(a,b,"v",g,h),this.setXYAt(c,d,"o",g,h),this.setXYAt(e,f,"i",g,h)},ShapePath.prototype.reverse=function(){var a=new ShapePath;a.setPathData(this.c,this._length);var b=this.v,c=this.o,d=this.i,e=0;this.c&&(a.setTripleAt(b[0][0],b[0][1],d[0][0],d[0][1],c[0][0],c[0][1],0,!1),e=1);var f,g=this._length-1,h=this._length;for(f=e;h>f;f+=1)a.setTripleAt(b[g][0],b[g][1],d[g][0],d[g][1],c[g][0],c[g][1],f,!1),g-=1;return a};var ShapePropertyFactory=function(){function a(a,b,c){var d,e,f,g,h,i,j,k,l,m=c.lastIndex,n=this.keyframes;if(a<n[0].t-this.offsetTime)d=n[0].s[0],f=!0,m=0;else if(a>=n[n.length-1].t-this.offsetTime)d=n[n.length-1].s?n[n.length-1].s[0]:n[n.length-2].e[0],f=!0;else{for(var o,p,q=m,r=n.length-1,s=!0;s&&(o=n[q],!((p=n[q+1]).t-this.offsetTime>a));)r-1>q?q+=1:s=!1;if(m=q,!(f=1===o.h)){if(a>=p.t-this.offsetTime)k=1;else if(a<o.t-this.offsetTime)k=0;else{var t;o.__fnct?t=o.__fnct:(t=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y).get,o.__fnct=t),k=t((a-(o.t-this.offsetTime))/(p.t-this.offsetTime-(o.t-this.offsetTime)))}e=p.s?p.s[0]:o.e[0]}d=o.s[0]}for(i=b._length,j=d.i[0].length,c.lastIndex=m,g=0;i>g;g+=1)for(h=0;j>h;h+=1)l=f?d.i[g][h]:d.i[g][h]+(e.i[g][h]-d.i[g][h])*k,b.i[g][h]=l,l=f?d.o[g][h]:d.o[g][h]+(e.o[g][h]-d.o[g][h])*k,b.o[g][h]=l,l=f?d.v[g][h]:d.v[g][h]+(e.v[g][h]-d.v[g][h])*k,b.v[g][h]=l}function b(){this.paths=this.localShapeCollection}function c(a){(function(a,b){if(a._length!==b._length||a.c!==b.c)return!1;var c,d=a._length;for(c=0;d>c;c+=1)if(a.v[c][0]!==b.v[c][0]||a.v[c][1]!==b.v[c][1]||a.o[c][0]!==b.o[c][0]||a.o[c][1]!==b.o[c][1]||a.i[c][0]!==b.i[c][0]||a.i[c][1]!==b.i[c][1])return!1;return!0})(this.v,a)||(this.v=shape_pool.clone(a),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function d(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var a,b=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,c=this.effectsSequence.length;for(a=0;c>a;a+=1)b=this.effectsSequence[a](b);this.setVValue(b),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function e(a,c,d){this.propType="shape",this.comp=a.comp,this.container=a,this.elem=a,this.data=c,this.k=!1,this.kf=!1,this._mdf=!1;var e=3===d?c.pt.k:c.ks.k;this.v=shape_pool.clone(e),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),
this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=b,this.effectsSequence=[]}function f(a){this.effectsSequence.push(a),this.container.addDynamicProperty(this)}function g(a,c,d){this.propType="shape",this.comp=a.comp,this.elem=a,this.container=a,this.offsetTime=a.data.st,this.keyframes=3===d?c.pt.k:c.ks.k,this.k=!0,this.kf=!0;var e=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,e),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=h,this.reset=b,this._caching={lastFrame:h,lastIndex:0},this.effectsSequence=[function(){var a=this.comp.renderedFrame-this.offsetTime,b=this.keyframes[0].t-this.offsetTime,c=this.keyframes[this.keyframes.length-1].t-this.offsetTime,d=this._caching.lastFrame;return d!==h&&(b>d&&b>a||d>c&&a>c)||(this._caching.lastIndex=a>d?this._caching.lastIndex:0,this.interpolateShape(a,this.pv,this._caching)),this._caching.lastFrame=a,this.pv}.bind(this)]}var h=-999999;e.prototype.interpolateShape=a,e.prototype.getValue=d,e.prototype.setVValue=c,e.prototype.addEffect=f,g.prototype.getValue=d,g.prototype.interpolateShape=a,g.prototype.setVValue=c,g.prototype.addEffect=f;var i=function(){function a(a,b){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=b.d,this.elem=a,this.comp=a.comp,this.frameId=-1,this.initDynamicPropertyContainer(a),this.p=PropertyFactory.getProp(a,b.p,1,0,this),this.s=PropertyFactory.getProp(a,b.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}var c=roundCorner;return a.prototype={reset:b,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var a=this.p.v[0],b=this.p.v[1],d=this.s.v[0]/2,e=this.s.v[1]/2,f=3!==this.d,g=this.v;g.v[0][0]=a,g.v[0][1]=b-e,g.v[1][0]=f?a+d:a-d,g.v[1][1]=b,g.v[2][0]=a,g.v[2][1]=b+e,g.v[3][0]=f?a-d:a+d,g.v[3][1]=b,g.i[0][0]=f?a-d*c:a+d*c,g.i[0][1]=b-e,g.i[1][0]=f?a+d:a-d,g.i[1][1]=b-e*c,g.i[2][0]=f?a+d*c:a-d*c,g.i[2][1]=b+e,g.i[3][0]=f?a-d:a+d,g.i[3][1]=b+e*c,g.o[0][0]=f?a+d*c:a-d*c,g.o[0][1]=b-e,g.o[1][0]=f?a+d:a-d,g.o[1][1]=b+e*c,g.o[2][0]=f?a-d*c:a+d*c,g.o[2][1]=b+e,g.o[3][0]=f?a-d:a+d,g.o[3][1]=b-e*c}},extendPrototype([DynamicPropertyContainer],a),a}(),j=function(){function a(a,b){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=a,this.comp=a.comp,this.data=b,this.frameId=-1,this.d=b.d,this.initDynamicPropertyContainer(a),1===b.sy?(this.ir=PropertyFactory.getProp(a,b.ir,0,0,this),this.is=PropertyFactory.getProp(a,b.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(a,b.pt,0,0,this),this.p=PropertyFactory.getProp(a,b.p,1,0,this),this.r=PropertyFactory.getProp(a,b.r,0,degToRads,this),this.or=PropertyFactory.getProp(a,b.or,0,0,this),this.os=PropertyFactory.getProp(a,b.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return a.prototype={reset:b,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var a,b,c,d,e=2*Math.floor(this.pt.v),f=2*Math.PI/e,g=!0,h=this.or.v,i=this.ir.v,j=this.os.v,k=this.is.v,l=2*Math.PI*h/(2*e),m=2*Math.PI*i/(2*e),n=-Math.PI/2;n+=this.r.v;var o=3===this.data.d?-1:1;for(a=this.v._length=0;e>a;a+=1){c=g?j:k,d=g?l:m;var p=(b=g?h:i)*Math.cos(n),q=b*Math.sin(n),r=0===p&&0===q?0:q/Math.sqrt(p*p+q*q),s=0===p&&0===q?0:-p/Math.sqrt(p*p+q*q);p+=+this.p.v[0],q+=+this.p.v[1],this.v.setTripleAt(p,q,p-r*d*c*o,q-s*d*c*o,p+r*d*c*o,q+s*d*c*o,a,!0),g=!g,n+=f*o}},convertPolygonToPath:function(){var a,b=Math.floor(this.pt.v),c=2*Math.PI/b,d=this.or.v,e=this.os.v,f=2*Math.PI*d/(4*b),g=-Math.PI/2,h=3===this.data.d?-1:1;for(g+=this.r.v,a=this.v._length=0;b>a;a+=1){var i=d*Math.cos(g),j=d*Math.sin(g),k=0===i&&0===j?0:j/Math.sqrt(i*i+j*j),l=0===i&&0===j?0:-i/Math.sqrt(i*i+j*j);i+=+this.p.v[0],j+=+this.p.v[1],this.v.setTripleAt(i,j,i-k*f*e*h,j-l*f*e*h,i+k*f*e*h,j+l*f*e*h,a,!0),g+=c*h}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],a),a}(),k=function(){function a(a,b){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=a,this.comp=a.comp,this.frameId=-1,this.d=b.d,this.initDynamicPropertyContainer(a),this.p=PropertyFactory.getProp(a,b.p,1,0,this),this.s=PropertyFactory.getProp(a,b.s,1,0,this),this.r=PropertyFactory.getProp(a,b.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return a.prototype={convertRectToPath:function(){var a=this.p.v[0],b=this.p.v[1],c=this.s.v[0]/2,d=this.s.v[1]/2,e=bm_min(c,d,this.r.v),f=e*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(a+c,b-d+e,a+c,b-d+e,a+c,b-d+f,0,!0),this.v.setTripleAt(a+c,b+d-e,a+c,b+d-f,a+c,b+d-e,1,!0),0!==e?(this.v.setTripleAt(a+c-e,b+d,a+c-e,b+d,a+c-f,b+d,2,!0),this.v.setTripleAt(a-c+e,b+d,a-c+f,b+d,a-c+e,b+d,3,!0),this.v.setTripleAt(a-c,b+d-e,a-c,b+d-e,a-c,b+d-f,4,!0),this.v.setTripleAt(a-c,b-d+e,a-c,b-d+f,a-c,b-d+e,5,!0),this.v.setTripleAt(a-c+e,b-d,a-c+e,b-d,a-c+f,b-d,6,!0),this.v.setTripleAt(a+c-e,b-d,a+c-f,b-d,a+c-e,b-d,7,!0)):(this.v.setTripleAt(a-c,b+d,a-c+f,b+d,a-c,b+d,2),this.v.setTripleAt(a-c,b-d,a-c,b-d+f,a-c,b-d,3))):(this.v.setTripleAt(a+c,b-d+e,a+c,b-d+f,a+c,b-d+e,0,!0),0!==e?(this.v.setTripleAt(a+c-e,b-d,a+c-e,b-d,a+c-f,b-d,1,!0),this.v.setTripleAt(a-c+e,b-d,a-c+f,b-d,a-c+e,b-d,2,!0),this.v.setTripleAt(a-c,b-d+e,a-c,b-d+e,a-c,b-d+f,3,!0),this.v.setTripleAt(a-c,b+d-e,a-c,b+d-f,a-c,b+d-e,4,!0),this.v.setTripleAt(a-c+e,b+d,a-c+e,b+d,a-c+f,b+d,5,!0),this.v.setTripleAt(a+c-e,b+d,a+c-f,b+d,a+c-e,b+d,6,!0),this.v.setTripleAt(a+c,b+d-e,a+c,b+d-e,a+c,b+d-f,7,!0)):(this.v.setTripleAt(a-c,b-d,a-c+f,b-d,a-c,b-d,1,!0),this.v.setTripleAt(a-c,b+d,a-c,b+d-f,a-c,b+d,2,!0),this.v.setTripleAt(a+c,b+d,a+c-f,b+d,a+c,b+d,3,!0)))},getValue:function(a){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:b},extendPrototype([DynamicPropertyContainer],a),a}(),l={getShapeProp:function(a,b,c){var d;return 3===c||4===c?d=(3===c?b.pt:b.ks).k.length?new g(a,b,c):new e(a,b,c):5===c?d=new k(a,b):6===c?d=new i(a,b):7===c&&(d=new j(a,b)),d.k&&a.addDynamicProperty(d),d},getConstructorFunction:function(){return e},getKeyframedConstructorFunction:function(){return g}};return l}(),ShapeModifiers=(Yr={},Zr={},Yr.registerModifier=function(a,b){Zr[a]||(Zr[a]=b)},Yr.getModifier=function(a,b,c){return new Zr[a](b,c)},Yr),Yr,Zr;ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(a){if(!this.closed){a.sh.container.addDynamicProperty(a.sh);var b={shape:a.sh,data:a,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(b),this.addShapeToModifier(b),this._isAnimated&&a.setAsAnimated()}},ShapeModifier.prototype.init=function(a,b){this.shapes=[],this.elem=a,this.initDynamicPropertyContainer(a),this.initModifierProperties(a,b),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(a,b){this.s=PropertyFactory.getProp(a,b.s,0,.01,this),this.e=PropertyFactory.getProp(a,b.e,0,.01,this),this.o=PropertyFactory.getProp(a,b.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=b.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(a){a.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(a,b,c,d,e){var f=[];1>=b?f.push({s:a,e:b}):a>=1?f.push({s:a-1,e:b-1}):(f.push({s:a,e:1}),f.push({s:0,e:b-1}));var g,h,i=[],j=f.length;for(g=0;j>g;g+=1){var k,l;(h=f[g]).e*e<d||h.s*e>d+c||(k=h.s*e<=d?0:(h.s*e-d)/c,l=h.e*e>=d+c?1:(h.e*e-d)/c,i.push([k,l]))}return i.length||i.push([0,0]),i},TrimModifier.prototype.releasePathsData=function(a){var b,c=a.length;for(b=0;c>b;b+=1)segments_length_pool.release(a[b]);return a.length=0,a},TrimModifier.prototype.processShapes=function(a){var b,c,d;if(this._mdf||a){var e=this.o.v%360/360;if(0>e&&(e+=1),b=(1<this.s.v?1:this.s.v<0?0:this.s.v)+e,(c=(1<this.e.v?1:this.e.v<0?0:this.e.v)+e)<b){var f=b;b=c,c=f}b=1e-4*Math.round(1e4*b),c=1e-4*Math.round(1e4*c),this.sValue=b,this.eValue=c}else b=this.sValue,c=this.eValue;var g,h,i,j,k,l,m=this.shapes.length,n=0;if(c===b)for(g=0;m>g;g+=1)this.shapes[g].localShapeCollection.releaseShapes(),this.shapes[g].shape._mdf=!0,this.shapes[g].shape.paths=this.shapes[g].localShapeCollection;else if(1===c&&0===b||0===c&&1===b){if(this._mdf)for(g=0;m>g;g+=1)this.shapes[g].pathsData.length=0,this.shapes[g].shape._mdf=!0}else{var o,p,q=[];for(g=0;m>g;g+=1)if((o=this.shapes[g]).shape._mdf||this._mdf||a||2===this.m){if(i=(d=o.shape.paths)._length,l=0,!o.shape._mdf&&o.pathsData.length)l=o.totalShapeLength;else{for(j=this.releasePathsData(o.pathsData),h=0;i>h;h+=1)k=bez.getSegmentsLength(d.shapes[h]),j.push(k),l+=k.totalLength;o.totalShapeLength=l,o.pathsData=j}n+=l,o.shape._mdf=!0}else o.shape.paths=o.localShapeCollection;var r,s=b,t=c,u=0;for(g=m-1;g>=0;g-=1)if((o=this.shapes[g]).shape._mdf){for((p=o.localShapeCollection).releaseShapes(),2===this.m&&m>1?(r=this.calculateShapeEdges(b,c,o.totalShapeLength,u,n),u+=o.totalShapeLength):r=[[s,t]],i=r.length,h=0;i>h;h+=1){s=r[h][0],t=r[h][1],q.length=0,1>=t?q.push({s:o.totalShapeLength*s,e:o.totalShapeLength*t}):s>=1?q.push({s:o.totalShapeLength*(s-1),e:o.totalShapeLength*(t-1)}):(q.push({s:o.totalShapeLength*s,e:o.totalShapeLength}),q.push({s:0,e:o.totalShapeLength*(t-1)}));var v=this.addShapes(o,q[0]);if(q[0].s!==q[0].e){if(1<q.length)if(o.shape.paths.shapes[o.shape.paths._length-1].c){var w=v.pop();this.addPaths(v,p),v=this.addShapes(o,q[1],w)}else this.addPaths(v,p),v=this.addShapes(o,q[1]);this.addPaths(v,p)}}o.shape.paths=p}}},TrimModifier.prototype.addPaths=function(a,b){var c,d=a.length;for(c=0;d>c;c+=1)b.addShape(a[c])},TrimModifier.prototype.addSegment=function(a,b,c,d,e,f,g){e.setXYAt(b[0],b[1],"o",f),e.setXYAt(c[0],c[1],"i",f+1),g&&e.setXYAt(a[0],a[1],"v",f),e.setXYAt(d[0],d[1],"v",f+1)},TrimModifier.prototype.addSegmentFromArray=function(a,b,c,d){b.setXYAt(a[1],a[5],"o",c),b.setXYAt(a[2],a[6],"i",c+1),d&&b.setXYAt(a[0],a[4],"v",c),b.setXYAt(a[3],a[7],"v",c+1)},TrimModifier.prototype.addShapes=function(a,b,c){var d,e,f,g,h,i,j,k,l=a.pathsData,m=a.shape.paths.shapes,n=a.shape.paths._length,o=0,p=[],q=!0;for(k=c?(h=c._length,c._length):(c=shape_pool.newElement(),h=0),p.push(c),d=0;n>d;d+=1){for(i=l[d].lengths,c.c=m[d].c,f=m[d].c?i.length:i.length+1,e=1;f>e;e+=1)if(o+(g=i[e-1]).addedLength<b.s)o+=g.addedLength,c.c=!1;else{if(o>b.e){c.c=!1;break}b.s<=o&&b.e>=o+g.addedLength?(this.addSegment(m[d].v[e-1],m[d].o[e-1],m[d].i[e],m[d].v[e],c,h,q),q=!1):(j=bez.getNewSegment(m[d].v[e-1],m[d].v[e],m[d].o[e-1],m[d].i[e],(b.s-o)/g.addedLength,(b.e-o)/g.addedLength,i[e-1]),this.addSegmentFromArray(j,c,h,q),q=!1,c.c=!1),o+=g.addedLength,h+=1}if(m[d].c&&i.length){if(g=i[e-1],o<=b.e){var r=i[e-1].addedLength;b.s<=o&&b.e>=o+r?(this.addSegment(m[d].v[e-1],m[d].o[e-1],m[d].i[0],m[d].v[0],c,h,q),q=!1):(j=bez.getNewSegment(m[d].v[e-1],m[d].v[0],m[d].o[e-1],m[d].i[0],(b.s-o)/r,(b.e-o)/r,i[e-1]),this.addSegmentFromArray(j,c,h,q),q=!1,c.c=!1)}else c.c=!1;o+=g.addedLength,h+=1}if(c._length&&(c.setXYAt(c.v[k][0],c.v[k][1],"i",k),c.setXYAt(c.v[c._length-1][0],c.v[c._length-1][1],"o",c._length-1)),o>b.e)break;n-1>d&&(c=shape_pool.newElement(),q=!0,p.push(c),h=0)}return p},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(a,b.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(a,b){var c=shape_pool.newElement();c.c=a.c;var d,e,f,g,h,i,j,k,l,m,n,o,p,q=a._length,r=0;for(d=0;q>d;d+=1)e=a.v[d],g=a.o[d],f=a.i[d],e[0]===g[0]&&e[1]===g[1]&&e[0]===f[0]&&e[1]===f[1]?0!==d&&d!==q-1||a.c?(h=0===d?a.v[q-1]:a.v[d-1],j=(i=Math.sqrt(Math.pow(e[0]-h[0],2)+Math.pow(e[1]-h[1],2)))?Math.min(i/2,b)/i:0,k=o=e[0]+(h[0]-e[0])*j,l=p=e[1]-(e[1]-h[1])*j,m=k-(k-e[0])*roundCorner,n=l-(l-e[1])*roundCorner,c.setTripleAt(k,l,m,n,o,p,r),r+=1,h=d===q-1?a.v[0]:a.v[d+1],j=(i=Math.sqrt(Math.pow(e[0]-h[0],2)+Math.pow(e[1]-h[1],2)))?Math.min(i/2,b)/i:0,k=m=e[0]+(h[0]-e[0])*j,l=n=e[1]+(h[1]-e[1])*j,o=k-(k-e[0])*roundCorner,p=l-(l-e[1])*roundCorner,c.setTripleAt(k,l,m,n,o,p,r)):c.setTripleAt(e[0],e[1],g[0],g[1],f[0],f[1],r):c.setTripleAt(a.v[d][0],a.v[d][1],a.o[d][0],a.o[d][1],a.i[d][0],a.i[d][1],r),r+=1;return c},RoundCornersModifier.prototype.processShapes=function(a){var b,c,d,e,f,g,h=this.shapes.length,i=this.rd.v;if(0!==i)for(c=0;h>c;c+=1){if((f=this.shapes[c]).shape.paths,g=f.localShapeCollection,f.shape._mdf||this._mdf||a)for(g.releaseShapes(),f.shape._mdf=!0,b=f.shape.paths.shapes,e=f.shape.paths._length,d=0;e>d;d+=1)g.addShape(this.processPath(b[d],i));f.shape.paths=f.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(a,b){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(a,b.c,0,null,this),this.o=PropertyFactory.getProp(a,b.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(a,b.tr,this),this.so=PropertyFactory.getProp(a,b.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(a,b.tr.eo,0,.01,this),this.data=b,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(a,b,c,d,e,f){var g=f?-1:1,h=d.s.v[0]+(1-d.s.v[0])*(1-e),i=d.s.v[1]+(1-d.s.v[1])*(1-e);a.translate(d.p.v[0]*g*e,d.p.v[1]*g*e,d.p.v[2]),b.translate(-d.a.v[0],-d.a.v[1],d.a.v[2]),b.rotate(-d.r.v*g*e),b.translate(d.a.v[0],d.a.v[1],d.a.v[2]),c.translate(-d.a.v[0],-d.a.v[1],d.a.v[2]),c.scale(f?1/h:h,f?1/i:i),c.translate(d.a.v[0],d.a.v[1],d.a.v[2])},RepeaterModifier.prototype.init=function(a,b,c,d){for(this.elem=a,this.arr=b,this.pos=c,this.elemsData=d,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(a),this.initModifierProperties(a,b[c]);c>0;)c-=1,this._elements.unshift(b[c]),1;this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(a){var b,c=a.length;for(b=0;c>b;b+=1)a[b]._processed=!1,"gr"===a[b].ty&&this.resetElements(a[b].it)},RepeaterModifier.prototype.cloneElements=function(a){a.length;var b=JSON.parse(JSON.stringify(a));return this.resetElements(b),b},RepeaterModifier.prototype.changeGroupRender=function(a,b){var c,d=a.length;for(c=0;d>c;c+=1)a[c]._render=b,"gr"===a[c].ty&&this.changeGroupRender(a[c].it,b)},RepeaterModifier.prototype.processShapes=function(a){var b,c,d,e,f;if(this._mdf||a){var g,h=Math.ceil(this.c.v);if(this._groups.length<h){for(;this._groups.length<h;){var i={it:this.cloneElements(this._elements),ty:"gr"};i.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,i),this._groups.splice(0,0,i),this._currentCopies+=1}this.elem.reloadShapes()}for(d=f=0;d<=this._groups.length-1;d+=1)g=h>f,this._groups[d]._render=g,this.changeGroupRender(this._groups[d].it,g),f+=1;this._currentCopies=h;var j=this.o.v,k=j%1,l=j>0?Math.floor(j):Math.ceil(j),m=(this.tr.v.props,this.pMatrix.props),n=this.rMatrix.props,o=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var p,q,r=0;if(j>0){for(;l>r;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),r+=1;k&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,k,!1),r+=k)}else if(0>j){for(;r>l;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),r-=1;k&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-k,!0),r-=k)}for(d=1===this.data.m?0:this._currentCopies-1,e=1===this.data.m?1:-1,f=this._currentCopies;f;){if(q=(c=(b=this.elemsData[d].it)[b.length-1].transform.mProps.v.props).length,b[b.length-1].transform.mProps._mdf=!0,b[b.length-1].transform.op._mdf=!0,b[b.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(d/(this._currentCopies-1)),0!==r){for((0!==d&&1===e||d!==this._currentCopies-1&&-1===e)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]),this.matrix.transform(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),p=0;q>p;p+=1)c[p]=this.matrix.props[p];this.matrix.reset()}else for(this.matrix.reset(),p=0;q>p;p+=1)c[p]=this.matrix.props[p];r+=1,f-=1,d+=e}}else for(f=this._currentCopies,d=0,e=1;f;)c=(b=this.elemsData[d].it)[b.length-1].transform.mProps.v.props,b[b.length-1].transform.mProps._mdf=!1,b[b.length-1].transform.op._mdf=!1,f-=1,d+=e},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(a){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=a,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var a;for(a=0;a<this._length;a+=1)shape_pool.release(this.shapes[a]);this._length=0},DashProperty.prototype.getValue=function(a){if((this.elem.globalData.frameId!==this.frameId||a)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||a,this._mdf)){var b=0,c=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),b=0;c>b;b+=1)"o"!=this.dataProps[b].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[b].p.v:this.dashArray[b]=this.dataProps[b].p.v:this.dashoffset[0]=this.dataProps[b].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(a,b){for(var c=0,d=this.o.length/2;d>c;){if(.01<Math.abs(a[4*c]-a[4*b+2*c]))return!1;c+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var a=0,b=this.data.k.k.length;b>a;){if(!this.comparePoints(this.data.k.k[a].s,this.data.p))return!1;a+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(a){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||a){var b,c,d,e=4*this.data.p;for(b=0;e>b;b+=1)c=b%4==0?100:255,d=Math.round(this.prop.v[b]*c),this.c[b]!==d&&(this.c[b]=d,this._cmdf=!a);if(this.o.length)for(e=this.prop.v.length,b=4*this.data.p;e>b;b+=1)c=b%2==0?100:1,d=b%2==0?Math.round(100*this.prop.v[b]):this.prop.v[b],this.o[b-4*this.data.p]!==d&&(this.o[b-4*this.data.p]=d,this._omdf=!a);this._mdf=!a}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(a,b,c,d){if(0===b)return"";var e,f=a.o,g=a.i,h=a.v,i=" M"+d.applyToPointStringified(h[0][0],h[0][1]);for(e=1;b>e;e+=1)i+=" C"+d.applyToPointStringified(f[e-1][0],f[e-1][1])+" "+d.applyToPointStringified(g[e][0],g[e][1])+" "+d.applyToPointStringified(h[e][0],h[e][1]);return c&&b&&(i+=" C"+d.applyToPointStringified(f[e-1][0],f[e-1][1])+" "+d.applyToPointStringified(g[0][0],g[0][1])+" "+d.applyToPointStringified(h[0][0],h[0][1]),i+="z"),i},ImagePreloader=function(){function a(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function b(a){var b=function(a,b,c){var d="";if(a.e)d=a.p;else if(b){var e=a.p;-1!==e.indexOf("images/")&&(e=e.split("/")[1]),d=b+e}else d=c,d+=a.u?a.u:"",d+=a.p;return d}(a,this.assetsPath,this.path),c=createTag("img");c.crossOrigin="anonymous",c.addEventListener("load",this._imageLoaded.bind(this),!1),c.addEventListener("error",function(){d.img=i,this._imageLoaded()}.bind(this),!1),c.src=b;var d={img:c,assetData:a};return d}function c(a,b){this.imagesLoadedCb=b;var c,d=a.length;for(c=0;d>c;c+=1)a[c].layers||(this.totalImages+=1,this.images.push(this._createImageData(a[c])))}function d(a){this.path=a||""}function e(a){this.assetsPath=a||""}function f(a){for(var b=0,c=this.images.length;c>b;){if(this.images[b].assetData===a)return this.images[b].img;b+=1}}function g(){this.imagesLoadedCb=null,this.images.length=0}function h(){return this.totalImages===this.loadedAssets}var i=function(){var a=createTag("canvas");a.width=1,a.height=1;var b=a.getContext("2d");return b.fillStyle="rgba(0,0,0,0)",b.fillRect(0,0,1,1),a}();return function(){this.loadAssets=c,this.setAssetsPath=e,this.setPath=d,this.loaded=h,this.destroy=g,this.getImage=f,this._createImageData=b,this._imageLoaded=a,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),featureSupport=(qw={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(qw.maskType=!1),qw),qw,filtersFactory=(rw={},rw.createFilter=function(a){var b=createNS("filter");return b.setAttribute("id",a),b.setAttribute("filterUnits","objectBoundingBox"),b.setAttribute("x","0%"),b.setAttribute("y","0%"),b.setAttribute("width","100%"),b.setAttribute("height","100%"),b},rw.createAlphaToLuminanceFilter=function(){var a=createNS("feColorMatrix");return a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),a},rw),rw,assetLoader=function(){function a(a){return a.response&&"object"==typeof a.response?a.response:a.response&&"string"==typeof a.response?JSON.parse(a.response):a.responseText?JSON.parse(a.responseText):void 0}return{load:function(b,c,d){var e,f=new XMLHttpRequest;f.open("GET",b,!0);try{f.responseType="json"}catch(b){}f.send(),f.onreadystatechange=function(){if(4==f.readyState)if(200==f.status)e=a(f),c(e);else try{e=a(f),c(e)}catch(b){d&&d(b)}}}}}();TextAnimatorProperty.prototype.searchProperties=function(){var a,b,c=this._textData.a.length,d=PropertyFactory.getProp;for(a=0;c>a;a+=1)b=this._textData.a[a],this._animatorsData[a]=new TextAnimatorDataProperty(this._elem,b,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:d(this._elem,this._textData.p.f,0,0,this),l:d(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=d(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(a,b){if(this.lettersChangedFlag=b,this._mdf||this._isFirstFrame||b||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this._moreOptions.alignment.v,w=this._animatorsData,x=this._textData,y=this.mHelper,z=this._renderType,A=this.renderedLetters.length,B=(this.data,a.l);if(this._hasMaskedPath){if(u=this._pathData.m,!this._pathData.n||this._pathData._mdf){var C,D=u.v;for(this._pathData.r&&(D=D.reverse()),g={tLength:0,segments:[]},f=D._length-1,e=r=0;f>e;e+=1)C=bez.buildBezierData(D.v[e],D.v[e+1],[D.o[e][0]-D.v[e][0],D.o[e][1]-D.v[e][1]],[D.i[e+1][0]-D.v[e+1][0],D.i[e+1][1]-D.v[e+1][1]]),g.tLength+=C.segmentLength,g.segments.push(C),r+=C.segmentLength;e=f,u.v.c&&(C=bez.buildBezierData(D.v[e],D.v[0],[D.o[e][0]-D.v[e][0],D.o[e][1]-D.v[e][1]],[D.i[0][0]-D.v[0][0],D.i[0][1]-D.v[0][1]]),g.tLength+=C.segmentLength,g.segments.push(C),r+=C.segmentLength),this._pathData.pi=g}if(g=this._pathData.pi,h=this._pathData.f.v,l=1,k=!(j=m=0),p=g.segments,0>h&&u.v.c)for(g.tLength<Math.abs(h)&&(h=-Math.abs(h)%g.tLength),l=(o=p[m=p.length-1].points).length-1;0>h;)h+=o[l].partialLength,(l-=1)<0&&(l=(o=p[m-=1].points).length-1);n=(o=p[m].points)[l-1],q=(i=o[l]).partialLength}f=B.length,d=c=0;var E,F,G,H,I=1.2*a.finalSize*.714,J=!0;G=w.length;var K,L,M,N,O,P,Q,R,S,T,U,V,W,X=-1,Y=h,Z=m,$=l,_=-1,aa="",ba=this.defaultPropsArray;if(2===a.j||1===a.j){var ca=0,da=0,ea=2===a.j?-.5:-1,fa=0,ga=!0;for(e=0;f>e;e+=1)if(B[e].n){for(ca&&(ca+=da);e>fa;)B[fa].animatorJustifyOffset=ca,fa+=1;ga=!(ca=0)}else{for(F=0;G>F;F+=1)(E=w[F].a).t.propType&&(ga&&2===a.j&&(da+=E.t.v*ea),ca+=(K=w[F].s.getMult(B[e].anIndexes[F],x.a[F].s.totalChars)).length?E.t.v*K[0]*ea:E.t.v*K*ea);ga=!1}for(ca&&(ca+=da);e>fa;)B[fa].animatorJustifyOffset=ca,fa+=1}for(e=0;f>e;e+=1){if(y.reset(),O=1,B[e].n)c=0,d+=a.yOffset,d+=J?1:0,h=Y,J=!1,this._hasMaskedPath&&(l=$,n=(o=p[m=Z].points)[l-1],q=(i=o[l]).partialLength,j=0),W=T=V=aa="",ba=this.defaultPropsArray;else{if(this._hasMaskedPath){if(_!==B[e].line){switch(a.j){case 1:h+=r-a.lineWidths[B[e].line];break;case 2:h+=(r-a.lineWidths[B[e].line])/2}_=B[e].line}X!==B[e].ind&&(B[X]&&(h+=B[X].extra),h+=B[e].an/2,X=B[e].ind),h+=v[0]*B[e].an/200;var ha=0;for(F=0;G>F;F+=1)(E=w[F].a).p.propType&&(ha+=(K=w[F].s.getMult(B[e].anIndexes[F],x.a[F].s.totalChars)).length?E.p.v[0]*K[0]:E.p.v[0]*K),E.a.propType&&(ha+=(K=w[F].s.getMult(B[e].anIndexes[F],x.a[F].s.totalChars)).length?E.a.v[0]*K[0]:E.a.v[0]*K);for(k=!0;k;)j+q>=h+ha||!o?(s=(h+ha-j)/i.partialLength,M=n.point[0]+(i.point[0]-n.point[0])*s,N=n.point[1]+(i.point[1]-n.point[1])*s,y.translate(-v[0]*B[e].an/200,-v[1]*I/100),k=!1):o&&(j+=i.partialLength,(l+=1)>=o.length&&(l=0,o=p[m+=1]?p[m].points:u.v.c?p[m=l=0].points:(j-=i.partialLength,null)),o&&(n=i,q=(i=o[l]).partialLength));L=B[e].an/2-B[e].add,y.translate(-L,0,0)}else L=B[e].an/2-B[e].add,y.translate(-L,0,0),y.translate(-v[0]*B[e].an/200,-v[1]*I/100,0);for(B[e].l/2,F=0;G>F;F+=1)(E=w[F].a).t.propType&&(K=w[F].s.getMult(B[e].anIndexes[F],x.a[F].s.totalChars),0===c&&0===a.j||(this._hasMaskedPath?h+=K.length?E.t.v*K[0]:E.t.v*K:c+=K.length?E.t.v*K[0]:E.t.v*K));for(B[e].l/2,a.strokeWidthAnim&&(Q=a.sw||0),a.strokeColorAnim&&(P=a.sc?[a.sc[0],a.sc[1],a.sc[2]]:[0,0,0]),a.fillColorAnim&&a.fc&&(R=[a.fc[0],a.fc[1],a.fc[2]]),F=0;G>F;F+=1)(E=w[F].a).a.propType&&((K=w[F].s.getMult(B[e].anIndexes[F],x.a[F].s.totalChars)).length?y.translate(-E.a.v[0]*K[0],-E.a.v[1]*K[1],E.a.v[2]*K[2]):y.translate(-E.a.v[0]*K,-E.a.v[1]*K,E.a.v[2]*K));for(F=0;G>F;F+=1)(E=w[F].a).s.propType&&((K=w[F].s.getMult(B[e].anIndexes[F],x.a[F].s.totalChars)).length?y.scale(1+(E.s.v[0]-1)*K[0],1+(E.s.v[1]-1)*K[1],1):y.scale(1+(E.s.v[0]-1)*K,1+(E.s.v[1]-1)*K,1));for(F=0;G>F;F+=1){if(E=w[F].a,K=w[F].s.getMult(B[e].anIndexes[F],x.a[F].s.totalChars),E.sk.propType&&(K.length?y.skewFromAxis(-E.sk.v*K[0],E.sa.v*K[1]):y.skewFromAxis(-E.sk.v*K,E.sa.v*K)),E.r.propType&&(K.length?y.rotateZ(-E.r.v*K[2]):y.rotateZ(-E.r.v*K)),E.ry.propType&&(K.length?y.rotateY(E.ry.v*K[1]):y.rotateY(E.ry.v*K)),E.rx.propType&&(K.length?y.rotateX(E.rx.v*K[0]):y.rotateX(E.rx.v*K)),E.o.propType&&(O+=K.length?(E.o.v*K[0]-O)*K[0]:(E.o.v*K-O)*K),a.strokeWidthAnim&&E.sw.propType&&(Q+=K.length?E.sw.v*K[0]:E.sw.v*K),a.strokeColorAnim&&E.sc.propType)for(S=0;3>S;S+=1)K.length?P[S]=P[S]+(E.sc.v[S]-P[S])*K[0]:P[S]=P[S]+(E.sc.v[S]-P[S])*K;if(a.fillColorAnim&&a.fc){if(E.fc.propType)for(S=0;3>S;S+=1)K.length?R[S]=R[S]+(E.fc.v[S]-R[S])*K[0]:R[S]=R[S]+(E.fc.v[S]-R[S])*K;E.fh.propType&&(R=K.length?addHueToRGB(R,E.fh.v*K[0]):addHueToRGB(R,E.fh.v*K)),E.fs.propType&&(R=K.length?addSaturationToRGB(R,E.fs.v*K[0]):addSaturationToRGB(R,E.fs.v*K)),E.fb.propType&&(R=K.length?addBrightnessToRGB(R,E.fb.v*K[0]):addBrightnessToRGB(R,E.fb.v*K))}}for(F=0;G>F;F+=1)(E=w[F].a).p.propType&&(K=w[F].s.getMult(B[e].anIndexes[F],x.a[F].s.totalChars),this._hasMaskedPath?K.length?y.translate(0,E.p.v[1]*K[0],-E.p.v[2]*K[1]):y.translate(0,E.p.v[1]*K,-E.p.v[2]*K):K.length?y.translate(E.p.v[0]*K[0],E.p.v[1]*K[1],-E.p.v[2]*K[2]):y.translate(E.p.v[0]*K,E.p.v[1]*K,-E.p.v[2]*K));if(a.strokeWidthAnim&&(T=0>Q?0:Q),a.strokeColorAnim&&(U="rgb("+Math.round(255*P[0])+","+Math.round(255*P[1])+","+Math.round(255*P[2])+")"),a.fillColorAnim&&a.fc&&(V="rgb("+Math.round(255*R[0])+","+Math.round(255*R[1])+","+Math.round(255*R[2])+")"),this._hasMaskedPath){if(y.translate(0,-a.ls),y.translate(0,v[1]*I/100+d,0),x.p.p){t=(i.point[1]-n.point[1])/(i.point[0]-n.point[0]);var ia=180*Math.atan(t)/Math.PI;i.point[0]<n.point[0]&&(ia+=180),y.rotate(-ia*Math.PI/180)}y.translate(M,N,0),h-=v[0]*B[e].an/200,B[e+1]&&X!==B[e+1].ind&&(h+=B[e].an/2,h+=a.tr/1e3*a.finalSize)}else{switch(y.translate(c,d,0),a.ps&&y.translate(a.ps[0],a.ps[1]+a.ascent,0),a.j){case 1:y.translate(B[e].animatorJustifyOffset+a.justifyOffset+(a.boxWidth-a.lineWidths[B[e].line]),0,0);break;case 2:y.translate(B[e].animatorJustifyOffset+a.justifyOffset+(a.boxWidth-a.lineWidths[B[e].line])/2,0,0)}y.translate(0,-a.ls),y.translate(L,0,0),y.translate(v[0]*B[e].an/200,v[1]*I/100,0),c+=B[e].l+a.tr/1e3*a.finalSize}"html"===z?aa=y.toCSS():"svg"===z?aa=y.to2dCSS():ba=[y.props[0],y.props[1],y.props[2],y.props[3],y.props[4],y.props[5],y.props[6],y.props[7],y.props[8],y.props[9],y.props[10],y.props[11],y.props[12],y.props[13],y.props[14],y.props[15]],W=O}this.lettersChangedFlag=e>=A?(H=new LetterProps(W,T,U,V,aa,ba),this.renderedLetters.push(H),A+=1,!0):(H=this.renderedLetters[e]).update(W,T,U,V,aa,ba)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(a,b,c,d,e,f){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1;var g=this._mdf.p=!1;return this.o!==a&&(this.o=a,g=this._mdf.o=!0),this.sw!==b&&(this.sw=b,g=this._mdf.sw=!0),this.sc!==c&&(this.sc=c,g=this._mdf.sc=!0),this.fc!==d&&(this.fc=d,g=this._mdf.fc=!0),this.m!==e&&(this.m=e,g=this._mdf.m=!0),!f.length||this.p[0]===f[0]&&this.p[1]===f[1]&&this.p[4]===f[4]&&this.p[5]===f[5]&&this.p[12]===f[12]&&this.p[13]===f[13]||(this.p=f,g=this._mdf.p=!0),g},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},TextProperty.prototype.setCurrentData=function(a){a.__complete||this.completeTextData(a),this.currentData=a,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){
return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=1<this.data.d.k.length,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(a){this.effectsSequence.push(a),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(a){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||a){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var b=this.currentData,c=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var d,e=this.effectsSequence.length,f=a||this.data.d.k[this.keysIndex].s;for(d=0;e>d;d+=1)f=c!==this.keysIndex?this.effectsSequence[d](f,f.t):this.effectsSequence[d](this.currentData,f.t);b!==f&&this.setCurrentData(f),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var a=this.data.d.k,b=this.elem.comp.renderedFrame,c=0,d=a.length;d-1>=c&&(a[c].s,!(c===d-1||a[c+1].t>b));)c+=1;return this.keysIndex!==c&&(this.keysIndex=c),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(a){for(var b,c=FontManager.getCombinedCharacterCodes(),d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e),-1!==c.indexOf(b)?d[d.length-1]+=a.charAt(e):b>=55296&&56319>=b&&56320<=(b=a.charCodeAt(e+1))&&57343>=b?(d.push(a.substr(e,2)),++e):d.push(a.charAt(e)),e+=1;return d},TextProperty.prototype.completeTextData=function(a){a.__complete=!0;var b,c,d,e,f,g,h,i=this.elem.globalData.fontManager,j=this.data,k=[],l=0,m=j.m.g,n=0,o=0,p=0,q=[],r=0,s=0,t=i.getFontByName(a.f),u=0,v=t.fStyle?t.fStyle.split(" "):[],w="normal",x="normal";for(c=v.length,b=0;c>b;b+=1)switch(v[b].toLowerCase()){case"italic":x="italic";break;case"bold":w="700";break;case"black":w="900";break;case"medium":w="500";break;case"regular":case"normal":w="400";break;case"light":case"thin":w="200"}a.fWeight=t.fWeight||w,a.fStyle=x,a.finalSize=a.s,a.finalText=this.buildFinalText(a.t),c=a.finalText.length,a.finalLineHeight=a.lh;var y,z=a.tr/1e3*a.finalSize;if(a.sz)for(var A,B,C=!0,D=a.sz[0],E=a.sz[1];C;){r=A=0,c=(B=this.buildFinalText(a.t)).length,z=a.tr/1e3*a.finalSize;var F=-1;for(b=0;c>b;b+=1)y=B[b].charCodeAt(0),d=!1," "===B[b]?F=b:13!==y&&3!==y||(d=!(r=0),A+=a.finalLineHeight||1.2*a.finalSize),D<r+(u=i.chars?(h=i.getCharData(B[b],t.fStyle,t.fFamily),d?0:h.w*a.finalSize/100):i.measureText(B[b],a.f,a.finalSize))&&" "!==B[b]?(-1===F?c+=1:b=F,A+=a.finalLineHeight||1.2*a.finalSize,B.splice(b,F===b?1:0,"\r"),F=-1,r=0):(r+=u,r+=z);A+=t.ascent*a.finalSize/100,this.canResize&&a.finalSize>this.minimumFontSize&&A>E?(a.finalSize-=1,a.finalLineHeight=a.finalSize*a.lh/a.s):(a.finalText=B,c=a.finalText.length,C=!1)}r=-z;var G,H=u=0;for(b=0;c>b;b+=1)if(d=!1,y=(G=a.finalText[b]).charCodeAt(0)," "===G?e=" ":13===y||3===y?(H=0,q.push(r),s=r>s?r:s,r=-2*z,d=!(e=""),p+=1):e=a.finalText[b],u=i.chars?(h=i.getCharData(G,t.fStyle,i.getFontByName(a.f).fFamily),d?0:h.w*a.finalSize/100):i.measureText(e,a.f,a.finalSize)," "===G?H+=u+z:(r+=u+z+H,H=0),k.push({l:u,an:u,add:n,n:d,anIndexes:[],val:e,line:p,animatorJustifyOffset:0}),2==m){if(n+=u,""===e||" "===e||b===c-1){for(""!==e&&" "!==e||(n-=u);b>=o;)k[o].an=n,k[o].ind=l,k[o].extra=u,o+=1;l+=1,n=0}}else if(3==m){if(n+=u,""===e||b===c-1){for(""===e&&(n-=u);b>=o;)k[o].an=n,k[o].ind=l,k[o].extra=u,o+=1;n=0,l+=1}}else k[l].ind=l,k[l].extra=0,l+=1;if(a.l=k,s=r>s?r:s,q.push(r),a.sz)a.boxWidth=a.sz[0],a.justifyOffset=0;else switch(a.boxWidth=s,a.j){case 1:a.justifyOffset=-a.boxWidth;break;case 2:a.justifyOffset=-a.boxWidth/2;break;default:a.justifyOffset=0}a.lineWidths=q;var I,J,K=j.a;g=K.length;var L,M,N=[];for(f=0;g>f;f+=1){for((I=K[f]).a.sc&&(a.strokeColorAnim=!0),I.a.sw&&(a.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(a.fillColorAnim=!0),M=0,L=I.s.b,b=0;c>b;b+=1)(J=k[b]).anIndexes[f]=M,(1==L&&""!==J.val||2==L&&""!==J.val&&" "!==J.val||3==L&&(J.n||" "==J.val||b==c-1)||4==L&&(J.n||b==c-1))&&(1===I.s.rn&&N.push(M),M+=1);j.a[f].s.totalChars=M;var O,P=-1;if(1===I.s.rn)for(b=0;c>b;b+=1)P!=(J=k[b]).anIndexes[f]&&(P=J.anIndexes[f],O=N.splice(Math.floor(Math.random()*N.length),1)[0]),J.anIndexes[f]=O}a.yOffset=a.finalLineHeight||1.2*a.finalSize,a.ls=a.ls||0,a.ascent=t.ascent*a.finalSize/100},TextProperty.prototype.updateDocumentData=function(a,b){b=void 0===b?this.keysIndex:b;var c=this.copyData({},this.data.d.k[b].s);c=this.copyData(c,a),this.data.d.k[b].s=c,this.recalculate(b),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(a){var b=this.data.d.k[a].s;b.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(b)},TextProperty.prototype.canResizeFont=function(a){this.canResize=a,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(a){this.minimumFontSize=Math.floor(a)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){function a(a,b){this._currentTextLength=-1,this.k=!1,this.data=b,this.elem=a,this.comp=a.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(a),this.s=PropertyFactory.getProp(a,b.s||{k:0},0,0,this),this.e="e"in b?PropertyFactory.getProp(a,b.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(a,b.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(a,b.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(a,b.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(a,b.a,0,.01,this),this.dynamicProperties.length||this.getValue()}var b=Math.max,c=Math.min,d=Math.floor;return a.prototype={getMult:function(a){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var e=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,f=0,g=this.finalS,h=this.finalE,i=this.data.sh;if(2==i)f=e(f=h===g?a>=h?1:0:b(0,c(.5/(h-g)+(a-g)/(h-g),1)));else if(3==i)f=e(f=h===g?a>=h?0:1:1-b(0,c(.5/(h-g)+(a-g)/(h-g),1)));else if(4==i)h===g?f=0:(f=b(0,c(.5/(h-g)+(a-g)/(h-g),1)))<.5?f*=2:f=1-2*(f-.5),f=e(f);else if(5==i){if(h===g)f=0;else{var j=h-g,k=-j/2+(a=c(b(0,a+.5-g),h-g)),l=j/2;f=Math.sqrt(1-k*k/(l*l))}f=e(f)}else f=6==i?e(f=h===g?0:(a=c(b(0,a+.5-g),h-g),(1+Math.cos(Math.PI+2*Math.PI*a/(h-g)))/2)):(a>=d(g)&&(f=0>a-g?1-(g-a):b(0,c(h-a,1))),e(f));return f*this.a.v},getValue:function(a){this.iterateDynamicProperties(),this._mdf=a||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,a&&2===this.data.r&&(this.e.v=this._currentTextLength);var b=2===this.data.r?1:100/this.data.totalChars,c=this.o.v/b,d=this.s.v/b+c,e=this.e.v/b+c;if(d>e){var f=d;d=e,e=f}this.finalS=d,this.finalE=e}},extendPrototype([DynamicPropertyContainer],a),{getTextSelectorProp:function(b,c,d){return new a(b,c,d)}}}(),pool_factory=function(a,b,c,d){function e(){return f?h[f-=1]:b()}var f=0,g=a,h=createSizedArray(g);return{newElement:e,release:function(a){f===g&&(h=pooling["double"](h),g*=2),c&&c(a),h[f]=a,f+=1}}},pooling={"double":function(a){return a.concat(createSizedArray(a.length))}},point_pool=pool_factory(8,function(){return createTypedArray("float32",2)}),shape_pool=(EA=pool_factory(4,function(){return new ShapePath},function(a){var b,c=a._length;for(b=0;c>b;b+=1)point_pool.release(a.v[b]),point_pool.release(a.i[b]),point_pool.release(a.o[b]),a.v[b]=null,a.i[b]=null,a.o[b]=null;a._length=0,a.c=!1}),EA.clone=function(a){var b,c=EA.newElement(),d=void 0===a._length?a.v.length:a._length;for(c.setLength(d),c.c=a.c,b=0;d>b;b+=1)c.setTripleAt(a.v[b][0],a.v[b][1],a.o[b][0],a.o[b][1],a.i[b][0],a.i[b][1],b);return c},EA),EA,shapeCollection_pool=(NA={newShapeCollection:function(){var a;return a=OA?QA[OA-=1]:new ShapeCollection},release:function(a){var b,c=a._length;for(b=0;c>b;b+=1)shape_pool.release(a.shapes[b]);a._length=0,OA===PA&&(QA=pooling["double"](QA),PA*=2),QA[OA]=a,OA+=1}},OA=0,PA=4,QA=createSizedArray(PA),NA),NA,OA,PA,QA,segments_length_pool=pool_factory(8,function(){return{lengths:[],totalLength:0}},function(a){var b,c=a.lengths.length;for(b=0;c>b;b+=1)bezier_length_pool.release(a.lengths[b]);a.lengths.length=0}),bezier_length_pool=pool_factory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}});BaseRenderer.prototype.checkLayers=function(a){var b,c,d=this.layers.length;for(this.completeLayers=!0,b=d-1;b>=0;b--)this.elements[b]||(c=this.layers[b]).ip-c.st<=a-this.layers[b].st&&c.op-c.st>a-this.layers[b].st&&this.buildItem(b),this.completeLayers=!!this.elements[b]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(a){switch(a.ty){case 2:return this.createImage(a);case 0:return this.createComp(a);case 1:return this.createSolid(a);case 3:return this.createNull(a);case 4:return this.createShape(a);case 5:return this.createText(a);case 13:return this.createCamera(a)}return this.createNull(a)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var a,b=this.layers.length;for(a=0;b>a;a+=1)this.buildItem(a);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(a){this.completeLayers=!1;var b,c,d=a.length,e=this.layers.length;for(b=0;d>b;b+=1)for(c=0;e>c;){if(this.layers[c].id==a[b].id){this.layers[c]=a[b];break}c+=1}},BaseRenderer.prototype.setProjectInterface=function(a){this.globalData.projectInterface=a},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(a,b,c){for(var d=this.elements,e=this.layers,f=0,g=e.length;g>f;)e[f].ind==b&&(d[f]&&!0!==d[f]?(c.push(d[f]),d[f].setAsParent(),void 0!==e[f].parent?this.buildElementParenting(a,e[f].parent,c):a.setHierarchy(c)):(this.buildItem(f),this.addPendingElement(a))),f+=1},BaseRenderer.prototype.addPendingElement=function(a){this.pendingElements.push(a)},BaseRenderer.prototype.searchExtraCompositions=function(a){var b,c=a.length;for(b=0;c>b;b+=1)if(a[b].xt){var d=this.createComp(a[b]);d.initExpressions(),this.globalData.projectInterface.registerComposition(d)}},BaseRenderer.prototype.setupGlobalData=function(a,b){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(a.chars),this.globalData.fontManager.addFonts(a.fonts,b),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=a.fr,this.globalData.nm=a.nm,this.globalData.compSize={w:a.w,h:a.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(a){return new NullElement(a,this.globalData,this)},SVGRenderer.prototype.createShape=function(a){return new SVGShapeElement(a,this.globalData,this)},SVGRenderer.prototype.createText=function(a){return new SVGTextElement(a,this.globalData,this)},SVGRenderer.prototype.createImage=function(a){return new IImageElement(a,this.globalData,this)},SVGRenderer.prototype.createComp=function(a){return new SVGCompElement(a,this.globalData,this)},SVGRenderer.prototype.createSolid=function(a){return new ISolidElement(a,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(a){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+a.w+" "+a.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",a.w),this.svgElement.setAttribute("height",a.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var b=this.globalData.defs;this.setupGlobalData(a,b),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=a;var c=createNS("clipPath"),d=createNS("rect");d.setAttribute("width",a.w),d.setAttribute("height",a.h),d.setAttribute("x",0),d.setAttribute("y",0);var e=createElementID();c.setAttribute("id",e),c.appendChild(d),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+e+")"),b.appendChild(c),this.layers=a.layers,this.elements=createSizedArray(a.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;b>a;a++)this.elements[a]&&this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(a){var b=this.elements;if(!b[a]&&99!=this.layers[a].ty){b[a]=!0;var c=this.createItem(this.layers[a]);b[a]=c,expressionsPlugin&&(0===this.layers[a].ty&&this.globalData.projectInterface.registerComposition(c),c.initExpressions()),this.appendElementInPos(c,a),this.layers[a].tt&&(this.elements[a-1]&&!0!==this.elements[a-1]?c.setMatte(b[a-1].layerId):(this.buildItem(a-1),this.addPendingElement(c)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var a=this.pendingElements.pop();if(a.checkParenting(),a.data.tt)for(var b=0,c=this.elements.length;c>b;){if(this.elements[b]===a){a.setMatte(this.elements[b-1].layerId);break}b+=1}}},SVGRenderer.prototype.renderFrame=function(a){if(this.renderedFrame!==a&&!this.destroyed){null===a?a=this.renderedFrame:this.renderedFrame=a,this.globalData.frameNum=a,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=a,this.globalData._mdf=!1;var b,c=this.layers.length;for(this.completeLayers||this.checkLayers(a),b=c-1;b>=0;b--)(this.completeLayers||this.elements[b])&&this.elements[b].prepareFrame(a-this.layers[b].st);if(this.globalData._mdf)for(b=0;c>b;b+=1)(this.completeLayers||this.elements[b])&&this.elements[b].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(a,b){var c=a.getBaseElement();if(c){for(var d,e=0;b>e;)this.elements[e]&&!0!==this.elements[e]&&this.elements[e].getBaseElement()&&(d=this.elements[e].getBaseElement()),e+=1;d?this.layerElement.insertBefore(c,d):this.layerElement.appendChild(c)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(a){return new CVShapeElement(a,this.globalData,this)},CanvasRenderer.prototype.createText=function(a){return new CVTextElement(a,this.globalData,this)},CanvasRenderer.prototype.createImage=function(a){return new CVImageElement(a,this.globalData,this)},CanvasRenderer.prototype.createComp=function(a){return new CVCompElement(a,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(a){return new CVSolidElement(a,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(a){if(1!==a[0]||0!==a[1]||0!==a[4]||1!==a[5]||0!==a[12]||0!==a[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(a);var b=this.contextData.cTr.props;this.transformMat.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var c=this.contextData.cTr.props;this.canvasContext.setTransform(c[0],c[1],c[4],c[5],c[12],c[13])}else this.canvasContext.transform(a[0],a[1],a[4],a[5],a[12],a[13])},CanvasRenderer.prototype.ctxOpacity=function(a){return this.renderConfig.clearCanvas?(this.contextData.cO*=0>a?0:a,void(this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO))):(this.canvasContext.globalAlpha*=0>a?0:a,void(this.globalData.currentGlobalAlpha=this.contextData.cO))},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(a){if(this.renderConfig.clearCanvas){a&&this.canvasContext.save();var b=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var c,d=this.contextData.saved[this.contextData.cArrPos];for(c=0;16>c;c+=1)d[c]=b[c];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(a){if(this.renderConfig.clearCanvas){a&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var b,c=this.contextData.saved[this.contextData.cArrPos],d=this.contextData.cTr.props;for(b=0;16>b;b+=1)d[b]=c[b];this.canvasContext.setTransform(c[0],c[1],c[4],c[5],c[12],c[13]),c=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=c,this.globalData.currentGlobalAlpha!==c&&(this.canvasContext.globalAlpha=c,this.globalData.currentGlobalAlpha=c)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(a){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=a,this.layers=a.layers,this.transformCanvas={w:a.w,h:a.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(a,document.body),this.globalData.canvasContext=this.canvasContext,(this.globalData.renderer=this).globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(a.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var a,b,c,d;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(a=this.animationItem.wrapper.offsetWidth,b=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",a*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",b*this.renderConfig.dpr)):(a=this.canvasContext.canvas.width*this.renderConfig.dpr,b=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var e=this.renderConfig.preserveAspectRatio.split(" "),f=e[1]||"meet",g=e[0]||"xMidYMid",h=g.substr(0,4),i=g.substr(4);c=a/b,d=this.transformCanvas.w/this.transformCanvas.h,this.transformCanvas.sy=d>c&&"meet"===f||c>d&&"slice"===f?(this.transformCanvas.sx=a/(this.transformCanvas.w/this.renderConfig.dpr),a/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=b/(this.transformCanvas.h/this.renderConfig.dpr),b/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===h&&(c>d&&"meet"===f||d>c&&"slice"===f)?(a-this.transformCanvas.w*(b/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===h&&(c>d&&"meet"===f||d>c&&"slice"===f)?(a-this.transformCanvas.w*(b/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===i&&(d>c&&"meet"===f||c>d&&"slice"===f)?(b-this.transformCanvas.h*(a/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===i&&(d>c&&"meet"===f||c>d&&"slice"===f)?(b-this.transformCanvas.h*(a/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=a/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var a;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),a=(this.layers?this.layers.length:0)-1;a>=0;a-=1)this.elements[a]&&this.elements[a].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(a,b){if((this.renderedFrame!==a||!0!==this.renderConfig.clearCanvas||b)&&!this.destroyed&&-1!==a){this.renderedFrame=a,this.globalData.frameNum=a-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||b,this.globalData.projectInterface.currentFrame=a;var c,d=this.layers.length;for(this.completeLayers||this.checkLayers(a),c=0;d>c;c++)(this.completeLayers||this.elements[c])&&this.elements[c].prepareFrame(a-this.layers[c].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),c=d-1;c>=0;c-=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(a){var b=this.elements;if(!b[a]&&99!=this.layers[a].ty){var c=this.createItem(this.layers[a],this,this.globalData);(b[a]=c).initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(a,b){var c=a.getBaseElement();if(c){var d=this.layers[b];if(d.ddd&&this.supports3d)this.addTo3dContainer(c,b);else if(this.threeDElements)this.addTo3dContainer(c,b);else{for(var e,f,g=0;b>g;)this.elements[g]&&!0!==this.elements[g]&&this.elements[g].getBaseElement&&(f=this.elements[g],e=(this.layers[g].ddd?this.getThreeDContainerByPos(g):f.getBaseElement())||e),g+=1;e?d.ddd&&this.supports3d||this.layerElement.insertBefore(c,e):d.ddd&&this.supports3d||this.layerElement.appendChild(c)}}},HybridRenderer.prototype.createShape=function(a){return this.supports3d?new HShapeElement(a,this.globalData,this):new SVGShapeElement(a,this.globalData,this)},HybridRenderer.prototype.createText=function(a){return this.supports3d?new HTextElement(a,this.globalData,this):new SVGTextElement(a,this.globalData,this)},HybridRenderer.prototype.createCamera=function(a){return this.camera=new HCameraElement(a,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(a){return this.supports3d?new HImageElement(a,this.globalData,this):new IImageElement(a,this.globalData,this)},HybridRenderer.prototype.createComp=function(a){return this.supports3d?new HCompElement(a,this.globalData,this):new SVGCompElement(a,this.globalData,this)},HybridRenderer.prototype.createSolid=function(a){return this.supports3d?new HSolidElement(a,this.globalData,this):new ISolidElement(a,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(a){for(var b=0,c=this.threeDElements.length;c>b;){if(this.threeDElements[b].startPos<=a&&this.threeDElements[b].endPos>=a)return this.threeDElements[b].perspectiveElem;b+=1}},HybridRenderer.prototype.createThreeDContainer=function(a,b){var c=createTag("div");styleDiv(c);var d=createTag("div");styleDiv(d),"3d"===b&&(c.style.width=this.globalData.compSize.w+"px",c.style.height=this.globalData.compSize.h+"px",c.style.transformOrigin=c.style.mozTransformOrigin=c.style.webkitTransformOrigin="50% 50%",d.style.transform=d.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),c.appendChild(d);var e={container:d,perspectiveElem:c,startPos:a,endPos:a,type:b};return this.threeDElements.push(e),e},HybridRenderer.prototype.build3dContainers=function(){var a,b,c=this.layers.length,d="";for(a=0;c>a;a+=1)this.layers[a].ddd&&3!==this.layers[a].ty?"3d"!==d&&(d="3d",b=this.createThreeDContainer(a,"3d")):"2d"!==d&&(d="2d",b=this.createThreeDContainer(a,"2d")),b.endPos=Math.max(b.endPos,a);for(a=(c=this.threeDElements.length)-1;a>=0;a--)this.resizerElem.appendChild(this.threeDElements[a].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(a,b){for(var c=0,d=this.threeDElements.length;d>c;){if(b<=this.threeDElements[c].endPos){for(var e,f=this.threeDElements[c].startPos;b>f;)this.elements[f]&&this.elements[f].getBaseElement&&(e=this.elements[f].getBaseElement()),f+=1;e?this.threeDElements[c].container.insertBefore(a,e):this.threeDElements[c].container.appendChild(a);break}c+=1}},HybridRenderer.prototype.configAnimation=function(a){var b=createTag("div"),c=this.animationItem.wrapper;b.style.width=a.w+"px",b.style.height=a.h+"px",styleDiv(this.resizerElem=b),b.style.transformStyle=b.style.webkitTransformStyle=b.style.mozTransformStyle="flat",this.renderConfig.className&&b.setAttribute("class",this.renderConfig.className),c.appendChild(b),b.style.overflow="hidden";var d=createNS("svg");d.setAttribute("width","1"),d.setAttribute("height","1"),styleDiv(d),this.resizerElem.appendChild(d);var e=createNS("defs");d.appendChild(e),this.data=a,this.setupGlobalData(a,d),this.globalData.defs=e,this.layers=a.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var a,b=this.layers?this.layers.length:0;for(a=0;b>a;a++)this.elements[a].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var a,b,c,d,e=this.animationItem.wrapper.offsetWidth,f=this.animationItem.wrapper.offsetHeight;d=e/f<this.globalData.compSize.w/this.globalData.compSize.h?(a=e/this.globalData.compSize.w,b=e/this.globalData.compSize.w,c=0,(f-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(a=f/this.globalData.compSize.h,b=f/this.globalData.compSize.h,c=(e-this.globalData.compSize.w*(f/this.globalData.compSize.h))/2,0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+a+",0,0,0,0,"+b+",0,0,0,0,1,0,"+c+","+d+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var a,b=this.globalData.compSize.w,c=this.globalData.compSize.h,d=this.threeDElements.length;for(a=0;d>a;a+=1)this.threeDElements[a].perspectiveElem.style.perspective=this.threeDElements[a].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(b,2)+Math.pow(c,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(a){var b,c=a.length,d=createTag("div");for(b=0;c>b;b+=1)if(a[b].xt){var e=this.createComp(a[b],d,this.globalData.comp,null);e.initExpressions(),this.globalData.projectInterface.registerComposition(e)}},MaskElement.prototype.getMaskProperty=function(a){return this.viewData[a].prop},MaskElement.prototype.renderFrame=function(a){var b,c=this.element.finalTransform.mat,d=this.masksProperties.length;for(b=0;d>b;b++)if((this.viewData[b].prop._mdf||a)&&this.drawPath(this.masksProperties[b],this.viewData[b].prop.v,this.viewData[b]),(this.viewData[b].op._mdf||a)&&this.viewData[b].elem.setAttribute("fill-opacity",this.viewData[b].op.v),"n"!==this.masksProperties[b].mode&&(this.viewData[b].invRect&&(this.element.finalTransform.mProp._mdf||a)&&(this.viewData[b].invRect.setAttribute("x",-c.props[12]),this.viewData[b].invRect.setAttribute("y",-c.props[13])),this.storedData[b].x&&(this.storedData[b].x._mdf||a))){var e=this.storedData[b].expan;this.storedData[b].x.v<0?("erode"!==this.storedData[b].lastOperator&&(this.storedData[b].lastOperator="erode",this.storedData[b].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[b].filterId+")")),e.setAttribute("radius",-this.storedData[b].x.v)):("dilate"!==this.storedData[b].lastOperator&&(this.storedData[b].lastOperator="dilate",this.storedData[b].elem.setAttribute("filter",null)),this.storedData[b].elem.setAttribute("stroke-width",2*this.storedData[b].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var a="M0,0 ";return a+=" h"+this.globalData.compSize.w,a+=" v"+this.globalData.compSize.h,a+=" h-"+this.globalData.compSize.w,a+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(a,b,c){var d,e,f=" M"+b.v[0][0]+","+b.v[0][1];for(e=b._length,d=1;e>d;d+=1)f+=" C"+b.o[d-1][0]+","+b.o[d-1][1]+" "+b.i[d][0]+","+b.i[d][1]+" "+b.v[d][0]+","+b.v[d][1];if(b.c&&e>1&&(f+=" C"+b.o[d-1][0]+","+b.o[d-1][1]+" "+b.i[0][0]+","+b.i[0][1]+" "+b.v[0][0]+","+b.v[0][1]),c.lastPath!==f){var g="";c.elem&&(b.c&&(g=a.inv?this.solidPath+f:f),c.elem.setAttribute("d",g)),c.lastPath=f}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(a){this.hierarchy=a},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(a,b){var c,d=this.dynamicProperties.length;for(c=0;d>c;c+=1)(b||this._isParent&&"transform"===this.dynamicProperties[c].propType)&&(this.dynamicProperties[c].getValue(),this.dynamicProperties[c]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(a){-1===this.dynamicProperties.indexOf(a)&&this.dynamicProperties.push(a)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var a,b=this.finalTransform.mat,c=0,d=this.hierarchy.length;
if(!this.finalTransform._matMdf)for(;d>c;){if(this.hierarchy[c].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}c+=1}if(this.finalTransform._matMdf)for(a=this.finalTransform.mProp.v.props,b.cloneFromProps(a),c=0;d>c;c+=1)a=this.hierarchy[c].finalTransform.mProp.v.props,b.transform(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}},globalToLocal:function(a){var b=[];b.push(this.finalTransform);for(var c=!0,d=this.comp;c;)d.finalTransform?(d.data.hasMask&&b.splice(0,0,d.finalTransform),d=d.comp):c=!1;var e,f,g=b.length;for(e=0;g>e;e+=1)f=b[e].mat.applyToPointArray(0,0,0),a=[a[0]-f[0],a[1]-f[1],0];return a},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(a){-1===this.renderableComponents.indexOf(a)&&this.renderableComponents.push(a)},removeRenderableComponent:function(a){-1!==this.renderableComponents.indexOf(a)&&this.renderableComponents.splice(this.renderableComponents.indexOf(a),1)},prepareRenderableFrame:function(a){this.checkLayerLimits(a)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(a){this.data.ip-this.data.st<=a&&this.data.op-this.data.st>a?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var a,b=this.renderableComponents.length;for(a=0;b>a;a+=1)this.renderableComponents[a].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initTransform(a,b,c),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(a){this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(a,b,c){this.o=PropertyFactory.getProp(a,b.o,0,.01,this),this.s=PropertyFactory.getProp(a,b.s,1,null,this),this.e=PropertyFactory.getProp(a,b.e,1,null,this),this.h=PropertyFactory.getProp(a,b.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(a,b.a||{k:0},0,degToRads,this),this.g=new GradientProperty(a,b.g,this),this.style=c,this.stops=[],this.setGradientData(c.pElem,b),this.setGradientOpacity(b,c),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(a,b){var c=createElementID(),d=createNS(1===b.t?"linearGradient":"radialGradient");d.setAttribute("id",c),d.setAttribute("spreadMethod","pad"),d.setAttribute("gradientUnits","userSpaceOnUse");var e,f,g,h=[];for(g=4*b.g.p,f=0;g>f;f+=4)e=createNS("stop"),d.appendChild(e),h.push(e);a.setAttribute("gf"===b.ty?"fill":"stroke","url("+locationHref+"#"+c+")"),this.gf=d,this.cst=h},SVGGradientFillStyleData.prototype.setGradientOpacity=function(a,b){if(this.g._hasOpacity&&!this.g._collapsable){var c,d,e,f=createNS("mask"),g=createNS("path");f.appendChild(g);var h=createElementID(),i=createElementID();f.setAttribute("id",i);var j=createNS(1===a.t?"linearGradient":"radialGradient");j.setAttribute("id",h),j.setAttribute("spreadMethod","pad"),j.setAttribute("gradientUnits","userSpaceOnUse"),e=a.g.k.k[0].s?a.g.k.k[0].s.length:a.g.k.k.length;var k=this.stops;for(d=4*a.g.p;e>d;d+=2)(c=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),j.appendChild(c),k.push(c);g.setAttribute("gf"===a.ty?"fill":"stroke","url("+locationHref+"#"+h+")"),this.of=j,this.ms=f,this.ost=k,this.maskId=i,b.msElem=g}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){function a(a,b,c){(c||b.transform.op._mdf)&&b.transform.container.setAttribute("opacity",b.transform.op.v),(c||b.transform.mProps._mdf)&&b.transform.container.setAttribute("transform",b.transform.mProps.v.to2dCSS())}function b(a,b,c){var d,e,f,i,j,k,l,m,n,o,p,q=b.styles.length,r=b.lvl;for(k=0;q>k;k+=1){if(i=b.sh._mdf||c,b.styles[k].lvl<r){for(m=h.reset(),o=r-b.styles[k].lvl,p=b.transformers.length-1;!i&&o>0;)i=b.transformers[p].mProps._mdf||i,o--,p--;if(i)for(o=r-b.styles[k].lvl,p=b.transformers.length-1;o>0;)n=b.transformers[p].mProps.v.props,m.transform(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]),o--,p--}else m=g;if(e=(l=b.sh.paths)._length,i){for(f="",d=0;e>d;d+=1)(j=l.shapes[d])&&j._length&&(f+=buildShapeString(j,j._length,j.c,m));b.caches[k]=f}else f=b.caches[k];b.styles[k].d+=!0===a.hd?"":f,b.styles[k]._mdf=i||b.styles[k]._mdf}}function c(a,b,c){var d=b.style;(b.c._mdf||c)&&d.pElem.setAttribute("fill","rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o._mdf||c)&&d.pElem.setAttribute("fill-opacity",b.o.v)}function d(a,b,c){e(a,b,c),f(a,b,c)}function e(a,b,c){var d,e,f,g,h,i=b.gf,j=b.g._hasOpacity,k=b.s.v,l=b.e.v;if(b.o._mdf||c){var m="gf"===a.ty?"fill-opacity":"stroke-opacity";b.style.pElem.setAttribute(m,b.o.v)}if(b.s._mdf||c){var n=1===a.t?"x1":"cx",o="x1"===n?"y1":"cy";i.setAttribute(n,k[0]),i.setAttribute(o,k[1]),j&&!b.g._collapsable&&(b.of.setAttribute(n,k[0]),b.of.setAttribute(o,k[1]))}if(b.g._cmdf||c){d=b.cst;var p=b.g.c;for(f=d.length,e=0;f>e;e+=1)(g=d[e]).setAttribute("offset",p[4*e]+"%"),g.setAttribute("stop-color","rgb("+p[4*e+1]+","+p[4*e+2]+","+p[4*e+3]+")")}if(j&&(b.g._omdf||c)){var q=b.g.o;for(f=(d=b.g._collapsable?b.cst:b.ost).length,e=0;f>e;e+=1)g=d[e],b.g._collapsable||g.setAttribute("offset",q[2*e]+"%"),g.setAttribute("stop-opacity",q[2*e+1])}if(1===a.t)(b.e._mdf||c)&&(i.setAttribute("x2",l[0]),i.setAttribute("y2",l[1]),j&&!b.g._collapsable&&(b.of.setAttribute("x2",l[0]),b.of.setAttribute("y2",l[1])));else if((b.s._mdf||b.e._mdf||c)&&(h=Math.sqrt(Math.pow(k[0]-l[0],2)+Math.pow(k[1]-l[1],2)),i.setAttribute("r",h),j&&!b.g._collapsable&&b.of.setAttribute("r",h)),b.e._mdf||b.h._mdf||b.a._mdf||c){h||(h=Math.sqrt(Math.pow(k[0]-l[0],2)+Math.pow(k[1]-l[1],2)));var r=Math.atan2(l[1]-k[1],l[0]-k[0]),s=h*(1<=b.h.v?.99:b.h.v<=-1?-.99:b.h.v),t=Math.cos(r+b.a.v)*s+k[0],u=Math.sin(r+b.a.v)*s+k[1];i.setAttribute("fx",t),i.setAttribute("fy",u),j&&!b.g._collapsable&&(b.of.setAttribute("fx",t),b.of.setAttribute("fy",u))}}function f(a,b,c){var d=b.style,e=b.d;e&&(e._mdf||c)&&e.dashStr&&(d.pElem.setAttribute("stroke-dasharray",e.dashStr),d.pElem.setAttribute("stroke-dashoffset",e.dashoffset[0])),b.c&&(b.c._mdf||c)&&d.pElem.setAttribute("stroke","rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o._mdf||c)&&d.pElem.setAttribute("stroke-opacity",b.o.v),(b.w._mdf||c)&&(d.pElem.setAttribute("stroke-width",b.w.v),d.msElem&&d.msElem.setAttribute("stroke-width",b.w.v))}var g=new Matrix,h=new Matrix;return{createRenderFunction:function(g){switch(g.ty,g.ty){case"fl":return c;case"gf":return e;case"gs":return d;case"st":return f;case"sh":case"el":case"rc":case"sr":return b;case"tr":return a}}}}();ShapeTransformManager.prototype={addTransformSequence:function(a){var b,c=a.length,d="_";for(b=0;c>b;b+=1)d+=a[b].transform.key+"_";var e=this.sequences[d];return e||(e={transforms:[].concat(a),finalTransform:new Matrix,_mdf:!1},this.sequences[d]=e,this.sequenceList.push(e)),e},processSequence:function(a,b){for(var c,d=0,e=a.transforms.length,f=b;e>d&&!b;){if(a.transforms[d].transform.mProps._mdf){f=!0;break}d+=1}if(f)for(a.finalTransform.reset(),d=e-1;d>=0;d-=1)c=a.transforms[d].transform.mProps.v.props,a.finalTransform.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]);a._mdf=f},processSequences:function(a){var b,c=this.sequenceList.length;for(b=0;c>b;b+=1)this.processSequence(this.sequenceList[b],a)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var a=0,b=this.data.masksProperties.length;b>a;){if("n"!==this.data.masksProperties[a].mode&&!1!==this.data.masksProperties[a].cl)return!0;a+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var a=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=a},initBaseData:function(a,b,c){this.globalData=b,this.comp=c,this.data=a,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(a){this.prepareProperties(a,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var a,b,c,d=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var e=createNS("mask");e.setAttribute("id",this.layerId),e.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),e.appendChild(this.layerElement),d=e,this.globalData.defs.appendChild(e),featureSupport.maskType||1!=this.data.td||(e.setAttribute("mask-type","luminance"),a=createElementID(),b=filtersFactory.createFilter(a),this.globalData.defs.appendChild(b),b.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(c=createNS("g")).appendChild(this.layerElement),d=c,e.appendChild(c),c.setAttribute("filter","url("+locationHref+"#"+a+")"))}else if(2==this.data.td){var f=createNS("mask");f.setAttribute("id",this.layerId),f.setAttribute("mask-type","alpha");var g=createNS("g");f.appendChild(g),a=createElementID(),b=filtersFactory.createFilter(a);var h=createNS("feComponentTransfer");h.setAttribute("in","SourceGraphic"),b.appendChild(h);var i=createNS("feFuncA");i.setAttribute("type","table"),i.setAttribute("tableValues","1.0 0.0"),h.appendChild(i),this.globalData.defs.appendChild(b);var j=createNS("rect");j.setAttribute("width",this.comp.data.w),j.setAttribute("height",this.comp.data.h),j.setAttribute("x","0"),j.setAttribute("y","0"),j.setAttribute("fill","#ffffff"),j.setAttribute("opacity","0"),g.setAttribute("filter","url("+locationHref+"#"+a+")"),g.appendChild(j),g.appendChild(this.layerElement),d=g,featureSupport.maskType||(f.setAttribute("mask-type","luminance"),b.appendChild(filtersFactory.createAlphaToLuminanceFilter()),c=createNS("g"),g.appendChild(j),c.appendChild(this.layerElement),d=c,g.appendChild(c)),this.globalData.defs.appendChild(f)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),d=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var k=createNS("clipPath"),l=createNS("path");l.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var m=createElementID();if(k.setAttribute("id",m),k.appendChild(l),this.globalData.defs.appendChild(k),this.checkMasks()){var n=createNS("g");n.setAttribute("clip-path","url("+locationHref+"#"+m+")"),n.appendChild(this.layerElement),this.transformedElement=n,d?d.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+m+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(a){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+a+")")}},IShapeElement.prototype={addShapeToModifiers:function(a){var b,c=this.shapeModifiers.length;for(b=0;c>b;b+=1)this.shapeModifiers[b].addShape(a)},isShapeInAnimatedModifiers:function(a){for(var b=this.shapeModifiers.length;b>0;)if(this.shapeModifiers[0].isAnimatedWithShape(a))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var a,b=this.shapes.length;for(a=0;b>a;a+=1)this.shapes[a].sh.reset();for(a=(b=this.shapeModifiers.length)-1;a>=0;a-=1)this.shapeModifiers[a].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(a){for(var b=this.processedElements,c=0,d=b.length;d>c;){if(b[c].elem===a)return b[c].pos;c+=1}return 0},addProcessedElement:function(a,b){for(var c=this.processedElements,d=c.length;d;)if(c[d-=1].elem===a)return void(c[d].pos=b);c.push(new ProcessedElement(a,b))},prepareFrame:function(a){this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange)}},ITextElement.prototype.initElement=function(a,b,c){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(a,b,c),this.textProperty=new TextProperty(this,a.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(a.t,this.renderType,this),this.initTransform(a,b,c),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(a){this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(a,b){var c,d,e=b.length,f="";for(c=0;e>c;c+=1)d=b[c].ks.k,f+=buildShapeString(d,d.i.length,!0,a);return f},ITextElement.prototype.updateDocumentData=function(a,b){this.textProperty.updateDocumentData(a,b)},ITextElement.prototype.canResizeFont=function(a){this.textProperty.canResizeFont(a)},ITextElement.prototype.setMinimumFontSize=function(a){this.textProperty.setMinimumFontSize(a)},ITextElement.prototype.applyTextPropertiesToMatrix=function(a,b,c,d,e){switch(a.ps&&b.translate(a.ps[0],a.ps[1]+a.ascent,0),b.translate(0,-a.ls,0),a.j){case 1:b.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[c]),0,0);break;case 2:b.translate(a.justifyOffset+(a.boxWidth-a.lineWidths[c])/2,0,0)}b.translate(d,e,0)},ITextElement.prototype.buildColor=function(a){return"rgb("+Math.round(255*a[0])+","+Math.round(255*a[1])+","+Math.round(255*a[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(a,b,c){this.initFrame(),this.initBaseData(a,b,c),this.initTransform(a,b,c),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&b.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(a){if(this._mdf=!1,this.prepareRenderableFrame(a),this.prepareProperties(a,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=a/this.data.sr;else{var b=this.tm.v;b===this.data.op&&(b=this.data.op-1),this.renderedFrame=b}var c,d=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),c=d-1;c>=0;c-=1)(this.completeLayers||this.elements[c])&&(this.elements[c].prepareFrame(this.renderedFrame-this.layers[c].st),this.elements[c]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var a,b=this.layers.length;for(a=0;b>a;a+=1)(this.completeLayers||this.elements[a])&&this.elements[a].renderFrame()},ICompElement.prototype.setElements=function(a){this.elements=a},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var a,b=this.layers.length;for(a=0;b>a;a+=1)this.elements[a]&&this.elements[a].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var a=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var a=createNS("rect");a.setAttribute("width",this.data.sw),a.setAttribute("height",this.data.sh),a.setAttribute("fill",this.data.sc),this.layerElement.appendChild(a)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(a){for(var b=0,c=a.length,d=[],e="";c>b;)a[b]===String.fromCharCode(13)||a[b]===String.fromCharCode(3)?(d.push(e),e=""):e+=a[b],b+=1;return d.push(e),d},SVGTextElement.prototype.buildNewText=function(){var a,b,c=this.textProperty.currentData;this.renderedLetters=createSizedArray(c?c.l.length:0),c.fc?this.layerElement.setAttribute("fill",this.buildColor(c.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),c.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(c.sc)),this.layerElement.setAttribute("stroke-width",c.sw)),this.layerElement.setAttribute("font-size",c.finalSize);var d=this.globalData.fontManager.getFontByName(c.f);if(d.fClass)this.layerElement.setAttribute("class",d.fClass);else{this.layerElement.setAttribute("font-family",d.fFamily);var e=c.fWeight,f=c.fStyle;this.layerElement.setAttribute("font-style",f),this.layerElement.setAttribute("font-weight",e)}this.layerElement.setAttribute("aria-label",c.t);var g,h=c.l||[],i=!!this.globalData.fontManager.chars;b=h.length;var j,k=this.mHelper,l="",m=this.data.singleShape,n=0,o=0,p=!0,q=c.tr/1e3*c.finalSize;if(!m||i||c.sz){var r,s,t=this.textSpans.length;for(a=0;b>a;a+=1)i&&m&&0!==a||(g=t>a?this.textSpans[a]:createNS(i?"path":"text"),a>=t&&(g.setAttribute("stroke-linecap","butt"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit","4"),this.textSpans[a]=g,this.layerElement.appendChild(g)),g.style.display="inherit"),k.reset(),k.scale(c.finalSize/100,c.finalSize/100),m&&(h[a].n&&(n=-q,o+=c.yOffset,o+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(c,k,h[a].line,n,o),n+=h[a].l||0,n+=q),i?(j=(r=(s=this.globalData.fontManager.getCharData(c.finalText[a],d.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily))&&s.data||{}).shapes?r.shapes[0].it:[],m?l+=this.createPathShape(k,j):g.setAttribute("d",this.createPathShape(k,j))):(m&&g.setAttribute("transform","translate("+k.props[12]+","+k.props[13]+")"),g.textContent=h[a].val,g.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));m&&g&&g.setAttribute("d",l)}else{var u=this.textContainer,v="start";switch(c.j){case 1:v="end";break;case 2:v="middle"}u.setAttribute("text-anchor",v),u.setAttribute("letter-spacing",q);var w=this.buildTextContents(c.finalText);for(b=w.length,o=c.ps?c.ps[1]+c.ascent:0,a=0;b>a;a+=1)(g=this.textSpans[a]||createNS("tspan")).textContent=w[a],g.setAttribute("x",0),g.setAttribute("y",o),g.style.display="inherit",u.appendChild(g),this.textSpans[a]=g,o+=c.finalLineHeight;this.layerElement.appendChild(u)}for(;a<this.textSpans.length;)this.textSpans[a].style.display="none",a+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(a){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var b=this.layerElement.getBBox();this.bbox={top:b.y,left:b.x,width:b.width,height:b.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var a,b;this._sizeChanged=!0;var c,d,e=this.textAnimator.renderedLetters,f=this.textProperty.currentData.l;for(b=f.length,a=0;b>a;a+=1)f[a].n||(c=e[a],d=this.textSpans[a],c._mdf.m&&d.setAttribute("transform",c.m),c._mdf.o&&d.setAttribute("opacity",c.o),c._mdf.sw&&d.setAttribute("stroke-width",c.sw),c._mdf.sc&&d.setAttribute("stroke",c.sc),c._mdf.fc&&d.setAttribute("fill",c.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var a,b,c,d,e=this.shapes.length,f=this.stylesList.length,g=[],h=!1;for(c=0;f>c;c+=1){for(d=this.stylesList[c],h=!1,a=g.length=0;e>a;a+=1)-1!==(b=this.shapes[a]).styles.indexOf(d)&&(g.push(b),h=b._isAnimated||h);1<g.length&&h&&this.setShapesAsAnimated(g)}},SVGShapeElement.prototype.setShapesAsAnimated=function(a){var b,c=a.length;for(b=0;c>b;b+=1)a[b].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(a,b){var c,d=new SVGStyleData(a,b),e=d.pElem;return"st"===a.ty?c=new SVGStrokeStyleData(this,a,d):"fl"===a.ty?c=new SVGFillStyleData(this,a,d):("gf"===a.ty||"gs"===a.ty)&&(c=new("gf"===a.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,a,d),this.globalData.defs.appendChild(c.gf),c.maskId&&(this.globalData.defs.appendChild(c.ms),this.globalData.defs.appendChild(c.of),e.setAttribute("mask","url("+locationHref+"#"+c.maskId+")"))),"st"!==a.ty&&"gs"!==a.ty||(e.setAttribute("stroke-linecap",this.lcEnum[a.lc]||"round"),e.setAttribute("stroke-linejoin",this.ljEnum[a.lj]||"round"),e.setAttribute("fill-opacity","0"),1===a.lj&&e.setAttribute("stroke-miterlimit",a.ml)),2===a.r&&e.setAttribute("fill-rule","evenodd"),a.ln&&e.setAttribute("id",a.ln),a.cl&&e.setAttribute("class",a.cl),a.bm&&(e.style["mix-blend-mode"]=getBlendMode(a.bm)),this.stylesList.push(d),this.addToAnimatedContents(a,c),c},SVGShapeElement.prototype.createGroupElement=function(a){var b=new ShapeGroupData;return a.ln&&b.gr.setAttribute("id",a.ln),a.cl&&b.gr.setAttribute("class",a.cl),a.bm&&(b.gr.style["mix-blend-mode"]=getBlendMode(a.bm)),b},SVGShapeElement.prototype.createTransformElement=function(a,b){var c=TransformPropertyFactory.getTransformProperty(this,a,this),d=new SVGTransformData(c,c.o,b);return this.addToAnimatedContents(a,d),d},SVGShapeElement.prototype.createShapeElement=function(a,b,c){var d=4;"rc"===a.ty?d=5:"el"===a.ty?d=6:"sr"===a.ty&&(d=7);var e=new SVGShapeData(b,c,ShapePropertyFactory.getShapeProp(this,a,d,this));return this.shapes.push(e),this.addShapeToModifiers(e),this.addToAnimatedContents(a,e),e},SVGShapeElement.prototype.addToAnimatedContents=function(a,b){for(var c=0,d=this.animatedContents.length;d>c;){if(this.animatedContents[c].element===b)return;c+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(a),element:b,data:a})},SVGShapeElement.prototype.setElementStyles=function(a){var b,c=a.styles,d=this.stylesList.length;for(b=0;d>b;b+=1)this.stylesList[b].closed||c.push(this.stylesList[b])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var a,b=this.itemsData.length;for(a=0;b>a;a+=1)this.prevViewData[a]=this.itemsData[a];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),b=this.dynamicProperties.length,a=0;b>a;a+=1)this.dynamicProperties[a].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n=[].concat(f),o=a.length-1,p=[],q=[];for(h=o;h>=0;h-=1){if((m=this.searchProcessedElement(a[h]))?b[h]=c[m-1]:a[h]._render=g,"fl"==a[h].ty||"st"==a[h].ty||"gf"==a[h].ty||"gs"==a[h].ty)m?b[h].style.closed=!1:b[h]=this.createStyleElement(a[h],e),a[h]._render&&d.appendChild(b[h].style.pElem),p.push(b[h].style);else if("gr"==a[h].ty){if(m)for(j=b[h].it.length,i=0;j>i;i+=1)b[h].prevViewData[i]=b[h].it[i];else b[h]=this.createGroupElement(a[h]);this.searchShapes(a[h].it,b[h].it,b[h].prevViewData,b[h].gr,e+1,n,g),a[h]._render&&d.appendChild(b[h].gr)}else"tr"==a[h].ty?(m||(b[h]=this.createTransformElement(a[h],d)),k=b[h].transform,n.push(k)):"sh"==a[h].ty||"rc"==a[h].ty||"el"==a[h].ty||"sr"==a[h].ty?(m||(b[h]=this.createShapeElement(a[h],n,e)),this.setElementStyles(b[h])):"tm"==a[h].ty||"rd"==a[h].ty||"ms"==a[h].ty?(m?(l=b[h]).closed=!1:((l=ShapeModifiers.getModifier(a[h].ty)).init(this,a[h]),b[h]=l,this.shapeModifiers.push(l)),q.push(l)):"rp"==a[h].ty&&(m?(l=b[h]).closed=!0:(l=ShapeModifiers.getModifier(a[h].ty),(b[h]=l).init(this,a,h,b),this.shapeModifiers.push(l),g=!1),q.push(l));this.addProcessedElement(a[h],h+1)}for(o=p.length,h=0;o>h;h+=1)p[h].closed=!0;for(o=q.length,h=0;o>h;h+=1)q[h].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var a,b=this.stylesList.length;for(a=0;b>a;a+=1)this.stylesList[a].reset();for(this.renderShape(),a=0;b>a;a+=1)(this.stylesList[a]._mdf||this._isFirstFrame)&&(this.stylesList[a].msElem&&(this.stylesList[a].msElem.setAttribute("d",this.stylesList[a].d),this.stylesList[a].d="M0 0"+this.stylesList[a].d),this.stylesList[a].pElem.setAttribute("d",this.stylesList[a].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var a,b,c=this.animatedContents.length;for(a=0;c>a;a+=1)b=this.animatedContents[a],(this._isFirstFrame||b.element._isAnimated)&&!0!==b.data&&b.fn(b.data,b.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b=this.filterManager.effectElements[0].p.v,c=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",c[0]-b[0]+" 0 0 0 "+b[0]+" "+(c[1]-b[1])+" 0 0 0 "+b[1]+" "+(c[2]-b[2])+" 0 0 0 "+b[2]+" 0 0 0 "+d+" 0")}},SVGFillFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b=this.filterManager.effectElements[2].p.v,c=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+b[0]+" 0 0 0 0 "+b[1]+" 0 0 0 0 "+b[2]+" 0 0 0 "+c+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b=.3*this.filterManager.effectElements[0].p.v,c=this.filterManager.effectElements[1].p.v,d=3==c?0:b,e=2==c?0:b;this.feGaussianBlur.setAttribute("stdDeviation",d+" "+e);var f=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",f)}},SVGStrokeEffect.prototype.initialize=function(){var a,b,c,d,e=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(d=this.elem.maskManager.masksProperties.length,c=0):d=(c=this.filterManager.effectElements[0].p.v-1)+1,(b=createNS("g")).setAttribute("fill","none"),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-dashoffset",1);d>c;c+=1)a=createNS("path"),b.appendChild(a),this.paths.push({p:a,m:c});if(3===this.filterManager.effectElements[10].p.v){var f=createNS("mask"),g=createElementID();f.setAttribute("id",g),f.setAttribute("mask-type","alpha"),f.appendChild(b),this.elem.globalData.defs.appendChild(f);var h=createNS("g");for(h.setAttribute("mask","url("+locationHref+"#"+g+")");e[0];)h.appendChild(e[0]);this.elem.layerElement.appendChild(h),this.masker=f,b.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(b),this.elem.layerElement.removeAttribute("mask"),b.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=b},SVGStrokeEffect.prototype.renderFrame=function(a){this.initialized||this.initialize();var b,c,d,e=this.paths.length;for(b=0;e>b;b+=1)if(-1!==this.paths[b].m&&(c=this.elem.maskManager.viewData[this.paths[b].m],d=this.paths[b].p,(a||this.filterManager._mdf||c.prop._mdf)&&d.setAttribute("d",c.lastPath),a||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||c.prop._mdf)){
var f;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var g=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,h=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,i=d.getTotalLength();f="0 0 0 "+i*g+" ";var j,k=i*(h-g),l=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,m=Math.floor(k/l);for(j=0;m>j;j+=1)f+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";f+="0 "+10*i+" 0 0"}else f="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;d.setAttribute("stroke-dasharray",f)}if((a||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(a||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(a||this.filterManager.effectElements[3].p._mdf)){var n=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*n[0])+","+bm_floor(255*n[1])+","+bm_floor(255*n[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b=this.filterManager.effectElements[0].p.v,c=this.filterManager.effectElements[1].p.v,d=this.filterManager.effectElements[2].p.v,e=d[0]+" "+c[0]+" "+b[0],f=d[1]+" "+c[1]+" "+b[1],g=d[2]+" "+c[2]+" "+b[2];this.feFuncR.setAttribute("tableValues",e),this.feFuncG.setAttribute("tableValues",f),this.feFuncB.setAttribute("tableValues",g)}},SVGProLevelsFilter.prototype.createFeFunc=function(a,b){var c=createNS(a);return c.setAttribute("type","table"),b.appendChild(c),c},SVGProLevelsFilter.prototype.getTableValue=function(a,b,c,d,e){for(var f,g,h=0,i=Math.min(a,b),j=Math.max(a,b),k=Array.call(null,{length:256}),l=0,m=e-d,n=b-a;256>=h;)g=(f=h/256)<=i?0>n?e:d:f>=j?0>n?d:e:d+m*Math.pow((f-a)/n,1/c),k[l++]=g,h+=256/255;return k.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){var b,c=this.filterManager.effectElements;this.feFuncRComposed&&(a||c[3].p._mdf||c[4].p._mdf||c[5].p._mdf||c[6].p._mdf||c[7].p._mdf)&&(b=this.getTableValue(c[3].p.v,c[4].p.v,c[5].p.v,c[6].p.v,c[7].p.v),this.feFuncRComposed.setAttribute("tableValues",b),this.feFuncGComposed.setAttribute("tableValues",b),this.feFuncBComposed.setAttribute("tableValues",b)),this.feFuncR&&(a||c[10].p._mdf||c[11].p._mdf||c[12].p._mdf||c[13].p._mdf||c[14].p._mdf)&&(b=this.getTableValue(c[10].p.v,c[11].p.v,c[12].p.v,c[13].p.v,c[14].p.v),this.feFuncR.setAttribute("tableValues",b)),this.feFuncG&&(a||c[17].p._mdf||c[18].p._mdf||c[19].p._mdf||c[20].p._mdf||c[21].p._mdf)&&(b=this.getTableValue(c[17].p.v,c[18].p.v,c[19].p.v,c[20].p.v,c[21].p.v),this.feFuncG.setAttribute("tableValues",b)),this.feFuncB&&(a||c[24].p._mdf||c[25].p._mdf||c[26].p._mdf||c[27].p._mdf||c[28].p._mdf)&&(b=this.getTableValue(c[24].p.v,c[25].p.v,c[26].p.v,c[27].p.v,c[28].p.v),this.feFuncB.setAttribute("tableValues",b)),this.feFuncA&&(a||c[31].p._mdf||c[32].p._mdf||c[33].p._mdf||c[34].p._mdf||c[35].p._mdf)&&(b=this.getTableValue(c[31].p.v,c[32].p.v,c[33].p.v,c[34].p.v,c[35].p.v),this.feFuncA.setAttribute("tableValues",b))}},SVGDropShadowEffect.prototype.renderFrame=function(a){if(a||this.filterManager._mdf){if((a||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),a||this.filterManager.effectElements[0].p._mdf){var b=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*b[0]),Math.round(255*b[1]),Math.round(255*b[2])))}if((a||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),a||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var c=this.filterManager.effectElements[3].p.v,d=(this.filterManager.effectElements[2].p.v-90)*degToRads,e=c*Math.cos(d),f=c*Math.sin(d);this.feOffset.setAttribute("dx",e),this.feOffset.setAttribute("dy",f)}}};var _svgMatteSymbols=[];SVGMatte3Effect.prototype.findSymbol=function(a){for(var b=0,c=_svgMatteSymbols.length;c>b;){if(_svgMatteSymbols[b]===a)return _svgMatteSymbols[b];b+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(a,b){var c=a.layerElement.parentNode;if(c){for(var d,e=c.children,f=0,g=e.length;g>f&&e[f]!==a.layerElement;)f+=1;g-2>=f&&(d=e[f+1]);var h=createNS("use");h.setAttribute("href","#"+b),d?c.insertBefore(h,d):c.appendChild(h)}},SVGMatte3Effect.prototype.setElementAsMask=function(a,b){if(!this.findSymbol(b)){var c=createElementID(),d=createNS("mask");d.setAttribute("id",b.layerId),d.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(b);var e=a.globalData.defs;e.appendChild(d);var f=createNS("symbol");f.setAttribute("id",c),this.replaceInParent(b,c),f.appendChild(b.layerElement),e.appendChild(f);var g=createNS("use");g.setAttribute("href","#"+c),d.appendChild(g),b.data.hd=!1,b.show()}a.setMatte(b.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var a=this.filterManager.effectElements[0].p.v,b=this.elem.comp.elements,c=0,d=b.length;d>c;)b[c]&&b[c].data.ind===a&&this.setElementAsMask(this.elem,b[c]),c+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(a){var b,c=this.filters.length;for(b=0;c>b;b+=1)this.filters[b].renderFrame(a)},CVContextData.prototype.duplicate=function(){var a=2*this._length,b=this.savedOp;this.savedOp=createTypedArray("float32",a),this.savedOp.set(b);var c=0;for(c=this._length;a>c;c+=1)this.saved[c]=createTypedArray("float32",16);this._length=a},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var a=this.globalData;if(a.blendMode!==this.data.bm){a.blendMode=this.data.bm;var b=getBlendMode(this.data.bm);a.canvasContext.globalCompositeOperation=b}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){this.hidden||this.data.hd||(this.renderTransform(),this.renderRenderable(),this.setBlendMode(),this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var a=createTag("canvas");a.width=this.assetData.w,a.height=this.assetData.h;var b,c,d=a.getContext("2d"),e=this.img.width,f=this.img.height,g=e/f,h=this.assetData.w/this.assetData.h,i=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;g>h&&"xMidYMid slice"===i||h>g&&"xMidYMid slice"!==i?b=(c=f)*h:c=(b=e)/h,d.drawImage(this.img,(e-b)/2,(f-c)/2,b,c,0,0,this.assetData.w,this.assetData.h),this.img=a}},CVImageElement.prototype.renderInnerContent=function(a){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var a;for(a=this.layers.length-1;a>=0;a-=1)(this.completeLayers||this.elements[a])&&this.elements[a].renderFrame()},CVCompElement.prototype.destroy=function(){var a;for(a=this.layers.length-1;a>=0;a-=1)this.elements[a]&&this.elements[a].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var a,b,c,d,e=this.element.finalTransform.mat,f=this.element.canvasContext,g=this.masksProperties.length;for(f.beginPath(),a=0;g>a;a++)if("n"!==this.masksProperties[a].mode){this.masksProperties[a].inv&&(f.moveTo(0,0),f.lineTo(this.element.globalData.compSize.w,0),f.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),f.lineTo(0,this.element.globalData.compSize.h),f.lineTo(0,0)),d=this.viewData[a].v,b=e.applyToPointArray(d.v[0][0],d.v[0][1],0),f.moveTo(b[0],b[1]);var h,i=d._length;for(h=1;i>h;h++)c=e.applyToTriplePoints(d.o[h-1],d.i[h],d.v[h]),f.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);c=e.applyToTriplePoints(d.o[h-1],d.i[0],d.v[0]),f.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5])}this.element.globalData.renderer.save(!0),f.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(a,b){var c={data:a,type:a.ty,preTransforms:this.transformsManager.addTransformSequence(b),transforms:[],elements:[],closed:!0===a.hd},d={};if("fl"==a.ty||"st"==a.ty?(d.c=PropertyFactory.getProp(this,a.c,1,255,this),d.c.k||(c.co="rgb("+bm_floor(d.c.v[0])+","+bm_floor(d.c.v[1])+","+bm_floor(d.c.v[2])+")")):"gf"!==a.ty&&"gs"!==a.ty||(d.s=PropertyFactory.getProp(this,a.s,1,null,this),d.e=PropertyFactory.getProp(this,a.e,1,null,this),d.h=PropertyFactory.getProp(this,a.h||{k:0},0,.01,this),d.a=PropertyFactory.getProp(this,a.a||{k:0},0,degToRads,this),d.g=new GradientProperty(this,a.g,this)),d.o=PropertyFactory.getProp(this,a.o,0,.01,this),"st"==a.ty||"gs"==a.ty){if(c.lc=this.lcEnum[a.lc]||"round",c.lj=this.ljEnum[a.lj]||"round",1==a.lj&&(c.ml=a.ml),d.w=PropertyFactory.getProp(this,a.w,0,null,this),d.w.k||(c.wi=d.w.v),a.d){var e=new DashProperty(this,a.d,"canvas",this);d.d=e,d.d.k||(c.da=d.d.dashArray,c["do"]=d.d.dashoffset[0])}}else c.r=2===a.r?"evenodd":"nonzero";return this.stylesList.push(c),d.style=c,d},CVShapeElement.prototype.createGroupElement=function(a){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(a){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,a.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,a,this)}}},CVShapeElement.prototype.createShapeElement=function(a){var b=new CVShapeData(this,a,this.stylesList,this.transformsManager);return this.shapes.push(b),this.addShapeToModifiers(b),b},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var a,b=this.itemsData.length;for(a=0;b>a;a+=1)this.prevViewData[a]=this.itemsData[a];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),b=this.dynamicProperties.length,a=0;b>a;a+=1)this.dynamicProperties[a].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(a){var b,c=this.stylesList.length;for(b=0;c>b;b+=1)this.stylesList[b].closed||this.stylesList[b].transforms.push(a)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var a,b=this.stylesList.length;for(a=0;b>a;a+=1)this.stylesList[a].closed||this.stylesList[a].transforms.pop()},CVShapeElement.prototype.closeStyles=function(a){var b,c=a.length;for(b=0;c>b;b+=1)a[b].closed=!0},CVShapeElement.prototype.searchShapes=function(a,b,c,d,e){var f,g,h,i,j,k,l=a.length-1,m=[],n=[],o=[].concat(e);for(f=l;f>=0;f-=1){if((i=this.searchProcessedElement(a[f]))?b[f]=c[i-1]:a[f]._shouldRender=d,"fl"==a[f].ty||"st"==a[f].ty||"gf"==a[f].ty||"gs"==a[f].ty)i?b[f].style.closed=!1:b[f]=this.createStyleElement(a[f],o),m.push(b[f].style);else if("gr"==a[f].ty){if(i)for(h=b[f].it.length,g=0;h>g;g+=1)b[f].prevViewData[g]=b[f].it[g];else b[f]=this.createGroupElement(a[f]);this.searchShapes(a[f].it,b[f].it,b[f].prevViewData,d,o)}else"tr"==a[f].ty?(i||(k=this.createTransformElement(a[f]),b[f]=k),o.push(b[f]),this.addTransformToStyleList(b[f])):"sh"==a[f].ty||"rc"==a[f].ty||"el"==a[f].ty||"sr"==a[f].ty?i||(b[f]=this.createShapeElement(a[f])):"tm"==a[f].ty||"rd"==a[f].ty?(i?(j=b[f]).closed=!1:((j=ShapeModifiers.getModifier(a[f].ty)).init(this,a[f]),b[f]=j,this.shapeModifiers.push(j)),n.push(j)):"rp"==a[f].ty&&(i?(j=b[f]).closed=!0:(j=ShapeModifiers.getModifier(a[f].ty),(b[f]=j).init(this,a,f,b),this.shapeModifiers.push(j),d=!1),n.push(j));this.addProcessedElement(a[f],f+1)}for(this.removeTransformFromStyleList(),this.closeStyles(m),l=n.length,f=0;l>f;f+=1)n[f].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(a,b){(a._opMdf||b.op._mdf||this._isFirstFrame)&&(b.opacity=a.opacity,b.opacity*=b.op.v,b._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var a,b,c,d,e,f,g,h,i,j=this.stylesList.length,k=this.globalData.renderer,l=this.globalData.canvasContext;for(a=0;j>a;a+=1)if(("st"!==(h=(i=this.stylesList[a]).type)&&"gs"!==h||0!==i.wi)&&i.data._shouldRender&&0!==i.coOp&&0!==this.globalData.currentGlobalAlpha){for(k.save(),f=i.elements,"st"===h||"gs"===h?(l.strokeStyle="st"===h?i.co:i.grd,l.lineWidth=i.wi,l.lineCap=i.lc,l.lineJoin=i.lj,l.miterLimit=i.ml||0):l.fillStyle="fl"===h?i.co:i.grd,k.ctxOpacity(i.coOp),"st"!==h&&"gs"!==h&&l.beginPath(),k.ctxTransform(i.preTransforms.finalTransform.props),c=f.length,b=0;c>b;b+=1){for("st"!==h&&"gs"!==h||(l.beginPath(),i.da&&(l.setLineDash(i.da),l.lineDashOffset=i["do"])),e=(g=f[b].trNodes).length,d=0;e>d;d+=1)"m"==g[d].t?l.moveTo(g[d].p[0],g[d].p[1]):"c"==g[d].t?l.bezierCurveTo(g[d].pts[0],g[d].pts[1],g[d].pts[2],g[d].pts[3],g[d].pts[4],g[d].pts[5]):l.closePath();"st"!==h&&"gs"!==h||(l.stroke(),i.da&&l.setLineDash(this.dashResetter))}"st"!==h&&"gs"!==h&&l.fill(i.r),k.restore()}},CVShapeElement.prototype.renderShape=function(a,b,c,d){var e,f;for(f=a,e=b.length-1;e>=0;e-=1)"tr"==b[e].ty?(f=c[e].transform,this.renderShapeTransform(a,f)):"sh"==b[e].ty||"el"==b[e].ty||"rc"==b[e].ty||"sr"==b[e].ty?this.renderPath(b[e],c[e]):"fl"==b[e].ty?this.renderFill(b[e],c[e],f):"st"==b[e].ty?this.renderStroke(b[e],c[e],f):"gf"==b[e].ty||"gs"==b[e].ty?this.renderGradientFill(b[e],c[e],f):"gr"==b[e].ty?this.renderShape(f,b[e].it,c[e].it):b[e].ty;d&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(a,b){if(this._isFirstFrame||b._mdf||a.transforms._mdf){var c,d,e,f=a.trNodes,g=b.paths,h=g._length;f.length=0;var i=a.transforms.finalTransform;for(e=0;h>e;e+=1){var j=g.shapes[e];if(j&&j.v){for(d=j._length,c=1;d>c;c+=1)1===c&&f.push({t:"m",p:i.applyToPointArray(j.v[0][0],j.v[0][1],0)}),f.push({t:"c",pts:i.applyToTriplePoints(j.o[c-1],j.i[c],j.v[c])});1===d&&f.push({t:"m",p:i.applyToPointArray(j.v[0][0],j.v[0][1],0)}),j.c&&d&&(f.push({t:"c",pts:i.applyToTriplePoints(j.o[c-1],j.i[0],j.v[0])}),f.push({t:"z"}))}}a.trNodes=f}},CVShapeElement.prototype.renderPath=function(a,b){if(!0!==a.hd&&a._shouldRender){var c,d=b.styledShapes.length;for(c=0;d>c;c+=1)this.renderStyledShape(b.styledShapes[c],b.sh)}},CVShapeElement.prototype.renderFill=function(a,b,c){var d=b.style;(b.c._mdf||this._isFirstFrame)&&(d.co="rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o._mdf||c._opMdf||this._isFirstFrame)&&(d.coOp=b.o.v*c.opacity)},CVShapeElement.prototype.renderGradientFill=function(a,b,c){var d=b.style;if(!d.grd||b.g._mdf||b.s._mdf||b.e._mdf||1!==a.t&&(b.h._mdf||b.a._mdf)){var e=this.globalData.canvasContext,f=b.s.v,g=b.e.v;if(1===a.t)m=e.createLinearGradient(f[0],f[1],g[0],g[1]);else var h=Math.sqrt(Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2)),i=Math.atan2(g[1]-f[1],g[0]-f[0]),j=h*(1<=b.h.v?.99:b.h.v<=-1?-.99:b.h.v),k=Math.cos(i+b.a.v)*j+f[0],l=Math.sin(i+b.a.v)*j+f[1],m=e.createRadialGradient(k,l,0,f[0],f[1],h);var n,o=a.g.p,p=b.g.c,q=1;for(n=0;o>n;n+=1)b.g._hasOpacity&&b.g._collapsable&&(q=b.g.o[2*n+1]),m.addColorStop(p[4*n]/100,"rgba("+p[4*n+1]+","+p[4*n+2]+","+p[4*n+3]+","+q+")");d.grd=m}d.coOp=b.o.v*c.opacity},CVShapeElement.prototype.renderStroke=function(a,b,c){var d=b.style,e=b.d;e&&(e._mdf||this._isFirstFrame)&&(d.da=e.dashArray,d["do"]=e.dashoffset[0]),(b.c._mdf||this._isFirstFrame)&&(d.co="rgb("+bm_floor(b.c.v[0])+","+bm_floor(b.c.v[1])+","+bm_floor(b.c.v[2])+")"),(b.o._mdf||c._opMdf||this._isFirstFrame)&&(d.coOp=b.o.v*c.opacity),(b.w._mdf||this._isFirstFrame)&&(d.wi=b.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var a=this.canvasContext;a.fillStyle=this.data.sc,a.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var a=this.textProperty.currentData;this.renderedLetters=createSizedArray(a.l?a.l.length:0);var b=!1;a.fc?(b=!0,this.values.fill=this.buildColor(a.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=b;var c=!1;a.sc&&(c=!0,this.values.stroke=this.buildColor(a.sc),this.values.sWidth=a.sw);var d,e,f=this.globalData.fontManager.getFontByName(a.f),g=a.l,h=this.mHelper;this.stroke=c,this.values.fValue=a.finalSize+"px "+this.globalData.fontManager.getFontByName(a.f).fFamily,e=a.finalText.length;var i,j,k,l,m,n,o,p,q,r,s=this.data.singleShape,t=a.tr/1e3*a.finalSize,u=0,v=0,w=!0,x=0;for(d=0;e>d;d+=1){for(j=(i=this.globalData.fontManager.getCharData(a.finalText[d],f.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily))&&i.data||{},h.reset(),s&&g[d].n&&(u=-t,v+=a.yOffset,v+=w?1:0,w=!1),o=(m=j.shapes?j.shapes[0].it:[]).length,h.scale(a.finalSize/100,a.finalSize/100),s&&this.applyTextPropertiesToMatrix(a,h,g[d].line,u,v),q=createSizedArray(o),n=0;o>n;n+=1){for(l=m[n].ks.k.i.length,p=m[n].ks.k,r=[],k=1;l>k;k+=1)1==k&&r.push(h.applyToX(p.v[0][0],p.v[0][1],0),h.applyToY(p.v[0][0],p.v[0][1],0)),r.push(h.applyToX(p.o[k-1][0],p.o[k-1][1],0),h.applyToY(p.o[k-1][0],p.o[k-1][1],0),h.applyToX(p.i[k][0],p.i[k][1],0),h.applyToY(p.i[k][0],p.i[k][1],0),h.applyToX(p.v[k][0],p.v[k][1],0),h.applyToY(p.v[k][0],p.v[k][1],0));r.push(h.applyToX(p.o[k-1][0],p.o[k-1][1],0),h.applyToY(p.o[k-1][0],p.o[k-1][1],0),h.applyToX(p.i[0][0],p.i[0][1],0),h.applyToY(p.i[0][0],p.i[0][1],0),h.applyToX(p.v[0][0],p.v[0][1],0),h.applyToY(p.v[0][0],p.v[0][1],0)),q[n]=r}s&&(u+=g[d].l,u+=t),this.textSpans[x]?this.textSpans[x].elem=q:this.textSpans[x]={elem:q},x+=1}},CVTextElement.prototype.renderInnerContent=function(){var a,b,c,d,e,f,g=this.canvasContext;this.finalTransform.mat.props,g.font=this.values.fValue,g.lineCap="butt",g.lineJoin="miter",g.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var h,i=this.textAnimator.renderedLetters,j=this.textProperty.currentData.l;b=j.length;var k,l,m=null,n=null,o=null;for(a=0;b>a;a+=1)if(!j[a].n){if((h=i[a])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(h.p),this.globalData.renderer.ctxOpacity(h.o)),this.fill){for(h&&h.fc?m!==h.fc&&(m=h.fc,g.fillStyle=h.fc):m!==this.values.fill&&(m=this.values.fill,g.fillStyle=this.values.fill),d=(k=this.textSpans[a].elem).length,this.globalData.canvasContext.beginPath(),c=0;d>c;c+=1)for(f=(l=k[c]).length,this.globalData.canvasContext.moveTo(l[0],l[1]),e=2;f>e;e+=6)this.globalData.canvasContext.bezierCurveTo(l[e],l[e+1],l[e+2],l[e+3],l[e+4],l[e+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(h&&h.sw?o!==h.sw&&(o=h.sw,g.lineWidth=h.sw):o!==this.values.sWidth&&(o=this.values.sWidth,g.lineWidth=this.values.sWidth),h&&h.sc?n!==h.sc&&(n=h.sc,g.strokeStyle=h.sc):n!==this.values.stroke&&(n=this.values.stroke,g.strokeStyle=this.values.stroke),d=(k=this.textSpans[a].elem).length,this.globalData.canvasContext.beginPath(),c=0;d>c;c+=1)for(f=(l=k[c]).length,this.globalData.canvasContext.moveTo(l[0],l[1]),e=2;f>e;e+=6)this.globalData.canvasContext.bezierCurveTo(l[e],l[e+1],l[e+2],l[e+3],l[e+4],l[e+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}h&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var a;this.data.hasMask?((a=createNS("rect")).setAttribute("width",this.data.sw),a.setAttribute("height",this.data.sh),a.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((a=createTag("div")).style.width=this.data.sw+"px",a.style.height=this.data.sh+"px",a.style.backgroundColor=this.data.sc),this.layerElement.appendChild(a)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(a,b){for(var c,d=0;b>d;)this.elements[d]&&this.elements[d].getBaseElement&&(c=this.elements[d].getBaseElement()),d+=1;c?this.layerElement.insertBefore(a,c):this.layerElement.appendChild(a)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var a;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),a=this.svgElement;else{a=createNS("svg");var b=this.comp.data?this.comp.data:this.globalData.compSize;a.setAttribute("width",b.w),a.setAttribute("height",b.h),a.appendChild(this.shapesContainer),this.layerElement.appendChild(a)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=a},HShapeElement.prototype.getTransformedPoint=function(a,b){var c,d=a.length;for(c=0;d>c;c+=1)b=a[c].mProps.v.applyToPointArray(b[0],b[1],0);return b},HShapeElement.prototype.calculateShapeBoundingBox=function(a,b){var c,d,e,f,g,h=a.sh.v,i=a.transformers,j=h._length;if(!(1>=j)){for(c=0;j-1>c;c+=1)d=this.getTransformedPoint(i,h.v[c]),e=this.getTransformedPoint(i,h.o[c]),f=this.getTransformedPoint(i,h.i[c+1]),g=this.getTransformedPoint(i,h.v[c+1]),this.checkBounds(d,e,f,g,b);h.c&&(d=this.getTransformedPoint(i,h.v[c]),e=this.getTransformedPoint(i,h.o[c]),f=this.getTransformedPoint(i,h.i[0]),g=this.getTransformedPoint(i,h.v[0]),this.checkBounds(d,e,f,g,b))}},HShapeElement.prototype.checkBounds=function(a,b,c,d,e){this.getBoundsOfCurve(a,b,c,d);var f=this.shapeBoundingBox;e.x=bm_min(f.left,e.x),e.xMax=bm_max(f.right,e.xMax),e.y=bm_min(f.top,e.y),e.yMax=bm_max(f.bottom,e.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(a,b,c,d){for(var e,f,g,h,i,j,k,l=[[a[0],d[0]],[a[1],d[1]]],m=0;2>m;++m)if(f=6*a[m]-12*b[m]+6*c[m],e=-3*a[m]+9*b[m]-9*c[m]+3*d[m],g=3*b[m]-3*a[m],f|=0,g|=0,0!==(e|=0))(i=f*f-4*g*e)<0||(0<(j=(-f+bm_sqrt(i))/(2*e))&&1>j&&l[m].push(this.calculateF(j,a,b,c,d,m)),0<(k=(-f-bm_sqrt(i))/(2*e))&&1>k&&l[m].push(this.calculateF(k,a,b,c,d,m)));else{if(0===f)continue;0<(h=-g/f)&&1>h&&l[m].push(this.calculateF(h,a,b,c,d,m))}this.shapeBoundingBox.left=bm_min.apply(null,l[0]),this.shapeBoundingBox.top=bm_min.apply(null,l[1]),this.shapeBoundingBox.right=bm_max.apply(null,l[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,l[1])},HShapeElement.prototype.calculateF=function(a,b,c,d,e,f){return bm_pow(1-a,3)*b[f]+3*bm_pow(1-a,2)*a*c[f]+3*(1-a)*bm_pow(a,2)*d[f]+bm_pow(a,3)*e[f]},HShapeElement.prototype.calculateBoundingBox=function(a,b){var c,d=a.length;for(c=0;d>c;c+=1)a[c]&&a[c].sh?this.calculateShapeBoundingBox(a[c],b):a[c]&&a[c].it&&this.calculateBoundingBox(a[c].it,b)},HShapeElement.prototype.currentBoxContains=function(a){return this.currentBBox.x<=a.x&&this.currentBBox.y<=a.y&&this.currentBBox.width+this.currentBBox.x>=a.x+a.width&&this.currentBBox.height+this.currentBBox.y>=a.y+a.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var a=this.tempBoundingBox,b=999999;if(a.x=b,a.xMax=-b,a.y=b,a.yMax=-b,this.calculateBoundingBox(this.itemsData,a),a.width=a.xMax<a.x?0:a.xMax-a.x,a.height=a.yMax<a.y?0:a.yMax-a.y,this.currentBoxContains(a))return;var c=!1;this.currentBBox.w!==a.width&&(this.currentBBox.w=a.width,this.shapeCont.setAttribute("width",a.width),c=!0),this.currentBBox.h!==a.height&&(this.currentBBox.h=a.height,this.shapeCont.setAttribute("height",a.height),c=!0),(c||this.currentBBox.x!==a.x||this.currentBBox.y!==a.y)&&(this.currentBBox.w=a.width,this.currentBBox.h=a.height,this.currentBBox.x=a.x,this.currentBBox.y=a.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var a=createNS("g");this.maskedElement.appendChild(a),this.innerElem=a}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var a=this.textProperty.currentData;this.renderedLetters=createSizedArray(a.l?a.l.length:0);var b=this.innerElem.style;b.color=b.fill=a.fc?this.buildColor(a.fc):"rgba(0,0,0,0)",a.sc&&(b.stroke=this.buildColor(a.sc),b.strokeWidth=a.sw+"px");var c,d,e=this.globalData.fontManager.getFontByName(a.f);if(!this.globalData.fontManager.chars)if(b.fontSize=a.finalSize+"px",b.lineHeight=a.finalSize+"px",e.fClass)this.innerElem.className=e.fClass;else{b.fontFamily=e.fFamily;var f=a.fWeight,g=a.fStyle;b.fontStyle=g,b.fontWeight=f}var h,i,j,k=a.l;d=k.length;var l,m=this.mHelper,n="",o=0;for(c=0;d>c;c+=1){if(this.globalData.fontManager.chars?(this.textPaths[o]?h=this.textPaths[o]:((h=createNS("path")).setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[o]?j=(i=this.textSpans[o]).children[0]:((i=createTag("div")).style.lineHeight=0,(j=createNS("svg")).appendChild(h),styleDiv(i)))):this.isMasked?h=this.textPaths[o]?this.textPaths[o]:createNS("text"):this.textSpans[o]?(i=this.textSpans[o],h=this.textPaths[o]):(styleDiv(i=createTag("span")),styleDiv(h=createTag("span")),i.appendChild(h)),this.globalData.fontManager.chars){var p,q=this.globalData.fontManager.getCharData(a.finalText[c],e.fStyle,this.globalData.fontManager.getFontByName(a.f).fFamily);if(p=q?q.data:null,m.reset(),p&&p.shapes&&(l=p.shapes[0].it,m.scale(a.finalSize/100,a.finalSize/100),n=this.createPathShape(m,l),h.setAttribute("d",n)),this.isMasked)this.innerElem.appendChild(h);else{if(this.innerElem.appendChild(i),p&&p.shapes){document.body.appendChild(j);var r=j.getBBox();j.setAttribute("width",r.width+2),j.setAttribute("height",r.height+2),j.setAttribute("viewBox",r.x-1+" "+(r.y-1)+" "+(r.width+2)+" "+(r.height+2)),j.style.transform=j.style.webkitTransform="translate("+(r.x-1)+"px,"+(r.y-1)+"px)",k[c].yOffset=r.y-1}else j.setAttribute("width",1),j.setAttribute("height",1);i.appendChild(j)}}else h.textContent=k[c].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),
this.isMasked?this.innerElem.appendChild(h):(this.innerElem.appendChild(i),h.style.transform=h.style.webkitTransform="translate3d(0,"+-a.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[o]=h:this.textSpans[o]=i,this.textSpans[o].style.display="block",this.textPaths[o]=h,o+=1}for(;o<this.textSpans.length;)this.textSpans[o].style.display="none",o+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var a,b,c,d,e,f=0,g=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(b=h.length,a=0;b>a;a+=1)h[a].n?f+=1:(d=this.textSpans[a],e=this.textPaths[a],c=g[f],f+=1,c._mdf.m&&(this.isMasked?d.setAttribute("transform",c.m):d.style.transform=d.style.webkitTransform=c.m),d.style.opacity=c.o,c.sw&&c._mdf.sw&&e.setAttribute("stroke-width",c.sw),c.sc&&c._mdf.sc&&e.setAttribute("stroke",c.sc),c.fc&&c._mdf.fc&&(e.setAttribute("fill",c.fc),e.style.color=c.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var i=this.innerElem.getBBox();this.currentBBox.w!==i.width&&(this.currentBBox.w=i.width,this.svgElement.setAttribute("width",i.width)),this.currentBBox.h!==i.height&&(this.currentBBox.h=i.height,this.svgElement.setAttribute("height",i.height)),this.currentBBox.w===i.width+2&&this.currentBBox.h===i.height+2&&this.currentBBox.x===i.x-1&&this.currentBBox.y===i.y-1||(this.currentBBox.w=i.width+2,this.currentBBox.h=i.height+2,this.currentBBox.x=i.x-1,this.currentBBox.y=i.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var a=this.globalData.getAssetsPath(this.assetData),b=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(b),b.src=a,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var a,b,c=this.comp.threeDElements.length;for(a=0;c>a;a+=1)"3d"===(b=this.comp.threeDElements[a]).type&&(b.perspectiveElem.style.perspective=b.perspectiveElem.style.webkitPerspective=this.pe.v+"px",b.container.style.transformOrigin=b.container.style.mozTransformOrigin=b.container.style.webkitTransformOrigin="0px 0px 0px",b.perspectiveElem.style.transform=b.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var a,b,c=this._isFirstFrame;if(this.hierarchy)for(b=this.hierarchy.length,a=0;b>a;a+=1)c=this.hierarchy[a].finalTransform.mProp._mdf||c;if(c||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(a=b=this.hierarchy.length-1;a>=0;a-=1){var d=this.hierarchy[a].finalTransform.mProp;this.mat.translate(-d.p.v[0],-d.p.v[1],d.p.v[2]),this.mat.rotateX(-d.or.v[0]).rotateY(-d.or.v[1]).rotateZ(d.or.v[2]),this.mat.rotateX(-d.rx.v).rotateY(-d.ry.v).rotateZ(d.rz.v),this.mat.scale(1/d.s.v[0],1/d.s.v[1],1/d.s.v[2]),this.mat.translate(d.a.v[0],d.a.v[1],d.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var e;e=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var f=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)),g=[e[0]/f,e[1]/f,e[2]/f],h=Math.sqrt(g[2]*g[2]+g[0]*g[0]),i=Math.atan2(g[1],h),j=Math.atan2(g[0],-g[2]);this.mat.rotateY(j).rotateX(-i)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var k=!this._prevMat.equals(this.mat);if((k||this.pe._mdf)&&this.comp.threeDElements){var l;for(b=this.comp.threeDElements.length,a=0;b>a;a+=1)"3d"===(l=this.comp.threeDElements[a]).type&&(k&&(l.container.style.transform=l.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(l.perspectiveElem.style.perspective=l.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(a){this.prepareProperties(a,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){function a(a){for(var b=0,c=a.target;l>b;)j[b].animation===c&&(j.splice(b,1),b-=1,l-=1,c.isPaused||d()),b+=1}function b(a,b){if(!a)return null;for(var c=0;l>c;){if(j[c].elem==a&&null!==j[c].elem)return j[c].animation;c+=1}var d=new AnimationItem;return e(d,a),d.setData(a,b),d}function c(){m+=1,h()}function d(){m-=1}function e(b,e){b.addEventListener("destroy",a),b.addEventListener("_active",c),b.addEventListener("_idle",d),j.push({elem:e,animation:b}),l+=1}function f(a){var b,c=a-k;for(b=0;l>b;b+=1)j[b].animation.advanceTime(c);k=a,m&&!o?window.requestAnimationFrame(f):n=!0}function g(a){k=a,window.requestAnimationFrame(f)}function h(){!o&&m&&n&&(window.requestAnimationFrame(g),n=!1)}var i={},j=[],k=0,l=0,m=0,n=!0,o=!1;return i.registerAnimation=b,i.loadAnimation=function(a){var b=new AnimationItem;return e(b,null),b.setParams(a),b},i.setSpeed=function(a,b){var c;for(c=0;l>c;c+=1)j[c].animation.setSpeed(a,b)},i.setDirection=function(a,b){var c;for(c=0;l>c;c+=1)j[c].animation.setDirection(a,b)},i.play=function(a){var b;for(b=0;l>b;b+=1)j[b].animation.play(a)},i.pause=function(a){var b;for(b=0;l>b;b+=1)j[b].animation.pause(a)},i.stop=function(a){var b;for(b=0;l>b;b+=1)j[b].animation.stop(a)},i.togglePause=function(a){var b;for(b=0;l>b;b+=1)j[b].animation.togglePause(a)},i.searchAnimations=function(a,c,d){var e,f=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),g=f.length;for(e=0;g>e;e+=1)d&&f[e].setAttribute("data-bm-type",d),b(f[e],a);if(c&&0===g){d||(d="svg");var h=document.getElementsByTagName("body")[0];h.innerHTML="";var i=createTag("div");i.style.width="100%",i.style.height="100%",i.setAttribute("data-bm-type",d),h.appendChild(i),b(i,a)}},i.resize=function(){var a;for(a=0;l>a;a+=1)j[a].animation.resize()},i.goToAndStop=function(a,b,c){var d;for(d=0;l>d;d+=1)j[d].animation.goToAndStop(a,b,c)},i.destroy=function(a){var b;for(b=l-1;b>=0;b-=1)j[b].animation.destroy(a)},i.freeze=function(){o=!0},i.unfreeze=function(){o=!1,h()},i.getRegisteredAnimations=function(){var a,b=j.length,c=[];for(a=0;b>a;a+=1)c.push(j[a].animation);return c},i}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(a){a.context&&(this.context=a.context),(a.wrapper||a.container)&&(this.wrapper=a.wrapper||a.container);var b=a.animType?a.animType:a.renderer?a.renderer:"svg";switch(b){case"canvas":this.renderer=new CanvasRenderer(this,a.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,a.rendererSettings);break;default:this.renderer=new HybridRenderer(this,a.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=b,""===a.loop||null===a.loop||(!1===a.loop?this.loop=!1:!0===a.loop?this.loop=!0:this.loop=parseInt(a.loop)),this.autoplay=!("autoplay"in a)||a.autoplay,this.name=a.name?a.name:"",this.autoloadSegments=!a.hasOwnProperty("autoloadSegments")||a.autoloadSegments,this.assetsPath=a.assetsPath,a.animationData?this.configAnimation(a.animationData):a.path&&(-1!==a.path.lastIndexOf("\\")?this.path=a.path.substr(0,a.path.lastIndexOf("\\")+1):this.path=a.path.substr(0,a.path.lastIndexOf("/")+1),this.fileName=a.path.substr(a.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(a.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(a,b){var c={wrapper:a,animationData:b?"object"==typeof b?b:JSON.parse(b):null},d=a.attributes;c.path=d.getNamedItem("data-animation-path")?d.getNamedItem("data-animation-path").value:d.getNamedItem("data-bm-path")?d.getNamedItem("data-bm-path").value:d.getNamedItem("bm-path")?d.getNamedItem("bm-path").value:"",c.animType=d.getNamedItem("data-anim-type")?d.getNamedItem("data-anim-type").value:d.getNamedItem("data-bm-type")?d.getNamedItem("data-bm-type").value:d.getNamedItem("bm-type")?d.getNamedItem("bm-type").value:d.getNamedItem("data-bm-renderer")?d.getNamedItem("data-bm-renderer").value:d.getNamedItem("bm-renderer")?d.getNamedItem("bm-renderer").value:"canvas";var e=d.getNamedItem("data-anim-loop")?d.getNamedItem("data-anim-loop").value:d.getNamedItem("data-bm-loop")?d.getNamedItem("data-bm-loop").value:d.getNamedItem("bm-loop")?d.getNamedItem("bm-loop").value:"";""===e||(c.loop="false"!==e&&("true"===e||parseInt(e)));var f=d.getNamedItem("data-anim-autoplay")?d.getNamedItem("data-anim-autoplay").value:d.getNamedItem("data-bm-autoplay")?d.getNamedItem("data-bm-autoplay").value:!d.getNamedItem("bm-autoplay")||d.getNamedItem("bm-autoplay").value;c.autoplay="false"!==f,c.name=d.getNamedItem("data-name")?d.getNamedItem("data-name").value:d.getNamedItem("data-bm-name")?d.getNamedItem("data-bm-name").value:d.getNamedItem("bm-name")?d.getNamedItem("bm-name").value:"","false"===(d.getNamedItem("data-anim-prerender")?d.getNamedItem("data-anim-prerender").value:d.getNamedItem("data-bm-prerender")?d.getNamedItem("data-bm-prerender").value:d.getNamedItem("bm-prerender")?d.getNamedItem("bm-prerender").value:"")&&(c.prerender=!1),this.setParams(c)},AnimationItem.prototype.includeLayers=function(a){a.op>this.animationData.op&&(this.animationData.op=a.op,this.totalFrames=Math.floor(a.op-this.animationData.ip));var b,c,d=this.animationData.layers,e=d.length,f=a.layers,g=f.length;for(c=0;g>c;c+=1)for(b=0;e>b;){if(d[b].id==f[c].id){d[b]=f[c];break}b+=1}if((a.chars||a.fonts)&&(this.renderer.globalData.fontManager.addChars(a.chars),this.renderer.globalData.fontManager.addFonts(a.fonts,this.renderer.globalData.defs)),a.assets)for(e=a.assets.length,b=0;e>b;b+=1)this.animationData.assets.push(a.assets[b]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(a.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var a=this.animationData.segments;if(!a||0===a.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var b=a.shift();this.timeCompleted=b.time*this.frameRate;var c=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(c,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(a){if(this.renderer)try{this.animationData=a,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(a),a.assets||(a.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(a.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded()}catch(a){this.triggerConfigError(a)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(a){this.subframeEnabled=!!a},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(a){this.triggerRenderFrameError(a)}},AnimationItem.prototype.play=function(a){a&&this.name!=a||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(a){a&&this.name!=a||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(a){a&&this.name!=a||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(a){a&&this.name!=a||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(a,b,c){c&&this.name!=c||(b?this.setCurrentRawFrameValue(a):this.setCurrentRawFrameValue(a*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(a,b,c){this.goToAndStop(a,b,c),this.play()},AnimationItem.prototype.advanceTime=function(a){if(!0!==this.isPaused&&!1!==this.isLoaded){var b=this.currentRawFrame+a*this.frameModifier,c=!1;b>=this.totalFrames-1&&0<this.frameModifier?this.loop&&this.playCount!==this.loop?b>=this.totalFrames?(this.playCount+=1,this.checkSegments(b%this.totalFrames)||(this.setCurrentRawFrameValue(b%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(b):this.checkSegments(b>this.totalFrames?b%this.totalFrames:0)||(c=!0,b=this.totalFrames-1):0>b?this.checkSegments(b%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(c=!0,b=0):(this.setCurrentRawFrameValue(this.totalFrames+b%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(b),c&&(this.setCurrentRawFrameValue(b),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(a,b){this.playCount=0,a[1]<a[0]?(0<this.frameModifier&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=a[0]-a[1],this.firstFrame=a[1],this.setCurrentRawFrameValue(this.totalFrames-.001-b)):a[1]>a[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=a[1]-a[0],this.firstFrame=a[0],this.setCurrentRawFrameValue(.001+b)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(a,b){var c=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<a?c=a:this.currentRawFrame+this.firstFrame>b&&(c=b-a)),this.firstFrame=a,this.timeCompleted=this.totalFrames=b-a,-1!==c&&this.goToAndStop(c,!0)},AnimationItem.prototype.playSegments=function(a,b){if(b&&(this.segments.length=0),"object"==typeof a[0]){var c,d=a.length;for(c=0;d>c;c+=1)this.segments.push(a[c])}else this.segments.push(a);this.segments.length&&b&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(a){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),a&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(a){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),a),!0)},AnimationItem.prototype.destroy=function(a){a&&this.name!=a||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(a){this.currentRawFrame=a,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(a){this.playSpeed=a,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(a){this.playDirection=0>a?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(a){var b="";if(a.e)b=a.p;else if(this.assetsPath){var c=a.p;-1!==c.indexOf("images/")&&(c=c.split("/")[1]),b=this.assetsPath+c}else b=this.path,b+=a.u?a.u:"",b+=a.p;return b},AnimationItem.prototype.getAssetData=function(a){for(var b=0,c=this.assets.length;c>b;){if(a==this.assets[b].id)return this.assets[b];b+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(a){return a?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(a){if(this._cbs&&this._cbs[a])switch(a){case"enterFrame":this.triggerEvent(a,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(a,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(a,new BMCompleteEvent(a,this.frameMult));break;case"segmentStart":this.triggerEvent(a,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(a,new BMDestroyEvent(a,this));break;default:this.triggerEvent(a)}"enterFrame"===a&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(a,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===a&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(a,this.loop,this.playCount,this.frameMult)),"complete"===a&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(a,this.frameMult)),"segmentStart"===a&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(a,this.firstFrame,this.totalFrames)),"destroy"===a&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(a,this))},AnimationItem.prototype.triggerRenderFrameError=function(a){var b=new BMRenderFrameErrorEvent(a,this.currentFrame);this.triggerEvent("error",b),this.onError&&this.onError.call(this,b)},AnimationItem.prototype.triggerConfigError=function(a){var b=new BMConfigErrorEvent(a,this.currentFrame);this.triggerEvent("error",b),this.onError&&this.onError.call(this,b)};var Expressions=(zW={},zW.initExpressions=function(a){function b(){var a,b=d.length;for(a=0;b>a;a+=1)d[a].release();d.length=0}var c=0,d=[];a.renderer.compInterface=CompExpressionInterface(a.renderer),a.renderer.globalData.projectInterface.registerComposition(a.renderer),a.renderer.globalData.pushExpression=function(){c+=1},a.renderer.globalData.popExpression=function(){0==(c-=1)&&b()},a.renderer.globalData.registerExpressionProperty=function(a){-1===d.indexOf(a)&&d.push(a)}},zW),zW;expressionsPlugin=Expressions;var ExpressionManager=function(){function $bm_isInstanceOfArray(a){return a.constructor===Array||a.constructor===Float32Array}function isNumerable(a,b){return"number"===a||"boolean"===a||"string"===a||b instanceof Number}function $bm_neg(a){var b=typeof a;if("number"===b||"boolean"===b||a instanceof Number)return-a;if($bm_isInstanceOfArray(a)){var c,d=a.length,e=[];for(c=0;d>c;c+=1)e[c]=-a[c];return e}return a.propType?a.v:void 0}function sum(a,b){var c=typeof a,d=typeof b;if("string"===c||"string"===d)return a+b;if(isNumerable(c,a)&&isNumerable(d,b))return a+b;if($bm_isInstanceOfArray(a)&&isNumerable(d,b))return(a=a.slice(0))[0]=a[0]+b,a;if(isNumerable(c,a)&&$bm_isInstanceOfArray(b))return(b=b.slice(0))[0]=a+b[0],b;if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){for(var e=0,f=a.length,g=b.length,h=[];f>e||g>e;)("number"==typeof a[e]||a[e]instanceof Number)&&("number"==typeof b[e]||b[e]instanceof Number)?h[e]=a[e]+b[e]:h[e]=void 0===b[e]?a[e]:a[e]||b[e],e+=1;return h}return 0}function sub(a,b){var c=typeof a,d=typeof b;if(isNumerable(c,a)&&isNumerable(d,b))return"string"===c&&(a=parseInt(a)),"string"===d&&(b=parseInt(b)),a-b;if($bm_isInstanceOfArray(a)&&isNumerable(d,b))return(a=a.slice(0))[0]=a[0]-b,a;if(isNumerable(c,a)&&$bm_isInstanceOfArray(b))return(b=b.slice(0))[0]=a-b[0],b;if($bm_isInstanceOfArray(a)&&$bm_isInstanceOfArray(b)){for(var e=0,f=a.length,g=b.length,h=[];f>e||g>e;)("number"==typeof a[e]||a[e]instanceof Number)&&("number"==typeof b[e]||b[e]instanceof Number)?h[e]=a[e]-b[e]:h[e]=void 0===b[e]?a[e]:a[e]||b[e],e+=1;return h}return 0}function mul(a,b){var c,d,e,f=typeof a,g=typeof b;if(isNumerable(f,a)&&isNumerable(g,b))return a*b;if($bm_isInstanceOfArray(a)&&isNumerable(g,b)){for(e=a.length,c=createTypedArray("float32",e),d=0;e>d;d+=1)c[d]=a[d]*b;return c}if(isNumerable(f,a)&&$bm_isInstanceOfArray(b)){for(e=b.length,c=createTypedArray("float32",e),d=0;e>d;d+=1)c[d]=a*b[d];return c}return 0}function div(a,b){var c,d,e,f=typeof a,g=typeof b;if(isNumerable(f,a)&&isNumerable(g,b))return a/b;if($bm_isInstanceOfArray(a)&&isNumerable(g,b)){for(e=a.length,c=createTypedArray("float32",e),d=0;e>d;d+=1)c[d]=a[d]/b;return c}if(isNumerable(f,a)&&$bm_isInstanceOfArray(b)){for(e=b.length,c=createTypedArray("float32",e),d=0;e>d;d+=1)c[d]=a/b[d];return c}return 0}function mod(a,b){return"string"==typeof a&&(a=parseInt(a)),"string"==typeof b&&(b=parseInt(b)),a%b}function clamp(a,b,c){if(b>c){var d=c;c=b,b=d}return Math.min(Math.max(a,b),c)}function radiansToDegrees(a){return a/degToRads}function degreesToRadians(a){return a*degToRads}function length(a,b){if("number"==typeof a||a instanceof Number)return b=b||0,Math.abs(a-b);b||(b=helperLengthArray);var c,d=Math.min(a.length,b.length),e=0;for(c=0;d>c;c+=1)e+=Math.pow(b[c]-a[c],2);return Math.sqrt(e)}function normalize(a){return div(a,length(a))}function rgbToHsl(a){var b,c,d=a[0],e=a[1],f=a[2],g=Math.max(d,e,f),h=Math.min(d,e,f),i=(g+h)/2;if(g==h)b=c=0;else{var j=g-h;switch(c=i>.5?j/(2-g-h):j/(g+h),g){case d:b=(e-f)/j+(f>e?6:0);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return[b,c,i,a[3]]}function hue2rgb(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}function hslToRgb(a){var b,c,d,e=a[0],f=a[1],g=a[2];if(0===f)b=c=d=g;else{var h=.5>g?g*(1+f):g+f-g*f,i=2*g-h;b=hue2rgb(i,h,e+1/3),c=hue2rgb(i,h,e),d=hue2rgb(i,h,e-1/3)}return[b,c,d,a[3]]}function linear(a,b,c,d,e){if(void 0!==d&&void 0!==e||(d=b,e=c,b=0,c=1),b>c){var f=c;c=b,b=f}if(b>=a)return d;if(a>=c)return e;var g=c===b?0:(a-b)/(c-b);if(!d.length)return d+(e-d)*g;var h,i=d.length,j=createTypedArray("float32",i);for(h=0;i>h;h+=1)j[h]=d[h]+(e[h]-d[h])*g;return j}function random(a,b){if(void 0===b&&(void 0===a?(a=0,b=1):(b=a,a=void 0)),b.length){var c,d=b.length;a||(a=createTypedArray("float32",d));var e=createTypedArray("float32",d),f=BMMath.random();for(c=0;d>c;c+=1)e[c]=a[c]+f*(b[c]-a[c]);return e}return void 0===a&&(a=0),a+BMMath.random()*(b-a)}function createPath(a,b,c,d){var e,f=a.length,g=shape_pool.newElement();g.setPathData(!!d,f);var h,i,j=[0,0];for(e=0;f>e;e+=1)h=b&&b[e]?b[e]:j,i=c&&c[e]?c[e]:j,g.setTripleAt(a[e][0],a[e][1],i[0]+a[e][0],i[1]+a[e][1],h[0]+a[e][0],h[1]+a[e][1],e,!0);return g}function initiateExpression(elem,data,property){function loopInDuration(a,b){return loopIn(a,b,!0)}function loopOutDuration(a,b){return loopOut(a,b,!0)}function lookAt(a,b){var c=[b[0]-a[0],b[1]-a[1],b[2]-a[2]],d=Math.atan2(c[0],Math.sqrt(c[1]*c[1]+c[2]*c[2]))/degToRads;return[-Math.atan2(c[1],c[2])/degToRads,d,0]}function easeOut(a,b,c,d,e){return applyEase(easeOutBez,a,b,c,d,e)}function easeIn(a,b,c,d,e){return applyEase(easeInBez,a,b,c,d,e)}function ease(a,b,c,d,e){return applyEase(easeInOutBez,a,b,c,d,e)}function applyEase(a,b,c,d,e,f){void 0===e?(e=c,f=d):b=(b-c)/(d-c);var g=a(b=b>1?1:0>b?0:b);if($bm_isInstanceOfArray(e)){var h,i=e.length,j=createTypedArray("float32",i);for(h=0;i>h;h+=1)j[h]=(f[h]-e[h])*g+e[h];return j}return(f-e)*g+e}function nearestKey(a){var b,c,d,e=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(c=-1,(a*=elem.comp.globalData.frameRate)<data.k[0].t)c=1,d=data.k[0].t;else{for(b=0;e-1>b;b+=1){if(a===data.k[b].t){c=b+1,d=data.k[b].t;break}if(a>data.k[b].t&&a<data.k[b+1].t){d=a-data.k[b].t>data.k[b+1].t-a?(c=b+2,data.k[b+1].t):(c=b+1,data.k[b].t);break}}-1===c&&(c=b+1,d=data.k[b].t)}else d=c=0;var f={};return f.index=c,f.time=d/elem.comp.globalData.frameRate,f}function key(a){var b,c,d;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+a);a-=1,b={time:data.k[a].t/elem.comp.globalData.frameRate,value:[]};var e=data.k[a].hasOwnProperty("s")?data.k[a].s:data.k[a-1].e;for(d=e.length,c=0;d>c;c+=1)b[c]=e[c],b.value[c]=e[c];return b}function framesToTime(a,b){return b||(b=elem.comp.globalData.frameRate),a/b}function timeToFrames(a,b){return a||0===a||(a=time),b||(b=elem.comp.globalData.frameRate),a*b}function seedRandom(a){BMMath.seedrandom(randSeed+a)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(a,b){return"string"==typeof value?void 0===b?value.substring(a):value.substring(a,b):""}function substr(a,b){return"string"==typeof value?void 0===b?value.substr(a):value.substr(a,b):""}function executeExpression(a){return value=a,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),($bm_transform=transform)&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;len>i;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(a,b){var c,d,e=this.pv.length?this.pv.length:1,f=createTypedArray("float32",e),g=Math.floor(5*time);for(d=c=0;g>c;){for(d=0;e>d;d+=1)f[d]+=-b+2*b*BMMath.random();c+=1}var h=5*time,i=h-Math.floor(h),j=createTypedArray("float32",e);if(e>1){for(d=0;e>d;d+=1)j[d]=this.pv[d]+f[d]+(-b+2*b*BMMath.random())*i;return j}return this.pv+f[0]+(-b+2*b*BMMath.random())*i}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;return executeExpression}var ob={},Math=BMMath,window=null,document=null,easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get,add=sum,$bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod,radians_to_degrees=radiansToDegrees,degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(a,b,c){b.x&&(c.k=!0,c.x=!0,c.initiateExpression=ExpressionManager.initiateExpression,
c.effectsSequence.push(c.initiateExpression(a,b,c).bind(c)))},getSpeedAtTime:function(a){var b=this.getValueAtTime(a),c=this.getValueAtTime(a+-.01),d=0;if(b.length){var e;for(e=0;e<b.length;e+=1)d+=Math.pow(c[e]-b[e],2);d=100*Math.sqrt(d)}else d=0;return d},getVelocityAtTime:function(a){if(void 0!==this.vel)return this.vel;var b,c,d=this.getValueAtTime(a),e=this.getValueAtTime(a+-.001);if(d.length)for(b=createTypedArray("float32",d.length),c=0;c<d.length;c+=1)b[c]=(e[c]-d[c])/-.001;else b=(e-d)/-.001;return b},getValueAtTime:function(a){return a*=this.elem.globalData.frameRate,(a-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<a?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(a,this._cachingAtTime),this._cachingAtTime.lastFrame=a),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(a){this.propertyGroup=a}};!function(){function a(a,b,c){if(!this.k||!this.keyframes)return this.pv;a=a?a.toLowerCase():"";var d,e,f,g,h,i=this.comp.renderedFrame,j=this.keyframes,k=j[j.length-1].t;if(k>=i)return this.pv;if(c?e=k-(d=b?Math.abs(k-elem.comp.globalData.frameRate*b):Math.max(0,k-this.elem.data.ip)):((!b||b>j.length-1)&&(b=j.length-1),d=k-(e=j[j.length-1-b].t)),"pingpong"===a){if(Math.floor((i-e)/d)%2!=0)return this.getValueAtTime((d-(i-e)%d+e)/this.comp.globalData.frameRate,0)}else{if("offset"===a){var l=this.getValueAtTime(e/this.comp.globalData.frameRate,0),m=this.getValueAtTime(k/this.comp.globalData.frameRate,0),n=this.getValueAtTime(((i-e)%d+e)/this.comp.globalData.frameRate,0),o=Math.floor((i-e)/d);if(this.pv.length){for(g=(h=new Array(l.length)).length,f=0;g>f;f+=1)h[f]=(m[f]-l[f])*o+n[f];return h}return(m-l)*o+n}if("continue"===a){var p=this.getValueAtTime(k/this.comp.globalData.frameRate,0),q=this.getValueAtTime((k-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(g=(h=new Array(p.length)).length,f=0;g>f;f+=1)h[f]=p[f]+(p[f]-q[f])*((i-k)/this.comp.globalData.frameRate)/5e-4;return h}return p+(i-k)/.001*(p-q)}}return this.getValueAtTime(((i-e)%d+e)/this.comp.globalData.frameRate,0)}function b(a,b,c){if(!this.k)return this.pv;a=a?a.toLowerCase():"";var d,e,f,g,h,i=this.comp.renderedFrame,j=this.keyframes,k=j[0].t;if(i>=k)return this.pv;if(c?e=k+(d=b?Math.abs(elem.comp.globalData.frameRate*b):Math.max(0,this.elem.data.op-k)):((!b||b>j.length-1)&&(b=j.length-1),d=(e=j[b].t)-k),"pingpong"===a){if(Math.floor((k-i)/d)%2==0)return this.getValueAtTime(((k-i)%d+k)/this.comp.globalData.frameRate,0)}else{if("offset"===a){var l=this.getValueAtTime(k/this.comp.globalData.frameRate,0),m=this.getValueAtTime(e/this.comp.globalData.frameRate,0),n=this.getValueAtTime((d-(k-i)%d+k)/this.comp.globalData.frameRate,0),o=Math.floor((k-i)/d)+1;if(this.pv.length){for(g=(h=new Array(l.length)).length,f=0;g>f;f+=1)h[f]=n[f]-(m[f]-l[f])*o;return h}return n-(m-l)*o}if("continue"===a){var p=this.getValueAtTime(k/this.comp.globalData.frameRate,0),q=this.getValueAtTime((k+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(g=(h=new Array(p.length)).length,f=0;g>f;f+=1)h[f]=p[f]+(p[f]-q[f])*(k-i)/.001;return h}return p+(p-q)*(k-i)/.001}}return this.getValueAtTime((d-(k-i)%d+k)/this.comp.globalData.frameRate,0)}function c(a,b){if(!this.k)return this.pv;if(a=.5*(a||.4),(b=Math.floor(b||5))<=1)return this.pv;var c,d,e=this.comp.renderedFrame/this.comp.globalData.frameRate,f=e-a,g=b>1?(e+a-f)/(b-1):1,h=0,i=0;for(c=this.pv.length?createTypedArray("float32",this.pv.length):0;b>h;){if(d=this.getValueAtTime(f+h*g),this.pv.length)for(i=0;i<this.pv.length;i+=1)c[i]+=d[i];else c+=d;h+=1}if(this.pv.length)for(i=0;i<this.pv.length;i+=1)c[i]/=b;else c/=b;return c}function d(){}var e=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(a,b,c){var d=e(a,b,c);return d.dynamicProperties.length?d.getValueAtTime=function(a){console.warn("Transform at time not supported")}.bind(d):d.getValueAtTime=function(a){}.bind(d),d.setGroupProperty=expressionHelpers.setGroupProperty,d};var f=PropertyFactory.getProp;PropertyFactory.getProp=function(d,e,g,h,i){var j=f(d,e,g,h,i);j.kf?j.getValueAtTime=expressionHelpers.getValueAtTime.bind(j):j.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(j),j.setGroupProperty=expressionHelpers.setGroupProperty,j.loopOut=a,j.loopIn=b,j.smooth=c,j.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(j),j.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(j),j.numKeys=1===e.a?e.k.length:0,j.propertyIndex=e.ix;var k=0;return 0!==g&&(k=createTypedArray("float32",1===e.a?e.k[0].s.length:e.k.length)),j._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:k},expressionHelpers.searchExpressions(d,e,j),j.k&&i.addDynamicProperty(j),j};var g=ShapePropertyFactory.getConstructorFunction(),h=ShapePropertyFactory.getKeyframedConstructorFunction();d.prototype={vertices:function(a,b){this.k&&this.getValue();var c=this.v;void 0!==b&&(c=this.getValueAtTime(b,0));var d,e=c._length,f=c[a],g=c.v,h=createSizedArray(e);for(d=0;e>d;d+=1)h[d]="i"===a||"o"===a?[f[d][0]-g[d][0],f[d][1]-g[d][1]]:[f[d][0],f[d][1]];return h},points:function(a){return this.vertices("v",a)},inTangents:function(a){return this.vertices("i",a)},outTangents:function(a){return this.vertices("o",a)},isClosed:function(){return this.v.c},pointOnPath:function(a,b){var c=this.v;void 0!==b&&(c=this.getValueAtTime(b,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(c));for(var d,e=this._segmentsLength,f=e.lengths,g=e.totalLength*a,h=0,i=f.length,j=0;i>h;){if(j+f[h].addedLength>g){var k=h,l=c.c&&h===i-1?0:h+1,m=(g-j)/f[h].addedLength;d=bez.getPointInSegment(c.v[k],c.v[l],c.o[k],c.i[l],m,f[h]);break}j+=f[h].addedLength,h+=1}return d||(d=c.c?[c.v[0][0],c.v[0][1]]:[c.v[c._length-1][0],c.v[c._length-1][1]]),d},vectorOnPath:function(a,b,c){a=1==a?this.v.c?0:.999:a;var d=this.pointOnPath(a,b),e=this.pointOnPath(a+.001,b),f=e[0]-d[0],g=e[1]-d[1],h=Math.sqrt(Math.pow(f,2)+Math.pow(g,2));return 0===h?[0,0]:"tangent"===c?[f/h,g/h]:[-g/h,f/h]},tangentOnPath:function(a,b){return this.vectorOnPath(a,b,"tangent")},normalOnPath:function(a,b){return this.vectorOnPath(a,b,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([d],g),extendPrototype([d],h),h.prototype.getValueAtTime=function(a){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),a*=this.elem.globalData.frameRate,(a-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<a?this._caching.lastIndex:0,this._cachingAtTime.lastTime=a,this.interpolateShape(a,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},h.prototype.initiateExpression=ExpressionManager.initiateExpression;var i=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(a,b,c,d,e){var f=i(a,b,c,d,e);return f.propertyIndex=b.ix,f.lock=!1,3===c?expressionHelpers.searchExpressions(a,b.pt,f):4===c&&expressionHelpers.searchExpressions(a,b.ks,f),f.k&&a.addDynamicProperty(f),f}}(),TextProperty.prototype.getExpressionValue=function(a,b){var c=this.calculateExpression(b);if(a.t===c)return a;var d={};return this.copyData(d,a),d.t=c.toString(),d.__complete=!1,d},TextProperty.prototype.searchProperty=function(){var a=this.searchKeyframes(),b=this.searchExpressions();return this.kf=a||b,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):void 0};var ShapeExpressionInterface=function(){function a(a,l,m){var n,o=[],p=a?a.length:0;for(n=0;p>n;n+=1)"gr"==a[n].ty?o.push(b(a[n],l[n],m)):"fl"==a[n].ty?o.push(c(a[n],l[n],m)):"st"==a[n].ty?o.push(d(a[n],l[n],m)):"tm"==a[n].ty?o.push(e(a[n],l[n],m)):"tr"==a[n].ty||("el"==a[n].ty?o.push(f(a[n],l[n],m)):"sr"==a[n].ty?o.push(g(a[n],l[n],m)):"sh"==a[n].ty?o.push(k(a[n],l[n],m)):"rc"==a[n].ty?o.push(h(a[n],l[n],m)):"rd"==a[n].ty?o.push(i(a[n],l[n],m)):"rp"==a[n].ty&&o.push(j(a[n],l[n],m)));return o}function b(b,c,d){var e=function(a){switch(a){case"ADBE Vectors Group":case"Contents":case 2:return e.content;default:return e.transform}};e.propertyGroup=function(a){return 1===a?e:d(a-1)};var f,g,h,i,j,k=(f=b,g=c,h=e.propertyGroup,(j=function(a){for(var b=0,c=i.length;c>b;){if(i[b]._name===a||i[b].mn===a||i[b].propertyIndex===a||i[b].ix===a||i[b].ind===a)return i[b];b+=1}return"number"==typeof a?i[a-1]:void 0}).propertyGroup=function(a){return 1===a?j:h(a-1)},i=a(f.it,g.it,j.propertyGroup),j.numProperties=i.length,j.propertyIndex=f.cix,j._name=f.nm,j),l=function(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return a.a.ix===b||"Anchor Point"===b?e.anchorPoint:a.o.ix===b||"Opacity"===b?e.opacity:a.p.ix===b||"Position"===b?e.position:a.r.ix===b||"Rotation"===b||"ADBE Vector Rotation"===b?e.rotation:a.s.ix===b||"Scale"===b?e.scale:a.sk&&a.sk.ix===b||"Skew"===b?e.skew:a.sa&&a.sa.ix===b||"Skew Axis"===b?e.skewAxis:void 0}return b.transform.mProps.o.setGroupProperty(d),b.transform.mProps.p.setGroupProperty(d),b.transform.mProps.a.setGroupProperty(d),b.transform.mProps.s.setGroupProperty(d),b.transform.mProps.r.setGroupProperty(d),b.transform.mProps.sk&&(b.transform.mProps.sk.setGroupProperty(d),b.transform.mProps.sa.setGroupProperty(d)),b.transform.op.setGroupProperty(d),Object.defineProperties(e,{opacity:{get:ExpressionPropertyInterface(b.transform.mProps.o)},position:{get:ExpressionPropertyInterface(b.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(b.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(b.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(b.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(b.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(b.transform.mProps.sa)},_name:{value:a.nm}}),e.ty="tr",e.mn=a.mn,e.propertyGroup=c,e}(b.it[b.it.length-1],c.it[c.it.length-1],e.propertyGroup);return e.content=k,e.transform=l,Object.defineProperty(e,"_name",{get:function(){return b.nm}}),e.numProperties=b.np,e.propertyIndex=b.ix,e.nm=b.nm,e.mn=b.mn,e}function c(a,b,c){function d(a){return"Color"===a||"color"===a?d.color:"Opacity"===a||"opacity"===a?d.opacity:void 0}return Object.defineProperties(d,{color:{get:ExpressionPropertyInterface(b.c)},opacity:{get:ExpressionPropertyInterface(b.o)},_name:{value:a.nm},mn:{value:a.mn}}),b.c.setGroupProperty(c),b.o.setGroupProperty(c),d}function d(a,b,c){function d(a){return 1===a?ob:c(a-1)}function e(a){return 1===a?j:d(a-1)}function f(a){return"Color"===a||"color"===a?f.color:"Opacity"===a||"opacity"===a?f.opacity:"Stroke Width"===a||"stroke width"===a?f.strokeWidth:void 0}var g,h,i=a.d?a.d.length:0,j={};for(g=0;i>g;g+=1)h=g,Object.defineProperty(j,a.d[h].nm,{get:ExpressionPropertyInterface(b.d.dataProps[h].p)}),b.d.dataProps[g].p.setGroupProperty(e);return Object.defineProperties(f,{color:{get:ExpressionPropertyInterface(b.c)},opacity:{get:ExpressionPropertyInterface(b.o)},strokeWidth:{get:ExpressionPropertyInterface(b.w)},dash:{get:function(){return j}},_name:{value:a.nm},mn:{value:a.mn}}),b.c.setGroupProperty(d),b.o.setGroupProperty(d),b.w.setGroupProperty(d),f}function e(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return b===a.e.ix||"End"===b||"end"===b?e.end:b===a.s.ix?e.start:b===a.o.ix?e.offset:void 0}return e.propertyIndex=a.ix,b.s.setGroupProperty(d),b.e.setGroupProperty(d),b.o.setGroupProperty(d),e.propertyIndex=a.ix,e.propertyGroup=c,Object.defineProperties(e,{start:{get:ExpressionPropertyInterface(b.s)},end:{get:ExpressionPropertyInterface(b.e)},offset:{get:ExpressionPropertyInterface(b.o)},_name:{value:a.nm}}),e.mn=a.mn,e}function f(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return a.p.ix===b?e.position:a.s.ix===b?e.size:void 0}e.propertyIndex=a.ix;var f="tm"===b.sh.ty?b.sh.prop:b.sh;return f.s.setGroupProperty(d),f.p.setGroupProperty(d),Object.defineProperties(e,{size:{get:ExpressionPropertyInterface(f.s)},position:{get:ExpressionPropertyInterface(f.p)},_name:{value:a.nm}}),e.mn=a.mn,e}function g(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return a.p.ix===b?e.position:a.r.ix===b?e.rotation:a.pt.ix===b?e.points:a.or.ix===b||"ADBE Vector Star Outer Radius"===b?e.outerRadius:a.os.ix===b?e.outerRoundness:!a.ir||a.ir.ix!==b&&"ADBE Vector Star Inner Radius"!==b?a.is&&a.is.ix===b?e.innerRoundness:void 0:e.innerRadius}var f="tm"===b.sh.ty?b.sh.prop:b.sh;return e.propertyIndex=a.ix,f.or.setGroupProperty(d),f.os.setGroupProperty(d),f.pt.setGroupProperty(d),f.p.setGroupProperty(d),f.r.setGroupProperty(d),a.ir&&(f.ir.setGroupProperty(d),f.is.setGroupProperty(d)),Object.defineProperties(e,{position:{get:ExpressionPropertyInterface(f.p)},rotation:{get:ExpressionPropertyInterface(f.r)},points:{get:ExpressionPropertyInterface(f.pt)},outerRadius:{get:ExpressionPropertyInterface(f.or)},outerRoundness:{get:ExpressionPropertyInterface(f.os)},innerRadius:{get:ExpressionPropertyInterface(f.ir)},innerRoundness:{get:ExpressionPropertyInterface(f.is)},_name:{value:a.nm}}),e.mn=a.mn,e}function h(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return a.p.ix===b?e.position:a.r.ix===b?e.roundness:a.s.ix===b||"Size"===b||"ADBE Vector Rect Size"===b?e.size:void 0}var f="tm"===b.sh.ty?b.sh.prop:b.sh;return e.propertyIndex=a.ix,f.p.setGroupProperty(d),f.s.setGroupProperty(d),f.r.setGroupProperty(d),Object.defineProperties(e,{position:{get:ExpressionPropertyInterface(f.p)},roundness:{get:ExpressionPropertyInterface(f.r)},size:{get:ExpressionPropertyInterface(f.s)},_name:{value:a.nm}}),e.mn=a.mn,e}function i(a,b,c){function d(b){return a.r.ix===b||"Round Corners 1"===b?d.radius:void 0}var e=b;return d.propertyIndex=a.ix,e.rd.setGroupProperty(function(a){return 1==a?d:c(--a)}),Object.defineProperties(d,{radius:{get:ExpressionPropertyInterface(e.rd)},_name:{value:a.nm}}),d.mn=a.mn,d}function j(a,b,c){function d(a){return 1==a?e:c(--a)}function e(b){return a.c.ix===b||"Copies"===b?e.copies:a.o.ix===b||"Offset"===b?e.offset:void 0}var f=b;return e.propertyIndex=a.ix,f.c.setGroupProperty(d),f.o.setGroupProperty(d),Object.defineProperties(e,{copies:{get:ExpressionPropertyInterface(f.c)},offset:{get:ExpressionPropertyInterface(f.o)},_name:{value:a.nm}}),e.mn=a.mn,e}function k(a,b,c){function d(a){return"Shape"===a||"shape"===a||"Path"===a||"path"===a||"ADBE Vector Shape"===a||2===a?d.path:void 0}var e=b.sh;return e.setGroupProperty(function(a){return 1==a?d:c(--a)}),Object.defineProperties(d,{path:{get:function(){return e.k&&e.getValue(),e}},shape:{get:function(){return e.k&&e.getValue(),e}},_name:{value:a.nm},ix:{value:a.ix},propertyIndex:{value:a.ix},mn:{value:a.mn}}),d}return function(b,c,d){function e(a){if("number"==typeof a)return f[a-1];for(var b=0,c=f.length;c>b;){if(f[b]._name===a)return f[b];b+=1}}var f;return e.propertyGroup=d,f=a(b,c,e),e.numProperties=f.length,e}}(),TextExpressionInterface=function(a){function b(){}var c;return Object.defineProperty(b,"sourceText",{get:function(){a.textProperty.getValue();var b=a.textProperty.currentData.t;return void 0!==b&&(a.textProperty.currentData.t=void 0,(c=new String(b)).value=b||new String(b)),c}}),b},LayerExpressionInterface=function(){function a(a,b){var c=new Matrix;if(c.reset(),this._elem.finalTransform.mProp.applyToMatrix(c),this._elem.hierarchy&&this._elem.hierarchy.length){var d,e=this._elem.hierarchy.length;for(d=0;e>d;d+=1)this._elem.hierarchy[d].finalTransform.mProp.applyToMatrix(c);return c.applyToPointArray(a[0],a[1],a[2]||0)}return c.applyToPointArray(a[0],a[1],a[2]||0)}function b(a,b){var c=new Matrix;if(c.reset(),this._elem.finalTransform.mProp.applyToMatrix(c),this._elem.hierarchy&&this._elem.hierarchy.length){var d,e=this._elem.hierarchy.length;for(d=0;e>d;d+=1)this._elem.hierarchy[d].finalTransform.mProp.applyToMatrix(c);return c.inversePoint(a)}return c.inversePoint(a)}function c(a){var b=new Matrix;if(b.reset(),this._elem.finalTransform.mProp.applyToMatrix(b),this._elem.hierarchy&&this._elem.hierarchy.length){var c,d=this._elem.hierarchy.length;for(c=0;d>c;c+=1)this._elem.hierarchy[c].finalTransform.mProp.applyToMatrix(b);return b.inversePoint(a)}return b.inversePoint(a)}function d(){return[1,1,1,1]}return function(e){function f(a){switch(a){case"ADBE Root Vectors Group":case"Contents":case 2:return f.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return g;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return f.effect}}var g;f.toWorld=a,f.fromWorld=b,f.toComp=a,f.fromComp=c,f.sampleImage=d,f.sourceRectAtTime=e.sourceRectAtTime.bind(e);var h=getDescriptor(g=TransformExpressionInterface((f._elem=e).finalTransform.mProp),"anchorPoint");return Object.defineProperties(f,{hasParent:{get:function(){return e.hierarchy.length}},parent:{get:function(){return e.hierarchy[0].layerInterface}},rotation:getDescriptor(g,"rotation"),scale:getDescriptor(g,"scale"),position:getDescriptor(g,"position"),opacity:getDescriptor(g,"opacity"),anchorPoint:h,anchor_point:h,transform:{get:function(){return g}},active:{get:function(){return e.isInRange}}}),f.startTime=e.data.st,f.index=e.data.ind,f.source=e.data.refId,f.height=0===e.data.ty?e.data.h:100,f.width=0===e.data.ty?e.data.w:100,f.inPoint=e.data.ip/e.comp.globalData.frameRate,f.outPoint=e.data.op/e.comp.globalData.frameRate,f._name=e.data.nm,f.registerMaskInterface=function(a){f.mask=new MaskManagerInterface(a,e)},f.registerEffectsInterface=function(a){f.effect=a},f}}(),CompExpressionInterface=function(a){function b(b){for(var c=0,d=a.layers.length;d>c;){if(a.layers[c].nm===b||a.layers[c].ind===b)return a.elements[c].layerInterface;c+=1}return null}return Object.defineProperty(b,"_name",{value:a.data.nm}),(b.layer=b).pixelAspect=1,b.height=a.data.h||a.globalData.compSize.h,b.width=a.data.w||a.globalData.compSize.w,b.pixelAspect=1,b.frameDuration=1/a.globalData.frameRate,b.displayStartTime=0,b.numLayers=a.layers.length,b},TransformExpressionInterface=function(a){function b(a){switch(a){case"scale":case"Scale":case"ADBE Scale":case 6:return b.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return b.rotation;case"ADBE Rotate X":return b.xRotation;case"ADBE Rotate Y":return b.yRotation;case"position":case"Position":case"ADBE Position":case 2:return b.position;case"ADBE Position_0":return b.xPosition;case"ADBE Position_1":return b.yPosition;case"ADBE Position_2":return b.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return b.anchorPoint;case"opacity":case"Opacity":case 11:return b.opacity}}if(Object.defineProperty(b,"rotation",{get:ExpressionPropertyInterface(a.r||a.rz)}),Object.defineProperty(b,"zRotation",{get:ExpressionPropertyInterface(a.rz||a.r)}),Object.defineProperty(b,"xRotation",{get:ExpressionPropertyInterface(a.rx)}),Object.defineProperty(b,"yRotation",{get:ExpressionPropertyInterface(a.ry)}),Object.defineProperty(b,"scale",{get:ExpressionPropertyInterface(a.s)}),a.p)var c=ExpressionPropertyInterface(a.p);return Object.defineProperty(b,"position",{get:function(){return a.p?c():[a.px.v,a.py.v,a.pz?a.pz.v:0]}}),Object.defineProperty(b,"xPosition",{get:ExpressionPropertyInterface(a.px)}),Object.defineProperty(b,"yPosition",{get:ExpressionPropertyInterface(a.py)}),Object.defineProperty(b,"zPosition",{get:ExpressionPropertyInterface(a.pz)}),Object.defineProperty(b,"anchorPoint",{get:ExpressionPropertyInterface(a.a)}),Object.defineProperty(b,"opacity",{get:ExpressionPropertyInterface(a.o)}),Object.defineProperty(b,"skew",{get:ExpressionPropertyInterface(a.sk)}),Object.defineProperty(b,"skewAxis",{get:ExpressionPropertyInterface(a.sa)}),Object.defineProperty(b,"orientation",{get:ExpressionPropertyInterface(a.or)}),b},ProjectInterface=function(){function a(a){this.compositions.push(a)}return function(){function b(a){for(var b=0,c=this.compositions.length;c>b;){if(this.compositions[b].data&&this.compositions[b].data.nm===a)return this.compositions[b].prepareFrame&&this.compositions[b].data.xt&&this.compositions[b].prepareFrame(this.currentFrame),this.compositions[b].compInterface;b+=1}}return b.compositions=[],b.currentFrame=0,b.registerComposition=a,b}}(),EffectsExpressionInterface=function(){function a(c,d,e,f){function g(a){return 1===a?k:e(a-1)}var h,i=[],j=c.ef.length;for(h=0;j>h;h+=1)5===c.ef[h].ty?i.push(a(c.ef[h],d.effectElements[h],d.effectElements[h].propertyGroup,f)):i.push(b(d.effectElements[h],c.ef[h].ty,f,g));var k=function(a){for(var b=c.ef,d=0,e=b.length;e>d;){if(a===b[d].nm||a===b[d].mn||a===b[d].ix)return 5===b[d].ty?i[d]:i[d]();d+=1}return i[0]()};return k.propertyGroup=g,"ADBE Color Control"===c.mn&&Object.defineProperty(k,"color",{get:function(){return i[0]()}}),Object.defineProperty(k,"numProperties",{get:function(){return c.np}}),k.active=k.enabled=0!==c.en,k}function b(a,b,c,d){var e=ExpressionPropertyInterface(a.p);return a.p.setGroupProperty&&a.p.setGroupProperty(d),function(){return 10===b?c.comp.compInterface(a.p.v):e()}}return{createEffectsInterface:function(b,c){if(b.effectsManager){var d,e=[],f=b.data.ef,g=b.effectsManager.effectElements.length;for(d=0;g>d;d+=1)e.push(a(f[d],b.effectsManager.effectElements[d],c,b));return function(a){for(var c=b.data.ef||[],d=0,f=c.length;f>d;){if(a===c[d].nm||a===c[d].mn||a===c[d].ix)return e[d];d+=1}}}}}}(),MaskManagerInterface=function(){function a(a,b){this._mask=a,this._data=b}return Object.defineProperty(a.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(a.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(b,c){var d,e=createSizedArray(b.viewData.length),f=b.viewData.length;for(d=0;f>d;d+=1)e[d]=new a(b.viewData[d],b.masksProperties[d]);return function(a){for(d=0;f>d;){if(b.masksProperties[d].nm===a)return e[d];d+=1}}}}(),ExpressionPropertyInterface=function(){function a(a,b,c){Object.defineProperty(a,"velocity",{get:function(){return b.getVelocityAtTime(b.comp.currentFrame)}}),a.numKeys=b.keyframes?b.keyframes.length:0,a.key=function(d){if(a.numKeys){var e="";e="s"in b.keyframes[d-1]?b.keyframes[d-1].s:"e"in b.keyframes[d-2]?b.keyframes[d-2].e:b.keyframes[d-2].s;var f="unidimensional"===c?new Number(e):Object.assign({},e);return f.time=b.keyframes[d-1].t/b.elem.comp.globalData.frameRate,f}return 0},a.valueAtTime=b.getValueAtTime,a.speedAtTime=b.getSpeedAtTime,a.velocityAtTime=b.getVelocityAtTime,a.propertyGroup=b.propertyGroup}function b(){return c}var c={pv:0,v:0,mult:1},d={pv:[0,0,0],v:[0,0,0],mult:1};return function(e){return e?"unidimensional"===e.propType?function(b){b&&"pv"in b||(b=c);var d=1/b.mult,e=b.pv*d,f=new Number(e);return f.value=e,a(f,b,"unidimensional"),function(){return b.k&&b.getValue(),e=b.v*d,f.value!==e&&((f=new Number(e)).value=e,a(f,b,"unidimensional")),f}}(e):function(b){b&&"pv"in b||(b=d);var c=1/b.mult,e=b.pv.length,f=createTypedArray("float32",e),g=createTypedArray("float32",e);return f.value=g,a(f,b,"multidimensional"),function(){b.k&&b.getValue();for(var a=0;e>a;a+=1)f[a]=g[a]=b.v[a]*c;return f}}(e):b}}(),h5,i5;h5=function(){function a(a,b){return this.textIndex=a+1,this.textTotal=b,this.v=this.getValue()*this.mult,this.v}return function(b,c){this.pv=1,this.comp=b.comp,this.elem=b,this.mult=.01,this.propType="textSelector",this.textTotal=c.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(b,c,this),this.getMult=a,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),i5=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(a,b,c){return 1===b.t?new h5(a,b,c):i5(a,b,c)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(a,b){this.data=a,this.effectElements=[],this.initDynamicPropertyContainer(b);var c,d,e=this.data.ef.length,f=this.data.ef;for(c=0;e>c;c+=1){switch(d=null,f[c].ty){case 0:d=new SliderEffect(f[c],b,this);break;case 1:d=new AngleEffect(f[c],b,this);break;case 2:d=new ColorEffect(f[c],b,this);break;case 3:d=new PointEffect(f[c],b,this);break;case 4:case 7:d=new CheckboxEffect(f[c],b,this);break;case 10:d=new LayerIndexEffect(f[c],b,this);break;case 11:d=new MaskIndexEffect(f[c],b,this);break;case 5:d=new EffectsManager(f[c],b,this);break;default:d=new NoValueEffect(f[c],b,this)}d&&this.effectElements.push(d)}};var lottiejs={},_isFrozen=!1;lottiejs.play=animationManager.play,lottiejs.pause=animationManager.pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=animationManager.togglePause,lottiejs.setSpeed=animationManager.setSpeed,lottiejs.setDirection=animationManager.setDirection,lottiejs.stop=animationManager.stop,lottiejs.searchAnimations=searchAnimations,lottiejs.registerAnimation=animationManager.registerAnimation,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=animationManager.resize,lottiejs.goToAndStop=animationManager.goToAndStop,lottiejs.destroy=animationManager.destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.freeze=animationManager.freeze,lottiejs.unfreeze=animationManager.unfreeze,lottiejs.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottiejs.__getFactory=getFactory,lottiejs.version="5.5.8";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottiejs},"function"==typeof define&&define.amd?define(function(){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(a):(a.lottie=b(a),a.bodymovin=a.lottie));